{"version":3,"file":"bundle.js","sources":["../node_modules/svelte/src/runtime/internal/utils.js","../node_modules/svelte/src/runtime/internal/dom.js","../node_modules/svelte/src/runtime/internal/lifecycle.js","../node_modules/svelte/src/runtime/internal/scheduler.js","../node_modules/svelte/src/runtime/internal/transitions.js","../node_modules/svelte/src/runtime/internal/Component.js","../node_modules/deep-chat-dev/dist/deepChat.js","../node_modules/svelte/src/runtime/internal/disclose-version/index.js","../node_modules/svelte/src/shared/version.js","../App.svelte","../index.js"],"sourcesContent":["/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro  restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro  we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro  needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeFunction(fn) { try { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; } catch (e) { return typeof fn === \"function\"; } }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar bs = /*#__PURE__*/function () {\n  function bs() {\n    _classCallCheck(this, bs);\n  }\n  _createClass(bs, null, [{\n    key: \"render\",\n    value: function render(e, t) {\n      var i = document.createElement(\"div\");\n      i.id = \"error-view\", i.innerText = t, e.replaceChildren(i);\n    }\n  }]);\n  return bs;\n}();\nvar Dt = /*#__PURE__*/function () {\n  function Dt() {\n    _classCallCheck(this, Dt);\n  }\n  _createClass(Dt, null, [{\n    key: \"onLoad\",\n    value: function onLoad(e) {\n      e.innerHTML = '<div id=\"large-loading-ring\"></div>';\n    }\n  }, {\n    key: \"createElements\",\n    value: function createElements() {\n      var e = document.createElement(\"div\");\n      return e.id = \"validate-property-key-view\", e;\n    }\n  }, {\n    key: \"render\",\n    value: function render(e, t, i) {\n      var n = Dt.createElements(),\n        r = {\n          onSuccess: t,\n          onFail: bs.render.bind(this, e, \"Your 'key' has failed authentication\"),\n          onLoad: Dt.onLoad.bind(this, n)\n        };\n      i.key && i.verifyKey(i.key, r), e.replaceChildren(n);\n    }\n  }]);\n  return Dt;\n}();\nvar T = /*#__PURE__*/function () {\n  function T() {\n    _classCallCheck(this, T);\n  }\n  _createClass(T, null, [{\n    key: \"unsetStyle\",\n    value: function unsetStyle(e, t) {\n      var i = Object.keys(t).reduce(function (n, r) {\n        return n[r] = \"\", n;\n      }, {});\n      Object.assign(e.style, i);\n    }\n  }, {\n    key: \"unsetActivityCSSMouseStates\",\n    value: function unsetActivityCSSMouseStates(e, t) {\n      t.click && T.unsetStyle(e, t.click), t.hover && T.unsetStyle(e, t.hover);\n    }\n  }, {\n    key: \"unsetAllCSSMouseStates\",\n    value: function unsetAllCSSMouseStates(e, t) {\n      T.unsetActivityCSSMouseStates(e, t), t[\"default\"] && T.unsetStyle(e, t[\"default\"]);\n    }\n  }, {\n    key: \"processStateful\",\n    value: function processStateful(e, t, i) {\n      var n = e[\"default\"] || {},\n        r = Object.assign(JSON.parse(JSON.stringify(_objectSpread(_objectSpread({}, n), t))), e == null ? void 0 : e.hover),\n        o = Object.assign(JSON.parse(JSON.stringify(_objectSpread(_objectSpread({}, r), i))), e == null ? void 0 : e.click);\n      return {\n        \"default\": n,\n        hover: r,\n        click: o\n      };\n    }\n  }, {\n    key: \"mergeStatefulStyles\",\n    value: function mergeStatefulStyles(e) {\n      var t = {\n        \"default\": {},\n        hover: {},\n        click: {}\n      };\n      return e.forEach(function (i) {\n        t[\"default\"] = Object.assign(t[\"default\"], i[\"default\"]), t.hover = Object.assign(t.hover, i.hover), t.click = Object.assign(t.click, i.click);\n      }), t;\n    }\n  }, {\n    key: \"overwriteDefaultWithAlreadyApplied\",\n    value: function overwriteDefaultWithAlreadyApplied(e, t) {\n      Object.keys(e[\"default\"] || []).forEach(function (i) {\n        var r;\n        var n = i;\n        t.style[n] && (r = e[\"default\"]) != null && r[n] && (e[\"default\"][i] = t.style[n]);\n      });\n    }\n  }, {\n    key: \"applyToStyleIfNotDefined\",\n    value: function applyToStyleIfNotDefined(e, t) {\n      for (var i in t) {\n        var n = t[i];\n        e[i] === \"\" && n && (e[i] = n);\n      }\n    }\n  }]);\n  return T;\n}();\nvar Bn = /*#__PURE__*/function () {\n  function Ot() {\n    _classCallCheck(this, Ot);\n  }\n  _createClass(Ot, null, [{\n    key: \"apply\",\n    value: function apply(e, t) {\n      if (t) try {\n        Ot.applyStyleSheet(e, t);\n      } catch (_unused) {\n        Ot.addStyleElement(e, t);\n      }\n    }\n  }, {\n    key: \"applyStyleSheet\",\n    value: function applyStyleSheet(e, t) {\n      var i = new CSSStyleSheet();\n      i.replaceSync(e), t.adoptedStyleSheets.push(i);\n    }\n  }, {\n    key: \"addStyleElement\",\n    value: function addStyleElement(e, t) {\n      var i = document.createElement(\"style\");\n      i.innerHTML = e, t.appendChild(i);\n    }\n  }, {\n    key: \"applyDefaultStyleToComponent\",\n    value: function applyDefaultStyleToComponent(e, t) {\n      t && T.applyToStyleIfNotDefined(e, t), T.applyToStyleIfNotDefined(e, Ot.DEFAULT_COMPONENT_STYLE);\n    }\n  }]);\n  return Ot;\n}();\nBn.DEFAULT_COMPONENT_STYLE = {\n  height: \"350px\",\n  width: \"320px\",\n  border: \"1px solid #cacaca\",\n  fontFamily: \"'Inter', sans-serif, Avenir, Helvetica, Arial\",\n  fontSize: \"0.9rem\",\n  backgroundColor: \"white\",\n  position: \"relative\",\n  // this is used to prevent inputAreaStyle background color from going beyond the container's rounded border\n  // it will cause issues if there are elements that are meant to be outside of the chat component and in\n  // that instance they should overwrite this\n  // this is also causing the chat to squeeze when there is no space\n  overflow: \"hidden\"\n};\nvar Ei = Bn;\nvar R = /* @__PURE__ */function (s) {\n  return s.ESCAPE = \"Escape\", s.ENTER = \"Enter\", s.TAB = \"Tab\", s.ARROW_UP = \"ArrowUp\", s.ARROW_DOWN = \"ArrowDown\", s.ARROW_RIGHT = \"ArrowRight\", s.ARROW_LEFT = \"ArrowLeft\", s.BACKSPACE = \"Backspace\", s.DELETE = \"Delete\", s.META = \"Meta\", s.CONTROL = \"Control\", s;\n}(R || {});\nvar ge = /*#__PURE__*/_createClass(function ge() {\n  _classCallCheck(this, ge);\n});\nge.IS_SAFARI = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nge.IS_CHROMIUM = window.chrome;\nvar zn = /*#__PURE__*/function () {\n  function nt() {\n    _classCallCheck(this, nt);\n  }\n  _createClass(nt, null, [{\n    key: \"add\",\n    value: function add(e, t, i) {\n      t !== void 0 && e.addEventListener(\"keydown\", nt.onKeyDown.bind(this, t)), e.oninput = nt.onInput.bind(this, t, i);\n    }\n    // preventing insertion early for a nicer UX\n    // prettier-ignore\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e, t) {\n      var n = t.target.textContent;\n      n && n.length >= e && !nt.PERMITTED_KEYS.has(t.key) && !nt.isKeyCombinationPermitted(t) && t.preventDefault();\n    }\n  }, {\n    key: \"isKeyCombinationPermitted\",\n    value: function isKeyCombinationPermitted(e) {\n      return e.key === \"a\" ? e.ctrlKey || e.metaKey : !1;\n    }\n  }, {\n    key: \"onInput\",\n    value: function onInput(e, t, i) {\n      var n = i.target,\n        r = n.textContent || \"\";\n      e !== void 0 && r.length > e && (n.textContent = r.substring(0, e), Qt.focusEndOfInput(n)), t == null || t();\n    }\n  }]);\n  return nt;\n}();\nzn.PERMITTED_KEYS = /* @__PURE__ */new Set([R.BACKSPACE, R.DELETE, R.ARROW_RIGHT, R.ARROW_LEFT, R.ARROW_DOWN, R.ARROW_UP, R.META, R.CONTROL, R.ENTER]);\nvar vs = zn;\nvar ys = /*#__PURE__*/function () {\n  function ys() {\n    _classCallCheck(this, ys);\n  }\n  _createClass(ys, null, [{\n    key: \"sanitizePastedTextContent\",\n    value: function sanitizePastedTextContent(e) {\n      var i, n;\n      e.preventDefault();\n      var t = (i = e.clipboardData) == null ? void 0 : i.getData(\"text/plain\");\n      (n = document.execCommand) == null || n.call(document, \"insertHTML\", !1, t);\n    }\n  }]);\n  return ys;\n}();\nvar Un = /*#__PURE__*/function () {\n  function qe(e, t) {\n    var _this = this;\n    _classCallCheck(this, qe);\n    var n;\n    var i = qe.processConfig(t, e.textInput);\n    this.elementRef = qe.createContainerElement((n = i == null ? void 0 : i.styles) == null ? void 0 : n.container), this.inputElementRef = this.createInputElement(i), this._config = i, this.elementRef.appendChild(this.inputElementRef), setTimeout(function () {\n      var r;\n      vs.add(_this.inputElementRef, (r = e.textInput) == null ? void 0 : r.characterLimit, e._validationHandler);\n    });\n  }\n  _createClass(qe, [{\n    key: \"createInputElement\",\n    value: function createInputElement(e) {\n      var i, n, r;\n      var t = document.createElement(\"div\");\n      return t.id = qe.TEXT_INPUT_ID, t.classList.add(\"text-input-styling\", \"text-input-placeholder\"), t.innerText = ((i = e == null ? void 0 : e.placeholder) == null ? void 0 : i.text) || \"Ask me anything!\", ge.IS_CHROMIUM && qe.preventAutomaticScrollUpOnNewLine(t), typeof (e == null ? void 0 : e.disabled) == \"boolean\" && e.disabled === !0 ? (t.contentEditable = \"false\", t.classList.add(\"text-input-disabled\")) : (t.contentEditable = \"true\", this.addEventListeners(t, e)), Object.assign(t.style, (n = e == null ? void 0 : e.styles) == null ? void 0 : n.text), Object.assign(t.style, (r = e == null ? void 0 : e.placeholder) == null ? void 0 : r.style), t;\n    }\n  }, {\n    key: \"removeTextIfPlaceholder\",\n    value: function removeTextIfPlaceholder() {\n      var e, t, i, n;\n      this.inputElementRef.classList.contains(\"text-input-placeholder\") && !this.inputElementRef.classList.contains(\"text-input-disabled\") && ((e = this._config.placeholder) != null && e.style && (T.unsetStyle(this.inputElementRef, (t = this._config.placeholder) == null ? void 0 : t.style), Object.assign(this.inputElementRef.style, (n = (i = this._config) == null ? void 0 : i.styles) == null ? void 0 : n.text)), qe.clear(this.inputElementRef), this.inputElementRef.classList.remove(\"text-input-placeholder\"));\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(e, t) {\n      var i, n, r;\n      e.onfocus = this.onFocus.bind(this, (i = t == null ? void 0 : t.styles) == null ? void 0 : i.focus), (n = t == null ? void 0 : t.styles) != null && n.focus && (e.onblur = this.onBlur.bind(this, t.styles.focus, (r = t == null ? void 0 : t.styles) == null ? void 0 : r.container)), e.addEventListener(\"keydown\", this.onKeydown.bind(this)), e.onpaste = ys.sanitizePastedTextContent;\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus(e) {\n      var _this2 = this;\n      ge.IS_SAFARI ? setTimeout(function () {\n        _this2.removeTextIfPlaceholder();\n      }) : this.removeTextIfPlaceholder(), Object.assign(this.elementRef.style, e);\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur(e, t) {\n      T.unsetStyle(this.elementRef, e), t && Object.assign(this.elementRef.style, t);\n    }\n  }, {\n    key: \"onKeydown\",\n    value: function onKeydown(e) {\n      var t;\n      e.key === R.ENTER && !e.ctrlKey && !e.shiftKey && (e.preventDefault(), (t = this.submit) == null || t.call(this));\n    }\n  }], [{\n    key: \"processConfig\",\n    value: function processConfig(e, t) {\n      var _t2, _t$disabled, _t$placeholder, _i$text;\n      var i;\n      return (_t2 = t) !== null && _t2 !== void 0 ? _t2 : t = {}, (_t$disabled = t.disabled) !== null && _t$disabled !== void 0 ? _t$disabled : t.disabled = e.isTextInputDisabled, (_t$placeholder = t.placeholder) !== null && _t$placeholder !== void 0 ? _t$placeholder : t.placeholder = {}, (_i$text = (i = t.placeholder).text) !== null && _i$text !== void 0 ? _i$text : i.text = e.textInputPlaceholderText, t;\n    }\n    // this is is a bug fix where if the browser is scrolled down and the user types in text that creates new line\n    // the browser scrollbar will move up which leads to undesirable UX.\n    // More details in this Stack Overflow question:\n    // https://stackoverflow.com/questions/76285135/prevent-automatic-scroll-when-text-is-inserted-into-contenteditable-div\n    // prettier-ignore\n  }, {\n    key: \"preventAutomaticScrollUpOnNewLine\",\n    value: function preventAutomaticScrollUpOnNewLine(e) {\n      var t;\n      e.addEventListener(\"keydown\", function () {\n        t = window.scrollY;\n      }), e.addEventListener(\"input\", function () {\n        t !== window.scrollY && window.scrollTo({\n          top: t\n        });\n      });\n    }\n    // this also similarly prevents scroll up\n  }, {\n    key: \"clear\",\n    value: function clear(e) {\n      var t = window.scrollY;\n      e.classList.contains(\"text-input-disabled\") || (e.textContent = \"\"), ge.IS_CHROMIUM && window.scrollTo({\n        top: t\n      });\n    }\n  }, {\n    key: \"toggleEditability\",\n    value: function toggleEditability(e, t) {\n      e.contentEditable = t ? \"true\" : \"false\";\n    }\n  }, {\n    key: \"createContainerElement\",\n    value: function createContainerElement(e) {\n      var t = document.createElement(\"div\");\n      return t.id = \"text-input-container\", Object.assign(t.style, e), t;\n    }\n  }]);\n  return qe;\n}();\nUn.TEXT_INPUT_ID = \"text-input\";\nvar qi = Un;\nvar Qt = /*#__PURE__*/function () {\n  function Qt() {\n    _classCallCheck(this, Qt);\n  }\n  _createClass(Qt, null, [{\n    key: \"focusEndOfInput\",\n    value: function focusEndOfInput(e) {\n      var t = document.createRange();\n      t.selectNodeContents(e), t.collapse(!1);\n      var i = window.getSelection();\n      i == null || i.removeAllRanges(), i == null || i.addRange(t);\n    }\n  }, {\n    key: \"focusFromParentElement\",\n    value: function focusFromParentElement(e) {\n      var t = e.querySelector(\"#\".concat(qi.TEXT_INPUT_ID));\n      t && Qt.focusEndOfInput(t);\n    }\n  }]);\n  return Qt;\n}();\nfunction on(s) {\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\nfunction xs(s) {\n  return s && JSON.stringify(s);\n}\nfunction Hi(s, e, t, i) {\n  var n = \"\\n\".concat(on(e), \" message: \").concat(JSON.stringify(s), \" \\n\"),\n    r = t ? \"\".concat(on(e), \" message after interceptor: \").concat(xs(i), \" \\n\") : \"\";\n  return n + r;\n}\nfunction Es(s, e, t, i) {\n  return \"\".concat(Hi(s, e, t, i), \"Make sure the \").concat(e, \" message is using the Response format: https://deepchat.dev/docs/connect/#Response \\nYou can also augment it using the responseInterceptor property: https://deepchat.dev/docs/interceptors#responseInterceptor\");\n}\nfunction Ss(s, e, t) {\n  var i = \"response\";\n  return \"\".concat(Hi(s, i, e, t), \"Make sure the \").concat(i, \" message is using the {text: string} format, e.g: {text: \\\"Model Response\\\"}\");\n}\nfunction ws(s, e) {\n  var t = \"request\";\n  return \"\".concat(Hi(s, t, e), \"Make sure the \").concat(t, \" message is using the {body: {text: string}} format, e.g: {body: {text: \\\"Model Response\\\"}}\");\n}\nvar an = \"Make sure the events are using {text: string} or {html: string} format.\\nYou can also augment them using the responseInterceptor property: https://deepchat.dev/docs/interceptors#responseInterceptor\",\n  C = {\n    INVALID_KEY: \"Invalid API Key\",\n    CONNECTION_FAILED: \"Failed to connect\",\n    INVALID_RESPONSE: Es,\n    INVALID_MODEL_REQUEST: ws,\n    INVALID_MODEL_RESPONSE: Ss,\n    INVALID_STREAM_EVENT: an,\n    INVALID_STREAM_EVENT_MIX: \"Cannot mix {text: string} and {html: string} responses.\",\n    NO_VALID_STREAM_EVENTS_SENT: \"No valid stream events were sent.\\n\".concat(an)\n  },\n  qn = /*#__PURE__*/function () {\n    function Hn() {\n      _classCallCheck(this, Hn);\n    }\n    _createClass(Hn, null, [{\n      key: \"addElements\",\n      value: function addElements(e) {\n        for (var _len = arguments.length, t = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          t[_key - 1] = arguments[_key];\n        }\n        t.forEach(function (i) {\n          return e.appendChild(i);\n        });\n      }\n    }, {\n      key: \"isScrollbarAtBottomOfElement\",\n      value: function isScrollbarAtBottomOfElement(e) {\n        var t = e.scrollHeight,\n          i = e.clientHeight,\n          n = e.scrollTop,\n          r = t - i;\n        return n >= r - Hn.CODE_SNIPPET_GENERATION_JUMP;\n      }\n    }, {\n      key: \"cloneElement\",\n      value: function cloneElement(e) {\n        var t = e.cloneNode(!0);\n        return e.parentNode.replaceChild(t, e), t;\n      }\n    }, {\n      key: \"scrollToBottom\",\n      value: function scrollToBottom(e) {\n        e.scrollTop = e.scrollHeight;\n      }\n    }, {\n      key: \"scrollToTop\",\n      value: function scrollToTop(e) {\n        e.scrollTop = 0;\n      }\n    }]);\n    return Hn;\n  }();\nqn.CODE_SNIPPET_GENERATION_JUMP = 0.5;\nvar Y = qn;\nvar Gn = /*#__PURE__*/function () {\n  function Vn() {\n    _classCallCheck(this, Vn);\n  }\n  _createClass(Vn, null, [{\n    key: \"speak\",\n    value: function speak(e, t) {\n      if (window.SpeechSynthesisUtterance) {\n        var i = new SpeechSynthesisUtterance(e);\n        Object.assign(i, t), speechSynthesis.speak(i);\n      }\n    }\n  }, {\n    key: \"processConfig\",\n    value: function processConfig(e, t) {\n      var i = {};\n      setTimeout(function () {\n        if (_typeof(e) == \"object\" && (e.lang && (i.lang = e.lang), e.pitch && (i.pitch = e.pitch), e.rate && (i.rate = e.rate), e.volume && (i.volume = e.volume), e.voiceName)) {\n          var n = window.speechSynthesis.getVoices().find(function (r) {\n            var o;\n            return r.name.toLocaleLowerCase() === ((o = e.voiceName) == null ? void 0 : o.toLocaleLowerCase());\n          });\n          n && (i.voice = n);\n        }\n        t(i);\n      }, Vn.LOAD_VOICES_MS);\n    }\n  }]);\n  return Vn;\n}();\nGn.LOAD_VOICES_MS = 200;\nvar Nt = Gn;\nvar ke = /*#__PURE__*/function () {\n  function ke() {\n    _classCallCheck(this, ke);\n  }\n  _createClass(ke, null, [{\n    key: \"checkForContainerStyles\",\n    value: function checkForContainerStyles(e, t) {\n      var i = e.containerStyle;\n      i && (Object.assign(t.style, i), console.error(\"The containerStyle property is deprecated since version 1.3.14.\"), console.error(\"Please change to using the style property instead: https://deepchat.dev/docs/styles#style\"));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  }, {\n    key: \"handleResponseProperty\",\n    value: function handleResponseProperty(e) {\n      return console.error(\"The {result: ....} response object type is deprecated since version 1.3.0.\"), console.error(\"Please change to using the new response object: https://deepchat.dev/docs/connect#Response\"), e.result;\n    }\n  }, {\n    key: \"processInitialMessageFile\",\n    value: function processInitialMessageFile(e) {\n      var t = e.file;\n      t && (console.error(\"The file property in MessageContent is deprecated since version 1.3.17.\"), console.error(\"Please change to using the files array property: https://deepchat.dev/docs/messages/#MessageContent\"), e.files = [t]);\n    }\n  }, {\n    key: \"processValidateInput\",\n    value: function processValidateInput(e) {\n      var t = e.validateMessageBeforeSending;\n      if (t) return console.error(\"The validateMessageBeforeSending property is deprecated since version 1.3.24.\"), console.error(\"Please change to using validateInput: https://deepchat.dev/docs/interceptors#validateInput\"), t;\n    }\n  }, {\n    key: \"processSubmitUserMessage\",\n    value: function processSubmitUserMessage(e) {\n      return console.error(\"The submitUserMessage(text: string) argument string type is deprecated since version 1.4.4.\"), console.error(\"Please change to using the new argument type: https://deepchat.dev/docs/methods#submitUserMessage\"), {\n        text: e\n      };\n    }\n  }, {\n    key: \"flagHTMLUpdateClass\",\n    value: function flagHTMLUpdateClass(e) {\n      var t;\n      (t = e.children[0]) != null && t.classList.contains(\"deep-chat-update-message\") && (console.error('The \"deep-chat-update-message\" html class is deprecated since version 1.4.4.'), console.error(\"Please change to using {..., overwrite: true} object: https://deepchat.dev/docs/connect#Response\"));\n    }\n  }]);\n  return ke;\n}();\nvar ei = /*#__PURE__*/function () {\n  function xe() {\n    _classCallCheck(this, xe);\n  }\n  _createClass(xe, null, [{\n    key: \"getLastElementsByClass\",\n    value: function getLastElementsByClass(e, t, i) {\n      var _loop = function _loop() {\n          var r = e[n];\n          if (r.bubbleElement.classList.contains(t[0]) && !t.slice(1).find(function (a) {\n            return !r.bubbleElement.classList.contains(a);\n          })) if (i) {\n            if (!i.find(function (l) {\n              return r.bubbleElement.classList.contains(l);\n            })) return {\n              v: r\n            };\n          } else return {\n            v: r\n          };\n        },\n        _ret;\n      for (var n = e.length - 1; n >= 0; n -= 1) {\n        _ret = _loop();\n        if (_ret) return _ret.v;\n      }\n    }\n  }, {\n    key: \"getLastMessage\",\n    value: function getLastMessage(e, t, i) {\n      for (var n = e.length - 1; n >= 0; n -= 1) if (e[n].role === t) if (i) {\n        if (e[n][i]) return e[n];\n      } else return e[n];\n    }\n  }, {\n    key: \"getLastTextToElement\",\n    value: function getLastTextToElement(e, t) {\n      for (var i = e.length - 1; i >= 0; i -= 1) if (e[i][0] === t) return e[i];\n    }\n    // IMPORTANT: If the overwrite message does not contain a role property it will look for the last 'ai' role message\n    // and if messages have custom roles, it will still look to update the last 'ai' role message\n    // prettier-ignore\n  }, {\n    key: \"overwriteMessage\",\n    value: function overwriteMessage(e, t, i, n, r, o) {\n      var a = xe.getLastElementsByClass(t, [xe.getRoleClass(n), o], [\"loading-message-text\"]),\n        l = xe.getLastMessage(e, n, r);\n      return l && (l[r] = i), a;\n    }\n  }, {\n    key: \"getRoleClass\",\n    value: function getRoleClass(e) {\n      return \"\".concat(e, \"-message\");\n    }\n    // makes sure the bubble has dimensions when there is no text\n  }, {\n    key: \"fillEmptyMessageElement\",\n    value: function fillEmptyMessageElement(e, t) {\n      t.trim().length === 0 && (e.classList.add(xe.EMPTY_MESSAGE_CLASS), e.innerHTML = '<div style=\"color:#00000000\">.</div>');\n    }\n  }, {\n    key: \"unfillEmptyMessageElement\",\n    value: function unfillEmptyMessageElement(e, t) {\n      e.classList.contains(xe.EMPTY_MESSAGE_CLASS) && t.trim().length > 0 && e.replaceChildren();\n    }\n  }, {\n    key: \"getLastMessageBubbleElement\",\n    value: function getLastMessageBubbleElement(e) {\n      var t, i, n;\n      return Array.from(((n = (i = (t = xe.getLastMessageElement(e)) == null ? void 0 : t.children) == null ? void 0 : i[0]) == null ? void 0 : n.children) || []).find(function (r) {\n        return r.classList.contains(\"message-bubble\");\n      });\n    }\n  }, {\n    key: \"getLastMessageElement\",\n    value: function getLastMessageElement(e) {\n      return e.children[e.children.length - 1];\n    }\n  }]);\n  return xe;\n}();\nei.AI_ROLE = \"ai\";\nei.USER_ROLE = \"user\";\nei.EMPTY_MESSAGE_CLASS = \"empty-message\";\nvar v = ei;\nvar Te = /*#__PURE__*/function () {\n  function Te() {\n    _classCallCheck(this, Te);\n  }\n  _createClass(Te, null, [{\n    key: \"mouseUp\",\n    value: function mouseUp(e, t) {\n      T.unsetAllCSSMouseStates(e, t), Object.assign(e.style, t[\"default\"]), Object.assign(e.style, t.hover);\n    }\n  }, {\n    key: \"mouseDown\",\n    value: function mouseDown(e, t) {\n      Object.assign(e.style, t.click);\n    }\n  }, {\n    key: \"mouseLeave\",\n    value: function mouseLeave(e, t) {\n      T.unsetAllCSSMouseStates(e, t), Object.assign(e.style, t[\"default\"]);\n    }\n  }, {\n    key: \"mouseEnter\",\n    value: function mouseEnter(e, t) {\n      Object.assign(e.style, t.hover);\n    }\n  }, {\n    key: \"add\",\n    value: function add(e, t) {\n      e.addEventListener(\"mouseenter\", Te.mouseEnter.bind(this, e, t)), e.addEventListener(\"mouseleave\", Te.mouseLeave.bind(this, e, t)), e.addEventListener(\"mousedown\", Te.mouseDown.bind(this, e, t)), e.addEventListener(\"mouseup\", Te.mouseUp.bind(this, e, t));\n    }\n  }]);\n  return Te;\n}();\nvar _s = \"deep-chat-temporary-message\",\n  Ms = \"deep-chat-suggestion-button\",\n  Ri = {\n    \"deep-chat-button\": {\n      styles: {\n        \"default\": {\n          backgroundColor: \"white\",\n          padding: \"5px\",\n          paddingLeft: \"7px\",\n          paddingRight: \"7px\",\n          border: \"1px solid #c2c2c2\",\n          borderRadius: \"6px\",\n          cursor: \"pointer\"\n        },\n        hover: {\n          backgroundColor: \"#fafafa\"\n        },\n        click: {\n          backgroundColor: \"#f1f1f1\"\n        }\n      }\n    }\n  },\n  ln = Object.keys(Ri);\nvar be = /*#__PURE__*/function () {\n  function be() {\n    _classCallCheck(this, be);\n  }\n  _createClass(be, null, [{\n    key: \"applySuggestionEvent\",\n    value: function applySuggestionEvent(e, t) {\n      setTimeout(function () {\n        t.addEventListener(\"click\", function () {\n          var i, n;\n          (n = e.submitUserMessage) == null || n.call(e, {\n            text: ((i = t.textContent) == null ? void 0 : i.trim()) || \"\"\n          });\n        });\n      });\n    }\n  }, {\n    key: \"isElementTemporary\",\n    value: function isElementTemporary(e) {\n      var t;\n      return e ? (t = e.bubbleElement.children[0]) == null ? void 0 : t.classList.contains(_s) : !1;\n    }\n  }, {\n    key: \"doesElementContainDeepChatClass\",\n    value: function doesElementContainDeepChatClass(e) {\n      return ln.find(function (t) {\n        return e.classList.contains(t);\n      });\n    }\n  }, {\n    key: \"applyEvents\",\n    value: function applyEvents(e, t) {\n      var i = Ri[t].events;\n      Object.keys(i || []).forEach(function (n) {\n        e.addEventListener(n, i == null ? void 0 : i[n]);\n      });\n    }\n  }, {\n    key: \"getProcessedStyles\",\n    value: function getProcessedStyles(e, t, i) {\n      var n = Array.from(t.classList).reduce(function (a, l) {\n          var d;\n          var c = (d = e[l]) == null ? void 0 : d.styles;\n          return c && e[l].styles && a.push(c), a;\n        }, []),\n        r = Ri[i].styles;\n      if (r) {\n        var a = JSON.parse(JSON.stringify(r));\n        a[\"default\"] && T.overwriteDefaultWithAlreadyApplied(a, t), n.unshift(a);\n      }\n      var o = T.mergeStatefulStyles(n);\n      return T.processStateful(o, {}, {});\n    }\n  }, {\n    key: \"applyDeepChatUtilities\",\n    value: function applyDeepChatUtilities(e, t, i) {\n      ln.forEach(function (r) {\n        var o = i.getElementsByClassName(r);\n        Array.from(o || []).forEach(function (a) {\n          var l = be.getProcessedStyles(t, a, r);\n          se.applyStylesToElement(a, l), be.applyEvents(a, r);\n        });\n      });\n      var n = i.getElementsByClassName(Ms);\n      Array.from(n).forEach(function (r) {\n        return be.applySuggestionEvent(e, r);\n      });\n    }\n  }]);\n  return be;\n}();\nvar se = /*#__PURE__*/function () {\n  function se() {\n    _classCallCheck(this, se);\n  }\n  _createClass(se, null, [{\n    key: \"applyStylesToElement\",\n    value: function applyStylesToElement(e, t) {\n      var i = T.processStateful(t, {}, {});\n      Te.add(e, i), Object.assign(e.style, i[\"default\"]);\n    }\n  }, {\n    key: \"applyEventsToElement\",\n    value: function applyEventsToElement(e, t) {\n      Object.keys(t).forEach(function (i) {\n        var n = t[i];\n        n && e.addEventListener(i, n);\n      });\n    }\n  }, {\n    key: \"applyClassUtilitiesToElement\",\n    value: function applyClassUtilitiesToElement(e, t) {\n      var i = t.events,\n        n = t.styles;\n      i && se.applyEventsToElement(e, i), n && !be.doesElementContainDeepChatClass(e) && se.applyStylesToElement(e, n);\n    }\n  }, {\n    key: \"applyCustomClassUtilities\",\n    value: function applyCustomClassUtilities(e, t) {\n      Object.keys(e).forEach(function (i) {\n        var n = t.getElementsByClassName(i);\n        Array.from(n).forEach(function (r) {\n          e[i] && se.applyClassUtilitiesToElement(r, e[i]);\n        });\n      });\n    }\n  }, {\n    key: \"apply\",\n    value: function apply(e, t) {\n      be.applyDeepChatUtilities(e, e.htmlClassUtilities, t), se.applyCustomClassUtilities(e.htmlClassUtilities, t);\n    }\n  }]);\n  return se;\n}();\nvar Ye = /*#__PURE__*/function () {\n  function Ye() {\n    _classCallCheck(this, Ye);\n  }\n  _createClass(Ye, null, [{\n    key: \"addElement\",\n    value: function addElement(e, t) {\n      e.elementRef.appendChild(t), e.elementRef.scrollTop = e.elementRef.scrollHeight;\n    }\n  }, {\n    key: \"createElements\",\n    value: function createElements(e, t, i) {\n      var n = e.createNewMessageElement(\"\", i);\n      return n.bubbleElement.classList.add(\"html-message\"), n.bubbleElement.innerHTML = t, n;\n    }\n  }, {\n    key: \"overwrite\",\n    value: function overwrite(e, t, i, n) {\n      var r = e.messages,\n        o = v.overwriteMessage(r, n, t, i, \"html\", \"html-message\");\n      return o && (o.bubbleElement.innerHTML = t, se.apply(e, o.outerContainer), ke.flagHTMLUpdateClass(o.bubbleElement)), o;\n    }\n    // prettier-ignore\n  }, {\n    key: \"add\",\n    value: function add(e, t, i, n, r) {\n      var a;\n      if (r != null && r.status) {\n        var l = this.overwrite(e, t, i, n);\n        if (l) return l;\n        r.status = !1;\n      }\n      var o = Ye.createElements(e, t, i);\n      return v.fillEmptyMessageElement(o.bubbleElement, t), se.apply(e, o.outerContainer), ke.flagHTMLUpdateClass(o.bubbleElement), e.applyCustomStyles(o, i, !1, (a = e.messageStyles) == null ? void 0 : a.html), Ye.addElement(e, o.outerContainer), o;\n    }\n  }]);\n  return Ye;\n}();\nvar kt;\nfunction Wn(s) {\n  return kt = kt || document.createElement(\"textarea\"), kt.innerHTML = \"&\" + s + \";\", kt.value;\n}\nvar Ts = Object.prototype.hasOwnProperty;\nfunction Cs(s, e) {\n  return s ? Ts.call(s, e) : !1;\n}\nfunction Kn(s) {\n  var e = [].slice.call(arguments, 1);\n  return e.forEach(function (t) {\n    if (t) {\n      if (_typeof(t) != \"object\") throw new TypeError(t + \"must be object\");\n      Object.keys(t).forEach(function (i) {\n        s[i] = t[i];\n      });\n    }\n  }), s;\n}\nvar As = /\\\\([\\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\nfunction ft(s) {\n  return s.indexOf(\"\\\\\") < 0 ? s : s.replace(As, \"$1\");\n}\nfunction Jn(s) {\n  return !(s >= 55296 && s <= 57343 || s >= 64976 && s <= 65007 || (s & 65535) === 65535 || (s & 65535) === 65534 || s >= 0 && s <= 8 || s === 11 || s >= 14 && s <= 31 || s >= 127 && s <= 159 || s > 1114111);\n}\nfunction Oi(s) {\n  if (s > 65535) {\n    s -= 65536;\n    var e = 55296 + (s >> 10),\n      t = 56320 + (s & 1023);\n    return String.fromCharCode(e, t);\n  }\n  return String.fromCharCode(s);\n}\nvar ks = /&([a-z#][a-z0-9]{1,31});/gi,\n  Is = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\nfunction Ls(s, e) {\n  var t = 0,\n    i = Wn(e);\n  return e !== i ? i : e.charCodeAt(0) === 35 && Is.test(e) && (t = e[1].toLowerCase() === \"x\" ? parseInt(e.slice(2), 16) : parseInt(e.slice(1), 10), Jn(t)) ? Oi(t) : s;\n}\nfunction Ie(s) {\n  return s.indexOf(\"&\") < 0 ? s : s.replace(ks, Ls);\n}\nvar Rs = /[&<>\"]/,\n  Os = /[&<>\"]/g,\n  Ns = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\"\n  };\nfunction Ps(s) {\n  return Ns[s];\n}\nfunction z(s) {\n  return Rs.test(s) ? s.replace(Os, Ps) : s;\n}\nvar m = {};\nm.blockquote_open = function () {\n  return \"<blockquote>\\n\";\n};\nm.blockquote_close = function (s, e) {\n  return \"</blockquote>\" + Re(s, e);\n};\nm.code = function (s, e) {\n  return s[e].block ? \"<pre><code>\" + z(s[e].content) + \"</code></pre>\" + Re(s, e) : \"<code>\" + z(s[e].content) + \"</code>\";\n};\nm.fence = function (s, e, t, i, n) {\n  var r = s[e],\n    o = \"\",\n    a = t.langPrefix,\n    l = \"\",\n    c,\n    d,\n    u;\n  if (r.params) {\n    if (c = r.params.split(/\\s+/g), d = c.join(\" \"), Cs(n.rules.fence_custom, c[0])) return n.rules.fence_custom[c[0]](s, e, t, i, n);\n    l = z(Ie(ft(d))), o = ' class=\"' + a + l + '\"';\n  }\n  return t.highlight ? u = t.highlight.apply(t.highlight, [r.content].concat(c)) || z(r.content) : u = z(r.content), \"<pre><code\" + o + \">\" + u + \"</code></pre>\" + Re(s, e);\n};\nm.fence_custom = {};\nm.heading_open = function (s, e) {\n  return \"<h\" + s[e].hLevel + \">\";\n};\nm.heading_close = function (s, e) {\n  return \"</h\" + s[e].hLevel + \">\\n\";\n};\nm.hr = function (s, e, t) {\n  return (t.xhtmlOut ? \"<hr />\" : \"<hr>\") + Re(s, e);\n};\nm.bullet_list_open = function () {\n  return \"<ul>\\n\";\n};\nm.bullet_list_close = function (s, e) {\n  return \"</ul>\" + Re(s, e);\n};\nm.list_item_open = function () {\n  return \"<li>\";\n};\nm.list_item_close = function () {\n  return \"</li>\\n\";\n};\nm.ordered_list_open = function (s, e) {\n  var t = s[e],\n    i = t.order > 1 ? ' start=\"' + t.order + '\"' : \"\";\n  return \"<ol\" + i + \">\\n\";\n};\nm.ordered_list_close = function (s, e) {\n  return \"</ol>\" + Re(s, e);\n};\nm.paragraph_open = function (s, e) {\n  return s[e].tight ? \"\" : \"<p>\";\n};\nm.paragraph_close = function (s, e) {\n  var t = !(s[e].tight && e && s[e - 1].type === \"inline\" && !s[e - 1].content);\n  return (s[e].tight ? \"\" : \"</p>\") + (t ? Re(s, e) : \"\");\n};\nm.link_open = function (s, e, t) {\n  var i = s[e].title ? ' title=\"' + z(Ie(s[e].title)) + '\"' : \"\",\n    n = t.linkTarget ? ' target=\"' + t.linkTarget + '\"' : \"\";\n  return '<a href=\"' + z(s[e].href) + '\"' + i + n + \">\";\n};\nm.link_close = function () {\n  return \"</a>\";\n};\nm.image = function (s, e, t) {\n  var i = ' src=\"' + z(s[e].src) + '\"',\n    n = s[e].title ? ' title=\"' + z(Ie(s[e].title)) + '\"' : \"\",\n    r = ' alt=\"' + (s[e].alt ? z(Ie(ft(s[e].alt))) : \"\") + '\"',\n    o = t.xhtmlOut ? \" /\" : \"\";\n  return \"<img\" + i + r + n + o + \">\";\n};\nm.table_open = function () {\n  return \"<table>\\n\";\n};\nm.table_close = function () {\n  return \"</table>\\n\";\n};\nm.thead_open = function () {\n  return \"<thead>\\n\";\n};\nm.thead_close = function () {\n  return \"</thead>\\n\";\n};\nm.tbody_open = function () {\n  return \"<tbody>\\n\";\n};\nm.tbody_close = function () {\n  return \"</tbody>\\n\";\n};\nm.tr_open = function () {\n  return \"<tr>\";\n};\nm.tr_close = function () {\n  return \"</tr>\\n\";\n};\nm.th_open = function (s, e) {\n  var t = s[e];\n  return \"<th\" + (t.align ? ' style=\"text-align:' + t.align + '\"' : \"\") + \">\";\n};\nm.th_close = function () {\n  return \"</th>\";\n};\nm.td_open = function (s, e) {\n  var t = s[e];\n  return \"<td\" + (t.align ? ' style=\"text-align:' + t.align + '\"' : \"\") + \">\";\n};\nm.td_close = function () {\n  return \"</td>\";\n};\nm.strong_open = function () {\n  return \"<strong>\";\n};\nm.strong_close = function () {\n  return \"</strong>\";\n};\nm.em_open = function () {\n  return \"<em>\";\n};\nm.em_close = function () {\n  return \"</em>\";\n};\nm.del_open = function () {\n  return \"<del>\";\n};\nm.del_close = function () {\n  return \"</del>\";\n};\nm.ins_open = function () {\n  return \"<ins>\";\n};\nm.ins_close = function () {\n  return \"</ins>\";\n};\nm.mark_open = function () {\n  return \"<mark>\";\n};\nm.mark_close = function () {\n  return \"</mark>\";\n};\nm.sub = function (s, e) {\n  return \"<sub>\" + z(s[e].content) + \"</sub>\";\n};\nm.sup = function (s, e) {\n  return \"<sup>\" + z(s[e].content) + \"</sup>\";\n};\nm.hardbreak = function (s, e, t) {\n  return t.xhtmlOut ? \"<br />\\n\" : \"<br>\\n\";\n};\nm.softbreak = function (s, e, t) {\n  return t.breaks ? t.xhtmlOut ? \"<br />\\n\" : \"<br>\\n\" : \"\\n\";\n};\nm.text = function (s, e) {\n  return z(s[e].content);\n};\nm.htmlblock = function (s, e) {\n  return s[e].content;\n};\nm.htmltag = function (s, e) {\n  return s[e].content;\n};\nm.abbr_open = function (s, e) {\n  return '<abbr title=\"' + z(Ie(s[e].title)) + '\">';\n};\nm.abbr_close = function () {\n  return \"</abbr>\";\n};\nm.footnote_ref = function (s, e) {\n  var t = Number(s[e].id + 1).toString(),\n    i = \"fnref\" + t;\n  return s[e].subId > 0 && (i += \":\" + s[e].subId), '<sup class=\"footnote-ref\"><a href=\"#fn' + t + '\" id=\"' + i + '\">[' + t + \"]</a></sup>\";\n};\nm.footnote_block_open = function (s, e, t) {\n  var i = t.xhtmlOut ? \"<hr class=\\\"footnotes-sep\\\" />\\n\" : \"<hr class=\\\"footnotes-sep\\\">\\n\";\n  return i + \"<section class=\\\"footnotes\\\">\\n<ol class=\\\"footnotes-list\\\">\\n\";\n};\nm.footnote_block_close = function () {\n  return \"</ol>\\n</section>\\n\";\n};\nm.footnote_open = function (s, e) {\n  var t = Number(s[e].id + 1).toString();\n  return '<li id=\"fn' + t + '\"  class=\"footnote-item\">';\n};\nm.footnote_close = function () {\n  return \"</li>\\n\";\n};\nm.footnote_anchor = function (s, e) {\n  var t = Number(s[e].id + 1).toString(),\n    i = \"fnref\" + t;\n  return s[e].subId > 0 && (i += \":\" + s[e].subId), ' <a href=\"#' + i + '\" class=\"footnote-backref\"></a>';\n};\nm.dl_open = function () {\n  return \"<dl>\\n\";\n};\nm.dt_open = function () {\n  return \"<dt>\";\n};\nm.dd_open = function () {\n  return \"<dd>\";\n};\nm.dl_close = function () {\n  return \"</dl>\\n\";\n};\nm.dt_close = function () {\n  return \"</dt>\\n\";\n};\nm.dd_close = function () {\n  return \"</dd>\\n\";\n};\nfunction $n(s, e) {\n  return ++e >= s.length - 2 ? e : s[e].type === \"paragraph_open\" && s[e].tight && s[e + 1].type === \"inline\" && s[e + 1].content.length === 0 && s[e + 2].type === \"paragraph_close\" && s[e + 2].tight ? $n(s, e + 2) : e;\n}\nvar Re = m.getBreak = function (e, t) {\n  return t = $n(e, t), t < e.length && e[t].type === \"list_item_close\" ? \"\" : \"\\n\";\n};\nfunction Gi() {\n  this.rules = Kn({}, m), this.getBreak = m.getBreak;\n}\nGi.prototype.renderInline = function (s, e, t) {\n  for (var i = this.rules, n = s.length, r = 0, o = \"\"; n--;) o += i[s[r].type](s, r++, e, t, this);\n  return o;\n};\nGi.prototype.render = function (s, e, t) {\n  for (var i = this.rules, n = s.length, r = -1, o = \"\"; ++r < n;) s[r].type === \"inline\" ? o += this.renderInline(s[r].children, e, t) : o += i[s[r].type](s, r, e, t, this);\n  return o;\n};\nfunction H() {\n  this.__rules__ = [], this.__cache__ = null;\n}\nH.prototype.__find__ = function (s) {\n  for (var e = this.__rules__.length, t = -1; e--;) if (this.__rules__[++t].name === s) return t;\n  return -1;\n};\nH.prototype.__compile__ = function () {\n  var s = this,\n    e = [\"\"];\n  s.__rules__.forEach(function (t) {\n    t.enabled && t.alt.forEach(function (i) {\n      e.indexOf(i) < 0 && e.push(i);\n    });\n  }), s.__cache__ = {}, e.forEach(function (t) {\n    s.__cache__[t] = [], s.__rules__.forEach(function (i) {\n      i.enabled && (t && i.alt.indexOf(t) < 0 || s.__cache__[t].push(i.fn));\n    });\n  });\n};\nH.prototype.at = function (s, e, t) {\n  var i = this.__find__(s),\n    n = t || {};\n  if (i === -1) throw new Error(\"Parser rule not found: \" + s);\n  this.__rules__[i].fn = e, this.__rules__[i].alt = n.alt || [], this.__cache__ = null;\n};\nH.prototype.before = function (s, e, t, i) {\n  var n = this.__find__(s),\n    r = i || {};\n  if (n === -1) throw new Error(\"Parser rule not found: \" + s);\n  this.__rules__.splice(n, 0, {\n    name: e,\n    enabled: !0,\n    fn: t,\n    alt: r.alt || []\n  }), this.__cache__ = null;\n};\nH.prototype.after = function (s, e, t, i) {\n  var n = this.__find__(s),\n    r = i || {};\n  if (n === -1) throw new Error(\"Parser rule not found: \" + s);\n  this.__rules__.splice(n + 1, 0, {\n    name: e,\n    enabled: !0,\n    fn: t,\n    alt: r.alt || []\n  }), this.__cache__ = null;\n};\nH.prototype.push = function (s, e, t) {\n  var i = t || {};\n  this.__rules__.push({\n    name: s,\n    enabled: !0,\n    fn: e,\n    alt: i.alt || []\n  }), this.__cache__ = null;\n};\nH.prototype.enable = function (s, e) {\n  s = Array.isArray(s) ? s : [s], e && this.__rules__.forEach(function (t) {\n    t.enabled = !1;\n  }), s.forEach(function (t) {\n    var i = this.__find__(t);\n    if (i < 0) throw new Error(\"Rules manager: invalid rule name \" + t);\n    this.__rules__[i].enabled = !0;\n  }, this), this.__cache__ = null;\n};\nH.prototype.disable = function (s) {\n  s = Array.isArray(s) ? s : [s], s.forEach(function (e) {\n    var t = this.__find__(e);\n    if (t < 0) throw new Error(\"Rules manager: invalid rule name \" + e);\n    this.__rules__[t].enabled = !1;\n  }, this), this.__cache__ = null;\n};\nH.prototype.getRules = function (s) {\n  return this.__cache__ === null && this.__compile__(), this.__cache__[s] || [];\n};\nfunction Ds(s) {\n  s.inlineMode ? s.tokens.push({\n    type: \"inline\",\n    content: s.src.replace(/\\n/g, \" \").trim(),\n    level: 0,\n    lines: [0, 1],\n    children: []\n  }) : s.block.parse(s.src, s.options, s.env, s.tokens);\n}\nfunction Oe(s, e, t, i, n) {\n  this.src = s, this.env = i, this.options = t, this.parser = e, this.tokens = n, this.pos = 0, this.posMax = this.src.length, this.level = 0, this.pending = \"\", this.pendingLevel = 0, this.cache = [], this.isInLabel = !1, this.linkLevel = 0, this.linkContent = \"\", this.labelUnmatchedScopes = 0;\n}\nOe.prototype.pushPending = function () {\n  this.tokens.push({\n    type: \"text\",\n    content: this.pending,\n    level: this.pendingLevel\n  }), this.pending = \"\";\n};\nOe.prototype.push = function (s) {\n  this.pending && this.pushPending(), this.tokens.push(s), this.pendingLevel = this.level;\n};\nOe.prototype.cacheSet = function (s, e) {\n  for (var t = this.cache.length; t <= s; t++) this.cache.push(0);\n  this.cache[s] = e;\n};\nOe.prototype.cacheGet = function (s) {\n  return s < this.cache.length ? this.cache[s] : 0;\n};\nfunction mt(s, e) {\n  var t,\n    i,\n    n,\n    r = -1,\n    o = s.posMax,\n    a = s.pos,\n    l = s.isInLabel;\n  if (s.isInLabel) return -1;\n  if (s.labelUnmatchedScopes) return s.labelUnmatchedScopes--, -1;\n  for (s.pos = e + 1, s.isInLabel = !0, t = 1; s.pos < o;) {\n    if (n = s.src.charCodeAt(s.pos), n === 91) t++;else if (n === 93 && (t--, t === 0)) {\n      i = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return i ? (r = s.pos, s.labelUnmatchedScopes = 0) : s.labelUnmatchedScopes = t - 1, s.pos = a, s.isInLabel = l, r;\n}\nfunction js(s, e, t, i) {\n  var n, r, o, a, l, c;\n  if (s.charCodeAt(0) !== 42 || s.charCodeAt(1) !== 91 || s.indexOf(\"]:\") === -1 || (n = new Oe(s, e, t, i, []), r = mt(n, 1), r < 0 || s.charCodeAt(r + 1) !== 58)) return -1;\n  for (a = n.posMax, o = r + 2; o < a && n.src.charCodeAt(o) !== 10; o++);\n  return l = s.slice(2, r), c = s.slice(r + 2, o).trim(), c.length === 0 ? -1 : (i.abbreviations || (i.abbreviations = {}), _typeof(i.abbreviations[\":\" + l]) > \"u\" && (i.abbreviations[\":\" + l] = c), o);\n}\nfunction Fs(s) {\n  var e = s.tokens,\n    t,\n    i,\n    n,\n    r;\n  if (!s.inlineMode) {\n    for (t = 1, i = e.length - 1; t < i; t++) if (e[t - 1].type === \"paragraph_open\" && e[t].type === \"inline\" && e[t + 1].type === \"paragraph_close\") {\n      for (n = e[t].content; n.length && (r = js(n, s.inline, s.options, s.env), !(r < 0));) n = n.slice(r).trim();\n      e[t].content = n, n.length || (e[t - 1].tight = !0, e[t + 1].tight = !0);\n    }\n  }\n}\nfunction Ni(s) {\n  var e = Ie(s);\n  try {\n    e = decodeURI(e);\n  } catch (_unused2) {}\n  return encodeURI(e);\n}\nfunction Yn(s, e) {\n  var t,\n    i,\n    n,\n    r = e,\n    o = s.posMax;\n  if (s.src.charCodeAt(e) === 60) {\n    for (e++; e < o;) {\n      if (t = s.src.charCodeAt(e), t === 10) return !1;\n      if (t === 62) return n = Ni(ft(s.src.slice(r + 1, e))), s.parser.validateLink(n) ? (s.pos = e + 1, s.linkContent = n, !0) : !1;\n      if (t === 92 && e + 1 < o) {\n        e += 2;\n        continue;\n      }\n      e++;\n    }\n    return !1;\n  }\n  for (i = 0; e < o && (t = s.src.charCodeAt(e), !(t === 32 || t < 32 || t === 127));) {\n    if (t === 92 && e + 1 < o) {\n      e += 2;\n      continue;\n    }\n    if (t === 40 && (i++, i > 1) || t === 41 && (i--, i < 0)) break;\n    e++;\n  }\n  return r === e || (n = ft(s.src.slice(r, e)), !s.parser.validateLink(n)) ? !1 : (s.linkContent = n, s.pos = e, !0);\n}\nfunction Zn(s, e) {\n  var t,\n    i = e,\n    n = s.posMax,\n    r = s.src.charCodeAt(e);\n  if (r !== 34 && r !== 39 && r !== 40) return !1;\n  for (e++, r === 40 && (r = 41); e < n;) {\n    if (t = s.src.charCodeAt(e), t === r) return s.pos = e + 1, s.linkContent = ft(s.src.slice(i + 1, e)), !0;\n    if (t === 92 && e + 1 < n) {\n      e += 2;\n      continue;\n    }\n    e++;\n  }\n  return !1;\n}\nfunction Xn(s) {\n  return s.trim().replace(/\\s+/g, \" \").toUpperCase();\n}\nfunction Bs(s, e, t, i) {\n  var n, r, o, a, l, c, d, u, p;\n  if (s.charCodeAt(0) !== 91 || s.indexOf(\"]:\") === -1 || (n = new Oe(s, e, t, i, []), r = mt(n, 0), r < 0 || s.charCodeAt(r + 1) !== 58)) return -1;\n  for (a = n.posMax, o = r + 2; o < a && (l = n.src.charCodeAt(o), !(l !== 32 && l !== 10)); o++);\n  if (!Yn(n, o)) return -1;\n  for (d = n.linkContent, o = n.pos, c = o, o = o + 1; o < a && (l = n.src.charCodeAt(o), !(l !== 32 && l !== 10)); o++);\n  for (o < a && c !== o && Zn(n, o) ? (u = n.linkContent, o = n.pos) : (u = \"\", o = c); o < a && n.src.charCodeAt(o) === 32;) o++;\n  return o < a && n.src.charCodeAt(o) !== 10 ? -1 : (p = Xn(s.slice(1, r)), _typeof(i.references[p]) > \"u\" && (i.references[p] = {\n    title: u,\n    href: d\n  }), o);\n}\nfunction zs(s) {\n  var e = s.tokens,\n    t,\n    i,\n    n,\n    r;\n  if (s.env.references = s.env.references || {}, !s.inlineMode) {\n    for (t = 1, i = e.length - 1; t < i; t++) if (e[t].type === \"inline\" && e[t - 1].type === \"paragraph_open\" && e[t + 1].type === \"paragraph_close\") {\n      for (n = e[t].content; n.length && (r = Bs(n, s.inline, s.options, s.env), !(r < 0));) n = n.slice(r).trim();\n      e[t].content = n, n.length || (e[t - 1].tight = !0, e[t + 1].tight = !0);\n    }\n  }\n}\nfunction Us(s) {\n  var e = s.tokens,\n    t,\n    i,\n    n;\n  for (i = 0, n = e.length; i < n; i++) t = e[i], t.type === \"inline\" && s.inline.parse(t.content, s.options, s.env, t.children);\n}\nfunction qs(s) {\n  var e,\n    t,\n    i,\n    n,\n    r,\n    o,\n    a,\n    l,\n    c,\n    d = 0,\n    u = !1,\n    p = {};\n  if (s.env.footnotes && (s.tokens = s.tokens.filter(function (h) {\n    return h.type === \"footnote_reference_open\" ? (u = !0, l = [], c = h.label, !1) : h.type === \"footnote_reference_close\" ? (u = !1, p[\":\" + c] = l, !1) : (u && l.push(h), !u);\n  }), !!s.env.footnotes.list)) {\n    for (o = s.env.footnotes.list, s.tokens.push({\n      type: \"footnote_block_open\",\n      level: d++\n    }), e = 0, t = o.length; e < t; e++) {\n      for (s.tokens.push({\n        type: \"footnote_open\",\n        id: e,\n        level: d++\n      }), o[e].tokens ? (a = [], a.push({\n        type: \"paragraph_open\",\n        tight: !1,\n        level: d++\n      }), a.push({\n        type: \"inline\",\n        content: \"\",\n        level: d,\n        children: o[e].tokens\n      }), a.push({\n        type: \"paragraph_close\",\n        tight: !1,\n        level: --d\n      })) : o[e].label && (a = p[\":\" + o[e].label]), s.tokens = s.tokens.concat(a), s.tokens[s.tokens.length - 1].type === \"paragraph_close\" ? r = s.tokens.pop() : r = null, n = o[e].count > 0 ? o[e].count : 1, i = 0; i < n; i++) s.tokens.push({\n        type: \"footnote_anchor\",\n        id: e,\n        subId: i,\n        level: d\n      });\n      r && s.tokens.push(r), s.tokens.push({\n        type: \"footnote_close\",\n        level: --d\n      });\n    }\n    s.tokens.push({\n      type: \"footnote_block_close\",\n      level: --d\n    });\n  }\n}\nvar cn = \" \\n()[]'\\\".,!?-\";\nfunction Si(s) {\n  return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, \"\\\\$1\");\n}\nfunction Hs(s) {\n  var e,\n    t,\n    i,\n    n,\n    r,\n    o,\n    a,\n    l,\n    c,\n    d,\n    u,\n    p,\n    h = s.tokens;\n  if (s.env.abbreviations) {\n    for (s.env.abbrRegExp || (p = \"(^|[\" + cn.split(\"\").map(Si).join(\"\") + \"])(\" + Object.keys(s.env.abbreviations).map(function (g) {\n      return g.substr(1);\n    }).sort(function (g, f) {\n      return f.length - g.length;\n    }).map(Si).join(\"|\") + \")($|[\" + cn.split(\"\").map(Si).join(\"\") + \"])\", s.env.abbrRegExp = new RegExp(p, \"g\")), d = s.env.abbrRegExp, t = 0, i = h.length; t < i; t++) if (h[t].type === \"inline\") {\n      for (n = h[t].children, e = n.length - 1; e >= 0; e--) if (r = n[e], r.type === \"text\") {\n        for (l = 0, o = r.content, d.lastIndex = 0, c = r.level, a = []; u = d.exec(o);) d.lastIndex > l && a.push({\n          type: \"text\",\n          content: o.slice(l, u.index + u[1].length),\n          level: c\n        }), a.push({\n          type: \"abbr_open\",\n          title: s.env.abbreviations[\":\" + u[2]],\n          level: c++\n        }), a.push({\n          type: \"text\",\n          content: u[2],\n          level: c\n        }), a.push({\n          type: \"abbr_close\",\n          level: --c\n        }), l = d.lastIndex - u[3].length;\n        a.length && (l < o.length && a.push({\n          type: \"text\",\n          content: o.slice(l),\n          level: c\n        }), h[t].children = n = [].concat(n.slice(0, e), a, n.slice(e + 1)));\n      }\n    }\n  }\n}\nvar Gs = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/,\n  Vs = /\\((c|tm|r|p)\\)/ig,\n  Ws = {\n    c: \"\",\n    r: \"\",\n    p: \"\",\n    tm: \"\"\n  };\nfunction Ks(s) {\n  return s.indexOf(\"(\") < 0 ? s : s.replace(Vs, function (e, t) {\n    return Ws[t.toLowerCase()];\n  });\n}\nfunction Js(s) {\n  var e, t, i, n, r;\n  if (s.options.typographer) {\n    for (r = s.tokens.length - 1; r >= 0; r--) if (s.tokens[r].type === \"inline\") for (n = s.tokens[r].children, e = n.length - 1; e >= 0; e--) t = n[e], t.type === \"text\" && (i = t.content, i = Ks(i), Gs.test(i) && (i = i.replace(/\\+-/g, \"\").replace(/\\.{2,}/g, \"\").replace(/([?!])/g, \"$1..\").replace(/([?!]){4,}/g, \"$1$1$1\").replace(/,{2,}/g, \",\").replace(/(^|[^-])---([^-]|$)/mg, \"$1$2\").replace(/(^|\\s)--(\\s|$)/mg, \"$1$2\").replace(/(^|[^-\\s])--([^-\\s]|$)/mg, \"$1$2\")), t.content = i);\n  }\n}\nvar $s = /['\"]/,\n  dn = /['\"]/g,\n  Ys = /[-\\s()\\[\\]]/,\n  un = \"\";\nfunction hn(s, e) {\n  return e < 0 || e >= s.length ? !1 : !Ys.test(s[e]);\n}\nfunction ze(s, e, t) {\n  return s.substr(0, e) + t + s.substr(e + 1);\n}\nfunction Zs(s) {\n  var e, t, i, n, r, o, a, l, c, d, u, p, h, g, f, S, w;\n  if (s.options.typographer) {\n    for (w = [], f = s.tokens.length - 1; f >= 0; f--) if (s.tokens[f].type === \"inline\") {\n      for (S = s.tokens[f].children, w.length = 0, e = 0; e < S.length; e++) if (t = S[e], !(t.type !== \"text\" || $s.test(t.text))) {\n        for (a = S[e].level, h = w.length - 1; h >= 0 && !(w[h].level <= a); h--);\n        w.length = h + 1, i = t.content, r = 0, o = i.length;\n        e: for (; r < o && (dn.lastIndex = r, n = dn.exec(i), !!n);) {\n          if (l = !hn(i, n.index - 1), r = n.index + 1, g = n[0] === \"'\", c = !hn(i, r), !c && !l) {\n            g && (t.content = ze(t.content, n.index, un));\n            continue;\n          }\n          if (u = !c, p = !l, p) {\n            for (h = w.length - 1; h >= 0 && (d = w[h], !(w[h].level < a)); h--) if (d.single === g && w[h].level === a) {\n              d = w[h], g ? (S[d.token].content = ze(S[d.token].content, d.pos, s.options.quotes[2]), t.content = ze(t.content, n.index, s.options.quotes[3])) : (S[d.token].content = ze(S[d.token].content, d.pos, s.options.quotes[0]), t.content = ze(t.content, n.index, s.options.quotes[1])), w.length = h;\n              continue e;\n            }\n          }\n          u ? w.push({\n            token: e,\n            pos: n.index,\n            single: g,\n            level: a\n          }) : p && g && (t.content = ze(t.content, n.index, un));\n        }\n      }\n    }\n  }\n}\nvar wi = [[\"block\", Ds], [\"abbr\", Fs], [\"references\", zs], [\"inline\", Us], [\"footnote_tail\", qs], [\"abbr2\", Hs], [\"replacements\", Js], [\"smartquotes\", Zs]];\nfunction Qn() {\n  this.options = {}, this.ruler = new H();\n  for (var s = 0; s < wi.length; s++) this.ruler.push(wi[s][0], wi[s][1]);\n}\nQn.prototype.process = function (s) {\n  var e, t, i;\n  for (i = this.ruler.getRules(\"\"), e = 0, t = i.length; e < t; e++) i[e](s);\n};\nfunction Ne(s, e, t, i, n) {\n  var r, o, a, l, c, d, u;\n  for (this.src = s, this.parser = e, this.options = t, this.env = i, this.tokens = n, this.bMarks = [], this.eMarks = [], this.tShift = [], this.blkIndent = 0, this.line = 0, this.lineMax = 0, this.tight = !1, this.parentType = \"root\", this.ddIndent = -1, this.level = 0, this.result = \"\", o = this.src, d = 0, u = !1, a = l = d = 0, c = o.length; l < c; l++) {\n    if (r = o.charCodeAt(l), !u) if (r === 32) {\n      d++;\n      continue;\n    } else u = !0;\n    (r === 10 || l === c - 1) && (r !== 10 && l++, this.bMarks.push(a), this.eMarks.push(l), this.tShift.push(d), u = !1, d = 0, a = l + 1);\n  }\n  this.bMarks.push(o.length), this.eMarks.push(o.length), this.tShift.push(0), this.lineMax = this.bMarks.length - 1;\n}\nNe.prototype.isEmpty = function (e) {\n  return this.bMarks[e] + this.tShift[e] >= this.eMarks[e];\n};\nNe.prototype.skipEmptyLines = function (e) {\n  for (var t = this.lineMax; e < t && !(this.bMarks[e] + this.tShift[e] < this.eMarks[e]); e++);\n  return e;\n};\nNe.prototype.skipSpaces = function (e) {\n  for (var t = this.src.length; e < t && this.src.charCodeAt(e) === 32; e++);\n  return e;\n};\nNe.prototype.skipChars = function (e, t) {\n  for (var i = this.src.length; e < i && this.src.charCodeAt(e) === t; e++);\n  return e;\n};\nNe.prototype.skipCharsBack = function (e, t, i) {\n  if (e <= i) return e;\n  for (; e > i;) if (t !== this.src.charCodeAt(--e)) return e + 1;\n  return e;\n};\nNe.prototype.getLines = function (e, t, i, n) {\n  var r,\n    o,\n    a,\n    l,\n    c,\n    d = e;\n  if (e >= t) return \"\";\n  if (d + 1 === t) return o = this.bMarks[d] + Math.min(this.tShift[d], i), a = n ? this.eMarks[d] + 1 : this.eMarks[d], this.src.slice(o, a);\n  for (l = new Array(t - e), r = 0; d < t; d++, r++) c = this.tShift[d], c > i && (c = i), c < 0 && (c = 0), o = this.bMarks[d] + c, d + 1 < t || n ? a = this.eMarks[d] + 1 : a = this.eMarks[d], l[r] = this.src.slice(o, a);\n  return l.join(\"\");\n};\nfunction Xs(s, e, t) {\n  var i, n;\n  if (s.tShift[e] - s.blkIndent < 4) return !1;\n  for (n = i = e + 1; i < t;) {\n    if (s.isEmpty(i)) {\n      i++;\n      continue;\n    }\n    if (s.tShift[i] - s.blkIndent >= 4) {\n      i++, n = i;\n      continue;\n    }\n    break;\n  }\n  return s.line = i, s.tokens.push({\n    type: \"code\",\n    content: s.getLines(e, n, 4 + s.blkIndent, !0),\n    block: !0,\n    lines: [e, s.line],\n    level: s.level\n  }), !0;\n}\nfunction Qs(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a,\n    l,\n    c = !1,\n    d = s.bMarks[e] + s.tShift[e],\n    u = s.eMarks[e];\n  if (d + 3 > u || (n = s.src.charCodeAt(d), n !== 126 && n !== 96) || (l = d, d = s.skipChars(d, n), r = d - l, r < 3) || (o = s.src.slice(d, u).trim(), o.indexOf(\"`\") >= 0)) return !1;\n  if (i) return !0;\n  for (a = e; a++, !(a >= t || (d = l = s.bMarks[a] + s.tShift[a], u = s.eMarks[a], d < u && s.tShift[a] < s.blkIndent));) if (s.src.charCodeAt(d) === n && !(s.tShift[a] - s.blkIndent >= 4) && (d = s.skipChars(d, n), !(d - l < r) && (d = s.skipSpaces(d), !(d < u)))) {\n    c = !0;\n    break;\n  }\n  return r = s.tShift[e], s.line = a + (c ? 1 : 0), s.tokens.push({\n    type: \"fence\",\n    params: o,\n    content: s.getLines(e + 1, a, r, !0),\n    lines: [e, s.line],\n    level: s.level\n  }), !0;\n}\nfunction er(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a,\n    l,\n    c,\n    d,\n    u,\n    p,\n    h,\n    g,\n    f = s.bMarks[e] + s.tShift[e],\n    S = s.eMarks[e];\n  if (f > S || s.src.charCodeAt(f++) !== 62 || s.level >= s.options.maxNesting) return !1;\n  if (i) return !0;\n  for (s.src.charCodeAt(f) === 32 && f++, l = s.blkIndent, s.blkIndent = 0, a = [s.bMarks[e]], s.bMarks[e] = f, f = f < S ? s.skipSpaces(f) : f, r = f >= S, o = [s.tShift[e]], s.tShift[e] = f - s.bMarks[e], u = s.parser.ruler.getRules(\"blockquote\"), n = e + 1; n < t && (f = s.bMarks[n] + s.tShift[n], S = s.eMarks[n], !(f >= S)); n++) {\n    if (s.src.charCodeAt(f++) === 62) {\n      s.src.charCodeAt(f) === 32 && f++, a.push(s.bMarks[n]), s.bMarks[n] = f, f = f < S ? s.skipSpaces(f) : f, r = f >= S, o.push(s.tShift[n]), s.tShift[n] = f - s.bMarks[n];\n      continue;\n    }\n    if (r) break;\n    for (g = !1, p = 0, h = u.length; p < h; p++) if (u[p](s, n, t, !0)) {\n      g = !0;\n      break;\n    }\n    if (g) break;\n    a.push(s.bMarks[n]), o.push(s.tShift[n]), s.tShift[n] = -1337;\n  }\n  for (c = s.parentType, s.parentType = \"blockquote\", s.tokens.push({\n    type: \"blockquote_open\",\n    lines: d = [e, 0],\n    level: s.level++\n  }), s.parser.tokenize(s, e, n), s.tokens.push({\n    type: \"blockquote_close\",\n    level: --s.level\n  }), s.parentType = c, d[1] = s.line, p = 0; p < o.length; p++) s.bMarks[p + e] = a[p], s.tShift[p + e] = o[p];\n  return s.blkIndent = l, !0;\n}\nfunction tr(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a = s.bMarks[e],\n    l = s.eMarks[e];\n  if (a += s.tShift[e], a > l || (n = s.src.charCodeAt(a++), n !== 42 && n !== 45 && n !== 95)) return !1;\n  for (r = 1; a < l;) {\n    if (o = s.src.charCodeAt(a++), o !== n && o !== 32) return !1;\n    o === n && r++;\n  }\n  return r < 3 ? !1 : (i || (s.line = e + 1, s.tokens.push({\n    type: \"hr\",\n    lines: [e, s.line],\n    level: s.level\n  })), !0);\n}\nfunction pn(s, e) {\n  var t, i, n;\n  return i = s.bMarks[e] + s.tShift[e], n = s.eMarks[e], i >= n || (t = s.src.charCodeAt(i++), t !== 42 && t !== 45 && t !== 43) || i < n && s.src.charCodeAt(i) !== 32 ? -1 : i;\n}\nfunction fn(s, e) {\n  var t,\n    i = s.bMarks[e] + s.tShift[e],\n    n = s.eMarks[e];\n  if (i + 1 >= n || (t = s.src.charCodeAt(i++), t < 48 || t > 57)) return -1;\n  for (;;) {\n    if (i >= n) return -1;\n    if (t = s.src.charCodeAt(i++), !(t >= 48 && t <= 57)) {\n      if (t === 41 || t === 46) break;\n      return -1;\n    }\n  }\n  return i < n && s.src.charCodeAt(i) !== 32 ? -1 : i;\n}\nfunction ir(s, e) {\n  var t,\n    i,\n    n = s.level + 2;\n  for (t = e + 2, i = s.tokens.length - 2; t < i; t++) s.tokens[t].level === n && s.tokens[t].type === \"paragraph_open\" && (s.tokens[t + 2].tight = !0, s.tokens[t].tight = !0, t += 2);\n}\nfunction nr(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a,\n    l,\n    c,\n    d,\n    u,\n    p,\n    h,\n    g,\n    f,\n    S,\n    w,\n    G,\n    A,\n    V,\n    X,\n    oe = !0,\n    Q,\n    N,\n    Be,\n    xi;\n  if ((u = fn(s, e)) >= 0) S = !0;else if ((u = pn(s, e)) >= 0) S = !1;else return !1;\n  if (s.level >= s.options.maxNesting) return !1;\n  if (f = s.src.charCodeAt(u - 1), i) return !0;\n  for (G = s.tokens.length, S ? (d = s.bMarks[e] + s.tShift[e], g = Number(s.src.substr(d, u - d - 1)), s.tokens.push({\n    type: \"ordered_list_open\",\n    order: g,\n    lines: V = [e, 0],\n    level: s.level++\n  })) : s.tokens.push({\n    type: \"bullet_list_open\",\n    lines: V = [e, 0],\n    level: s.level++\n  }), n = e, A = !1, Q = s.parser.ruler.getRules(\"list\"); n < t && (w = s.skipSpaces(u), p = s.eMarks[n], w >= p ? h = 1 : h = w - u, h > 4 && (h = 1), h < 1 && (h = 1), r = u - s.bMarks[n] + h, s.tokens.push({\n    type: \"list_item_open\",\n    lines: X = [e, 0],\n    level: s.level++\n  }), a = s.blkIndent, l = s.tight, o = s.tShift[e], c = s.parentType, s.tShift[e] = w - s.bMarks[e], s.blkIndent = r, s.tight = !0, s.parentType = \"list\", s.parser.tokenize(s, e, t, !0), (!s.tight || A) && (oe = !1), A = s.line - e > 1 && s.isEmpty(s.line - 1), s.blkIndent = a, s.tShift[e] = o, s.tight = l, s.parentType = c, s.tokens.push({\n    type: \"list_item_close\",\n    level: --s.level\n  }), n = e = s.line, X[1] = n, w = s.bMarks[e], !(n >= t || s.isEmpty(n) || s.tShift[n] < s.blkIndent));) {\n    for (xi = !1, N = 0, Be = Q.length; N < Be; N++) if (Q[N](s, n, t, !0)) {\n      xi = !0;\n      break;\n    }\n    if (xi) break;\n    if (S) {\n      if (u = fn(s, n), u < 0) break;\n    } else if (u = pn(s, n), u < 0) break;\n    if (f !== s.src.charCodeAt(u - 1)) break;\n  }\n  return s.tokens.push({\n    type: S ? \"ordered_list_close\" : \"bullet_list_close\",\n    level: --s.level\n  }), V[1] = n, s.line = n, oe && ir(s, G), !0;\n}\nfunction sr(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a,\n    l,\n    c = s.bMarks[e] + s.tShift[e],\n    d = s.eMarks[e];\n  if (c + 4 > d || s.src.charCodeAt(c) !== 91 || s.src.charCodeAt(c + 1) !== 94 || s.level >= s.options.maxNesting) return !1;\n  for (a = c + 2; a < d; a++) {\n    if (s.src.charCodeAt(a) === 32) return !1;\n    if (s.src.charCodeAt(a) === 93) break;\n  }\n  return a === c + 2 || a + 1 >= d || s.src.charCodeAt(++a) !== 58 ? !1 : (i || (a++, s.env.footnotes || (s.env.footnotes = {}), s.env.footnotes.refs || (s.env.footnotes.refs = {}), l = s.src.slice(c + 2, a - 2), s.env.footnotes.refs[\":\" + l] = -1, s.tokens.push({\n    type: \"footnote_reference_open\",\n    label: l,\n    level: s.level++\n  }), n = s.bMarks[e], r = s.tShift[e], o = s.parentType, s.tShift[e] = s.skipSpaces(a) - a, s.bMarks[e] = a, s.blkIndent += 4, s.parentType = \"footnote\", s.tShift[e] < s.blkIndent && (s.tShift[e] += s.blkIndent, s.bMarks[e] -= s.blkIndent), s.parser.tokenize(s, e, t, !0), s.parentType = o, s.blkIndent -= 4, s.tShift[e] = r, s.bMarks[e] = n, s.tokens.push({\n    type: \"footnote_reference_close\",\n    level: --s.level\n  })), !0);\n}\nfunction rr(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a = s.bMarks[e] + s.tShift[e],\n    l = s.eMarks[e];\n  if (a >= l || (n = s.src.charCodeAt(a), n !== 35 || a >= l)) return !1;\n  for (r = 1, n = s.src.charCodeAt(++a); n === 35 && a < l && r <= 6;) r++, n = s.src.charCodeAt(++a);\n  return r > 6 || a < l && n !== 32 ? !1 : (i || (l = s.skipCharsBack(l, 32, a), o = s.skipCharsBack(l, 35, a), o > a && s.src.charCodeAt(o - 1) === 32 && (l = o), s.line = e + 1, s.tokens.push({\n    type: \"heading_open\",\n    hLevel: r,\n    lines: [e, s.line],\n    level: s.level\n  }), a < l && s.tokens.push({\n    type: \"inline\",\n    content: s.src.slice(a, l).trim(),\n    level: s.level + 1,\n    lines: [e, s.line],\n    children: []\n  }), s.tokens.push({\n    type: \"heading_close\",\n    hLevel: r,\n    level: s.level\n  })), !0);\n}\nfunction or(s, e, t) {\n  var i,\n    n,\n    r,\n    o = e + 1;\n  return o >= t || s.tShift[o] < s.blkIndent || s.tShift[o] - s.blkIndent > 3 || (n = s.bMarks[o] + s.tShift[o], r = s.eMarks[o], n >= r) || (i = s.src.charCodeAt(n), i !== 45 && i !== 61) || (n = s.skipChars(n, i), n = s.skipSpaces(n), n < r) ? !1 : (n = s.bMarks[e] + s.tShift[e], s.line = o + 1, s.tokens.push({\n    type: \"heading_open\",\n    hLevel: i === 61 ? 1 : 2,\n    lines: [e, s.line],\n    level: s.level\n  }), s.tokens.push({\n    type: \"inline\",\n    content: s.src.slice(n, s.eMarks[e]).trim(),\n    level: s.level + 1,\n    lines: [e, s.line - 1],\n    children: []\n  }), s.tokens.push({\n    type: \"heading_close\",\n    hLevel: i === 61 ? 1 : 2,\n    level: s.level\n  }), !0);\n}\nvar es = {};\n[\"article\", \"aside\", \"button\", \"blockquote\", \"body\", \"canvas\", \"caption\", \"col\", \"colgroup\", \"dd\", \"div\", \"dl\", \"dt\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"header\", \"hgroup\", \"hr\", \"iframe\", \"li\", \"map\", \"object\", \"ol\", \"output\", \"p\", \"pre\", \"progress\", \"script\", \"section\", \"style\", \"table\", \"tbody\", \"td\", \"textarea\", \"tfoot\", \"th\", \"tr\", \"thead\", \"ul\", \"video\"].forEach(function (s) {\n  es[s] = !0;\n});\nvar ar = /^<([a-zA-Z]{1,15})[\\s\\/>]/,\n  lr = /^<\\/([a-zA-Z]{1,15})[\\s>]/;\nfunction cr(s) {\n  var e = s | 32;\n  return e >= 97 && e <= 122;\n}\nfunction dr(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a = s.bMarks[e],\n    l = s.eMarks[e],\n    c = s.tShift[e];\n  if (a += c, !s.options.html || c > 3 || a + 2 >= l || s.src.charCodeAt(a) !== 60) return !1;\n  if (n = s.src.charCodeAt(a + 1), n === 33 || n === 63) {\n    if (i) return !0;\n  } else if (n === 47 || cr(n)) {\n    if (n === 47) {\n      if (r = s.src.slice(a, l).match(lr), !r) return !1;\n    } else if (r = s.src.slice(a, l).match(ar), !r) return !1;\n    if (es[r[1].toLowerCase()] !== !0) return !1;\n    if (i) return !0;\n  } else return !1;\n  for (o = e + 1; o < s.lineMax && !s.isEmpty(o);) o++;\n  return s.line = o, s.tokens.push({\n    type: \"htmlblock\",\n    level: s.level,\n    lines: [e, s.line],\n    content: s.getLines(e, o, 0, !0)\n  }), !0;\n}\nfunction _i(s, e) {\n  var t = s.bMarks[e] + s.blkIndent,\n    i = s.eMarks[e];\n  return s.src.substr(t, i - t);\n}\nfunction ur(s, e, t, i) {\n  var n, r, o, a, l, c, d, u, p, h, g;\n  if (e + 2 > t || (l = e + 1, s.tShift[l] < s.blkIndent) || (o = s.bMarks[l] + s.tShift[l], o >= s.eMarks[l]) || (n = s.src.charCodeAt(o), n !== 124 && n !== 45 && n !== 58) || (r = _i(s, e + 1), !/^[-:| ]+$/.test(r)) || (c = r.split(\"|\"), c <= 2)) return !1;\n  for (u = [], a = 0; a < c.length; a++) {\n    if (p = c[a].trim(), !p) {\n      if (a === 0 || a === c.length - 1) continue;\n      return !1;\n    }\n    if (!/^:?-+:?$/.test(p)) return !1;\n    p.charCodeAt(p.length - 1) === 58 ? u.push(p.charCodeAt(0) === 58 ? \"center\" : \"right\") : p.charCodeAt(0) === 58 ? u.push(\"left\") : u.push(\"\");\n  }\n  if (r = _i(s, e).trim(), r.indexOf(\"|\") === -1 || (c = r.replace(/^\\||\\|$/g, \"\").split(\"|\"), u.length !== c.length)) return !1;\n  if (i) return !0;\n  for (s.tokens.push({\n    type: \"table_open\",\n    lines: h = [e, 0],\n    level: s.level++\n  }), s.tokens.push({\n    type: \"thead_open\",\n    lines: [e, e + 1],\n    level: s.level++\n  }), s.tokens.push({\n    type: \"tr_open\",\n    lines: [e, e + 1],\n    level: s.level++\n  }), a = 0; a < c.length; a++) s.tokens.push({\n    type: \"th_open\",\n    align: u[a],\n    lines: [e, e + 1],\n    level: s.level++\n  }), s.tokens.push({\n    type: \"inline\",\n    content: c[a].trim(),\n    lines: [e, e + 1],\n    level: s.level,\n    children: []\n  }), s.tokens.push({\n    type: \"th_close\",\n    level: --s.level\n  });\n  for (s.tokens.push({\n    type: \"tr_close\",\n    level: --s.level\n  }), s.tokens.push({\n    type: \"thead_close\",\n    level: --s.level\n  }), s.tokens.push({\n    type: \"tbody_open\",\n    lines: g = [e + 2, 0],\n    level: s.level++\n  }), l = e + 2; l < t && !(s.tShift[l] < s.blkIndent || (r = _i(s, l).trim(), r.indexOf(\"|\") === -1)); l++) {\n    for (c = r.replace(/^\\||\\|$/g, \"\").split(\"|\"), s.tokens.push({\n      type: \"tr_open\",\n      level: s.level++\n    }), a = 0; a < c.length; a++) s.tokens.push({\n      type: \"td_open\",\n      align: u[a],\n      level: s.level++\n    }), d = c[a].substring(c[a].charCodeAt(0) === 124 ? 1 : 0, c[a].charCodeAt(c[a].length - 1) === 124 ? c[a].length - 1 : c[a].length).trim(), s.tokens.push({\n      type: \"inline\",\n      content: d,\n      level: s.level,\n      children: []\n    }), s.tokens.push({\n      type: \"td_close\",\n      level: --s.level\n    });\n    s.tokens.push({\n      type: \"tr_close\",\n      level: --s.level\n    });\n  }\n  return s.tokens.push({\n    type: \"tbody_close\",\n    level: --s.level\n  }), s.tokens.push({\n    type: \"table_close\",\n    level: --s.level\n  }), h[1] = g[1] = l, s.line = l, !0;\n}\nfunction It(s, e) {\n  var t,\n    i,\n    n = s.bMarks[e] + s.tShift[e],\n    r = s.eMarks[e];\n  return n >= r || (i = s.src.charCodeAt(n++), i !== 126 && i !== 58) || (t = s.skipSpaces(n), n === t) || t >= r ? -1 : t;\n}\nfunction hr(s, e) {\n  var t,\n    i,\n    n = s.level + 2;\n  for (t = e + 2, i = s.tokens.length - 2; t < i; t++) s.tokens[t].level === n && s.tokens[t].type === \"paragraph_open\" && (s.tokens[t + 2].tight = !0, s.tokens[t].tight = !0, t += 2);\n}\nfunction pr(s, e, t, i) {\n  var n, r, o, a, l, c, d, u, p, h, g, f, S, w;\n  if (i) return s.ddIndent < 0 ? !1 : It(s, e) >= 0;\n  if (d = e + 1, s.isEmpty(d) && ++d > t || s.tShift[d] < s.blkIndent || (n = It(s, d), n < 0) || s.level >= s.options.maxNesting) return !1;\n  c = s.tokens.length, s.tokens.push({\n    type: \"dl_open\",\n    lines: l = [e, 0],\n    level: s.level++\n  }), o = e, r = d;\n  e: for (;;) {\n    for (w = !0, S = !1, s.tokens.push({\n      type: \"dt_open\",\n      lines: [o, o],\n      level: s.level++\n    }), s.tokens.push({\n      type: \"inline\",\n      content: s.getLines(o, o + 1, s.blkIndent, !1).trim(),\n      level: s.level + 1,\n      lines: [o, o],\n      children: []\n    }), s.tokens.push({\n      type: \"dt_close\",\n      level: --s.level\n    });;) {\n      if (s.tokens.push({\n        type: \"dd_open\",\n        lines: a = [d, 0],\n        level: s.level++\n      }), f = s.tight, p = s.ddIndent, u = s.blkIndent, g = s.tShift[r], h = s.parentType, s.blkIndent = s.ddIndent = s.tShift[r] + 2, s.tShift[r] = n - s.bMarks[r], s.tight = !0, s.parentType = \"deflist\", s.parser.tokenize(s, r, t, !0), (!s.tight || S) && (w = !1), S = s.line - r > 1 && s.isEmpty(s.line - 1), s.tShift[r] = g, s.tight = f, s.parentType = h, s.blkIndent = u, s.ddIndent = p, s.tokens.push({\n        type: \"dd_close\",\n        level: --s.level\n      }), a[1] = d = s.line, d >= t || s.tShift[d] < s.blkIndent) break e;\n      if (n = It(s, d), n < 0) break;\n      r = d;\n    }\n    if (d >= t || (o = d, s.isEmpty(o)) || s.tShift[o] < s.blkIndent || (r = o + 1, r >= t) || (s.isEmpty(r) && r++, r >= t) || s.tShift[r] < s.blkIndent || (n = It(s, r), n < 0)) break;\n  }\n  return s.tokens.push({\n    type: \"dl_close\",\n    level: --s.level\n  }), l[1] = d, s.line = d, w && hr(s, c), !0;\n}\nfunction fr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o,\n    a = e + 1,\n    l;\n  if (t = s.lineMax, a < t && !s.isEmpty(a)) {\n    for (l = s.parser.ruler.getRules(\"paragraph\"); a < t && !s.isEmpty(a); a++) if (!(s.tShift[a] - s.blkIndent > 3)) {\n      for (n = !1, r = 0, o = l.length; r < o; r++) if (l[r](s, a, t, !0)) {\n        n = !0;\n        break;\n      }\n      if (n) break;\n    }\n  }\n  return i = s.getLines(e, a, s.blkIndent, !1).trim(), s.line = a, i.length && (s.tokens.push({\n    type: \"paragraph_open\",\n    tight: !1,\n    lines: [e, s.line],\n    level: s.level\n  }), s.tokens.push({\n    type: \"inline\",\n    content: i,\n    level: s.level + 1,\n    lines: [e, s.line],\n    children: []\n  }), s.tokens.push({\n    type: \"paragraph_close\",\n    tight: !1,\n    level: s.level\n  })), !0;\n}\nvar Lt = [[\"code\", Xs], [\"fences\", Qs, [\"paragraph\", \"blockquote\", \"list\"]], [\"blockquote\", er, [\"paragraph\", \"blockquote\", \"list\"]], [\"hr\", tr, [\"paragraph\", \"blockquote\", \"list\"]], [\"list\", nr, [\"paragraph\", \"blockquote\"]], [\"footnote\", sr, [\"paragraph\"]], [\"heading\", rr, [\"paragraph\", \"blockquote\"]], [\"lheading\", or], [\"htmlblock\", dr, [\"paragraph\", \"blockquote\"]], [\"table\", ur, [\"paragraph\"]], [\"deflist\", pr, [\"paragraph\"]], [\"paragraph\", fr]];\nfunction Vi() {\n  this.ruler = new H();\n  for (var s = 0; s < Lt.length; s++) this.ruler.push(Lt[s][0], Lt[s][1], {\n    alt: (Lt[s][2] || []).slice()\n  });\n}\nVi.prototype.tokenize = function (s, e, t) {\n  for (var i = this.ruler.getRules(\"\"), n = i.length, r = e, o = !1, a, l; r < t && (s.line = r = s.skipEmptyLines(r), !(r >= t || s.tShift[r] < s.blkIndent));) {\n    for (l = 0; l < n && (a = i[l](s, r, t, !1), !a); l++);\n    if (s.tight = !o, s.isEmpty(s.line - 1) && (o = !0), r = s.line, r < t && s.isEmpty(r)) {\n      if (o = !0, r++, r < t && s.parentType === \"list\" && s.isEmpty(r)) break;\n      s.line = r;\n    }\n  }\n};\nvar mr = /[\\n\\t]/g,\n  gr = /\\r[\\n\\u0085]|[\\u2424\\u2028\\u0085]/g,\n  br = /\\u00a0/g;\nVi.prototype.parse = function (s, e, t, i) {\n  var n,\n    r = 0,\n    o = 0;\n  if (!s) return [];\n  s = s.replace(br, \" \"), s = s.replace(gr, \"\\n\"), s.indexOf(\"\t\") >= 0 && (s = s.replace(mr, function (a, l) {\n    var c;\n    return s.charCodeAt(l) === 10 ? (r = l + 1, o = 0, a) : (c = \"    \".slice((l - r - o) % 4), o = l - r + 1, c);\n  })), n = new Ne(s, this, e, t, i), this.tokenize(n, n.line, n.lineMax);\n};\nfunction vr(s) {\n  switch (s) {\n    case 10:\n    case 92:\n    case 96:\n    case 42:\n    case 95:\n    case 94:\n    case 91:\n    case 93:\n    case 33:\n    case 38:\n    case 60:\n    case 62:\n    case 123:\n    case 125:\n    case 36:\n    case 37:\n    case 64:\n    case 126:\n    case 43:\n    case 61:\n    case 58:\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction yr(s, e) {\n  for (var t = s.pos; t < s.posMax && !vr(s.src.charCodeAt(t));) t++;\n  return t === s.pos ? !1 : (e || (s.pending += s.src.slice(s.pos, t)), s.pos = t, !0);\n}\nfunction xr(s, e) {\n  var t,\n    i,\n    n = s.pos;\n  if (s.src.charCodeAt(n) !== 10) return !1;\n  if (t = s.pending.length - 1, i = s.posMax, !e) if (t >= 0 && s.pending.charCodeAt(t) === 32) {\n    if (t >= 1 && s.pending.charCodeAt(t - 1) === 32) {\n      for (var r = t - 2; r >= 0; r--) if (s.pending.charCodeAt(r) !== 32) {\n        s.pending = s.pending.substring(0, r + 1);\n        break;\n      }\n      s.push({\n        type: \"hardbreak\",\n        level: s.level\n      });\n    } else s.pending = s.pending.slice(0, -1), s.push({\n      type: \"softbreak\",\n      level: s.level\n    });\n  } else s.push({\n    type: \"softbreak\",\n    level: s.level\n  });\n  for (n++; n < i && s.src.charCodeAt(n) === 32;) n++;\n  return s.pos = n, !0;\n}\nvar Wi = [];\nfor (var mn = 0; mn < 256; mn++) Wi.push(0);\n\"\\\\!\\\"#$%&'()*+,./:;<=>?@[]^_`{|}~-\".split(\"\").forEach(function (s) {\n  Wi[s.charCodeAt(0)] = 1;\n});\nfunction Er(s, e) {\n  var t,\n    i = s.pos,\n    n = s.posMax;\n  if (s.src.charCodeAt(i) !== 92) return !1;\n  if (i++, i < n) {\n    if (t = s.src.charCodeAt(i), t < 256 && Wi[t] !== 0) return e || (s.pending += s.src[i]), s.pos += 2, !0;\n    if (t === 10) {\n      for (e || s.push({\n        type: \"hardbreak\",\n        level: s.level\n      }), i++; i < n && s.src.charCodeAt(i) === 32;) i++;\n      return s.pos = i, !0;\n    }\n  }\n  return e || (s.pending += \"\\\\\"), s.pos++, !0;\n}\nfunction Sr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o,\n    a = s.pos,\n    l = s.src.charCodeAt(a);\n  if (l !== 96) return !1;\n  for (t = a, a++, i = s.posMax; a < i && s.src.charCodeAt(a) === 96;) a++;\n  for (n = s.src.slice(t, a), r = o = a; (r = s.src.indexOf(\"`\", o)) !== -1;) {\n    for (o = r + 1; o < i && s.src.charCodeAt(o) === 96;) o++;\n    if (o - r === n.length) return e || s.push({\n      type: \"code\",\n      content: s.src.slice(a, r).replace(/[ \\n]+/g, \" \").trim(),\n      block: !1,\n      level: s.level\n    }), s.pos = o, !0;\n  }\n  return e || (s.pending += n), s.pos += n.length, !0;\n}\nfunction wr(s, e) {\n  var t,\n    i,\n    n,\n    r = s.posMax,\n    o = s.pos,\n    a,\n    l;\n  if (s.src.charCodeAt(o) !== 126 || e || o + 4 >= r || s.src.charCodeAt(o + 1) !== 126 || s.level >= s.options.maxNesting || (a = o > 0 ? s.src.charCodeAt(o - 1) : -1, l = s.src.charCodeAt(o + 2), a === 126) || l === 126 || l === 32 || l === 10) return !1;\n  for (i = o + 2; i < r && s.src.charCodeAt(i) === 126;) i++;\n  if (i > o + 3) return s.pos += i - o, e || (s.pending += s.src.slice(o, i)), !0;\n  for (s.pos = o + 2, n = 1; s.pos + 1 < r;) {\n    if (s.src.charCodeAt(s.pos) === 126 && s.src.charCodeAt(s.pos + 1) === 126 && (a = s.src.charCodeAt(s.pos - 1), l = s.pos + 2 < r ? s.src.charCodeAt(s.pos + 2) : -1, l !== 126 && a !== 126 && (a !== 32 && a !== 10 ? n-- : l !== 32 && l !== 10 && n++, n <= 0))) {\n      t = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return t ? (s.posMax = s.pos, s.pos = o + 2, e || (s.push({\n    type: \"del_open\",\n    level: s.level++\n  }), s.parser.tokenize(s), s.push({\n    type: \"del_close\",\n    level: --s.level\n  })), s.pos = s.posMax + 2, s.posMax = r, !0) : (s.pos = o, !1);\n}\nfunction _r(s, e) {\n  var t,\n    i,\n    n,\n    r = s.posMax,\n    o = s.pos,\n    a,\n    l;\n  if (s.src.charCodeAt(o) !== 43 || e || o + 4 >= r || s.src.charCodeAt(o + 1) !== 43 || s.level >= s.options.maxNesting || (a = o > 0 ? s.src.charCodeAt(o - 1) : -1, l = s.src.charCodeAt(o + 2), a === 43) || l === 43 || l === 32 || l === 10) return !1;\n  for (i = o + 2; i < r && s.src.charCodeAt(i) === 43;) i++;\n  if (i !== o + 2) return s.pos += i - o, e || (s.pending += s.src.slice(o, i)), !0;\n  for (s.pos = o + 2, n = 1; s.pos + 1 < r;) {\n    if (s.src.charCodeAt(s.pos) === 43 && s.src.charCodeAt(s.pos + 1) === 43 && (a = s.src.charCodeAt(s.pos - 1), l = s.pos + 2 < r ? s.src.charCodeAt(s.pos + 2) : -1, l !== 43 && a !== 43 && (a !== 32 && a !== 10 ? n-- : l !== 32 && l !== 10 && n++, n <= 0))) {\n      t = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return t ? (s.posMax = s.pos, s.pos = o + 2, e || (s.push({\n    type: \"ins_open\",\n    level: s.level++\n  }), s.parser.tokenize(s), s.push({\n    type: \"ins_close\",\n    level: --s.level\n  })), s.pos = s.posMax + 2, s.posMax = r, !0) : (s.pos = o, !1);\n}\nfunction Mr(s, e) {\n  var t,\n    i,\n    n,\n    r = s.posMax,\n    o = s.pos,\n    a,\n    l;\n  if (s.src.charCodeAt(o) !== 61 || e || o + 4 >= r || s.src.charCodeAt(o + 1) !== 61 || s.level >= s.options.maxNesting || (a = o > 0 ? s.src.charCodeAt(o - 1) : -1, l = s.src.charCodeAt(o + 2), a === 61) || l === 61 || l === 32 || l === 10) return !1;\n  for (i = o + 2; i < r && s.src.charCodeAt(i) === 61;) i++;\n  if (i !== o + 2) return s.pos += i - o, e || (s.pending += s.src.slice(o, i)), !0;\n  for (s.pos = o + 2, n = 1; s.pos + 1 < r;) {\n    if (s.src.charCodeAt(s.pos) === 61 && s.src.charCodeAt(s.pos + 1) === 61 && (a = s.src.charCodeAt(s.pos - 1), l = s.pos + 2 < r ? s.src.charCodeAt(s.pos + 2) : -1, l !== 61 && a !== 61 && (a !== 32 && a !== 10 ? n-- : l !== 32 && l !== 10 && n++, n <= 0))) {\n      t = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return t ? (s.posMax = s.pos, s.pos = o + 2, e || (s.push({\n    type: \"mark_open\",\n    level: s.level++\n  }), s.parser.tokenize(s), s.push({\n    type: \"mark_close\",\n    level: --s.level\n  })), s.pos = s.posMax + 2, s.posMax = r, !0) : (s.pos = o, !1);\n}\nfunction gn(s) {\n  return s >= 48 && s <= 57 || s >= 65 && s <= 90 || s >= 97 && s <= 122;\n}\nfunction bn(s, e) {\n  var t = e,\n    i,\n    n,\n    r,\n    o = !0,\n    a = !0,\n    l = s.posMax,\n    c = s.src.charCodeAt(e);\n  for (i = e > 0 ? s.src.charCodeAt(e - 1) : -1; t < l && s.src.charCodeAt(t) === c;) t++;\n  return t >= l && (o = !1), r = t - e, r >= 4 ? o = a = !1 : (n = t < l ? s.src.charCodeAt(t) : -1, (n === 32 || n === 10) && (o = !1), (i === 32 || i === 10) && (a = !1), c === 95 && (gn(i) && (o = !1), gn(n) && (a = !1))), {\n    can_open: o,\n    can_close: a,\n    delims: r\n  };\n}\nfunction Tr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o,\n    a,\n    l,\n    c = s.posMax,\n    d = s.pos,\n    u = s.src.charCodeAt(d);\n  if (u !== 95 && u !== 42 || e) return !1;\n  if (l = bn(s, d), t = l.delims, !l.can_open) return s.pos += t, e || (s.pending += s.src.slice(d, s.pos)), !0;\n  if (s.level >= s.options.maxNesting) return !1;\n  for (s.pos = d + t, a = [t]; s.pos < c;) {\n    if (s.src.charCodeAt(s.pos) === u) {\n      if (l = bn(s, s.pos), i = l.delims, l.can_close) {\n        for (r = a.pop(), o = i; r !== o;) {\n          if (o < r) {\n            a.push(r - o);\n            break;\n          }\n          if (o -= r, a.length === 0) break;\n          s.pos += r, r = a.pop();\n        }\n        if (a.length === 0) {\n          t = r, n = !0;\n          break;\n        }\n        s.pos += i;\n        continue;\n      }\n      l.can_open && a.push(i), s.pos += i;\n      continue;\n    }\n    s.parser.skipToken(s);\n  }\n  return n ? (s.posMax = s.pos, s.pos = d + t, e || ((t === 2 || t === 3) && s.push({\n    type: \"strong_open\",\n    level: s.level++\n  }), (t === 1 || t === 3) && s.push({\n    type: \"em_open\",\n    level: s.level++\n  }), s.parser.tokenize(s), (t === 1 || t === 3) && s.push({\n    type: \"em_close\",\n    level: --s.level\n  }), (t === 2 || t === 3) && s.push({\n    type: \"strong_close\",\n    level: --s.level\n  })), s.pos = s.posMax + t, s.posMax = c, !0) : (s.pos = d, !1);\n}\nvar Cr = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\nfunction Ar(s, e) {\n  var t,\n    i,\n    n = s.posMax,\n    r = s.pos;\n  if (s.src.charCodeAt(r) !== 126 || e || r + 2 >= n || s.level >= s.options.maxNesting) return !1;\n  for (s.pos = r + 1; s.pos < n;) {\n    if (s.src.charCodeAt(s.pos) === 126) {\n      t = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return !t || r + 1 === s.pos || (i = s.src.slice(r + 1, s.pos), i.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) ? (s.pos = r, !1) : (s.posMax = s.pos, s.pos = r + 1, e || s.push({\n    type: \"sub\",\n    level: s.level,\n    content: i.replace(Cr, \"$1\")\n  }), s.pos = s.posMax + 1, s.posMax = n, !0);\n}\nvar kr = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\nfunction Ir(s, e) {\n  var t,\n    i,\n    n = s.posMax,\n    r = s.pos;\n  if (s.src.charCodeAt(r) !== 94 || e || r + 2 >= n || s.level >= s.options.maxNesting) return !1;\n  for (s.pos = r + 1; s.pos < n;) {\n    if (s.src.charCodeAt(s.pos) === 94) {\n      t = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return !t || r + 1 === s.pos || (i = s.src.slice(r + 1, s.pos), i.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) ? (s.pos = r, !1) : (s.posMax = s.pos, s.pos = r + 1, e || s.push({\n    type: \"sup\",\n    level: s.level,\n    content: i.replace(kr, \"$1\")\n  }), s.pos = s.posMax + 1, s.posMax = n, !0);\n}\nfunction Lr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o,\n    a,\n    l,\n    c,\n    d = !1,\n    u = s.pos,\n    p = s.posMax,\n    h = s.pos,\n    g = s.src.charCodeAt(h);\n  if (g === 33 && (d = !0, g = s.src.charCodeAt(++h)), g !== 91 || s.level >= s.options.maxNesting || (t = h + 1, i = mt(s, h), i < 0)) return !1;\n  if (a = i + 1, a < p && s.src.charCodeAt(a) === 40) {\n    for (a++; a < p && (c = s.src.charCodeAt(a), !(c !== 32 && c !== 10)); a++);\n    if (a >= p) return !1;\n    for (h = a, Yn(s, a) ? (r = s.linkContent, a = s.pos) : r = \"\", h = a; a < p && (c = s.src.charCodeAt(a), !(c !== 32 && c !== 10)); a++);\n    if (a < p && h !== a && Zn(s, a)) for (o = s.linkContent, a = s.pos; a < p && (c = s.src.charCodeAt(a), !(c !== 32 && c !== 10)); a++);else o = \"\";\n    if (a >= p || s.src.charCodeAt(a) !== 41) return s.pos = u, !1;\n    a++;\n  } else {\n    if (s.linkLevel > 0) return !1;\n    for (; a < p && (c = s.src.charCodeAt(a), !(c !== 32 && c !== 10)); a++);\n    if (a < p && s.src.charCodeAt(a) === 91 && (h = a + 1, a = mt(s, a), a >= 0 ? n = s.src.slice(h, a++) : a = h - 1), n || (_typeof(n) > \"u\" && (a = i + 1), n = s.src.slice(t, i)), l = s.env.references[Xn(n)], !l) return s.pos = u, !1;\n    r = l.href, o = l.title;\n  }\n  return e || (s.pos = t, s.posMax = i, d ? s.push({\n    type: \"image\",\n    src: r,\n    title: o,\n    alt: s.src.substr(t, i - t),\n    level: s.level\n  }) : (s.push({\n    type: \"link_open\",\n    href: r,\n    title: o,\n    level: s.level++\n  }), s.linkLevel++, s.parser.tokenize(s), s.linkLevel--, s.push({\n    type: \"link_close\",\n    level: --s.level\n  }))), s.pos = a, s.posMax = p, !0;\n}\nfunction Rr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o = s.posMax,\n    a = s.pos;\n  return a + 2 >= o || s.src.charCodeAt(a) !== 94 || s.src.charCodeAt(a + 1) !== 91 || s.level >= s.options.maxNesting || (t = a + 2, i = mt(s, a + 1), i < 0) ? !1 : (e || (s.env.footnotes || (s.env.footnotes = {}), s.env.footnotes.list || (s.env.footnotes.list = []), n = s.env.footnotes.list.length, s.pos = t, s.posMax = i, s.push({\n    type: \"footnote_ref\",\n    id: n,\n    level: s.level\n  }), s.linkLevel++, r = s.tokens.length, s.parser.tokenize(s), s.env.footnotes.list[n] = {\n    tokens: s.tokens.splice(r)\n  }, s.linkLevel--), s.pos = i + 1, s.posMax = o, !0);\n}\nfunction Or(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o = s.posMax,\n    a = s.pos;\n  if (a + 3 > o || !s.env.footnotes || !s.env.footnotes.refs || s.src.charCodeAt(a) !== 91 || s.src.charCodeAt(a + 1) !== 94 || s.level >= s.options.maxNesting) return !1;\n  for (i = a + 2; i < o; i++) {\n    if (s.src.charCodeAt(i) === 32 || s.src.charCodeAt(i) === 10) return !1;\n    if (s.src.charCodeAt(i) === 93) break;\n  }\n  return i === a + 2 || i >= o || (i++, t = s.src.slice(a + 2, i - 1), _typeof(s.env.footnotes.refs[\":\" + t]) > \"u\") ? !1 : (e || (s.env.footnotes.list || (s.env.footnotes.list = []), s.env.footnotes.refs[\":\" + t] < 0 ? (n = s.env.footnotes.list.length, s.env.footnotes.list[n] = {\n    label: t,\n    count: 0\n  }, s.env.footnotes.refs[\":\" + t] = n) : n = s.env.footnotes.refs[\":\" + t], r = s.env.footnotes.list[n].count, s.env.footnotes.list[n].count++, s.push({\n    type: \"footnote_ref\",\n    id: n,\n    subId: r,\n    level: s.level\n  })), s.pos = i, s.posMax = o, !0);\n}\nvar Nr = [\"coap\", \"doi\", \"javascript\", \"aaa\", \"aaas\", \"about\", \"acap\", \"cap\", \"cid\", \"crid\", \"data\", \"dav\", \"dict\", \"dns\", \"file\", \"ftp\", \"geo\", \"go\", \"gopher\", \"h323\", \"http\", \"https\", \"iax\", \"icap\", \"im\", \"imap\", \"info\", \"ipp\", \"iris\", \"iris.beep\", \"iris.xpc\", \"iris.xpcs\", \"iris.lwz\", \"ldap\", \"mailto\", \"mid\", \"msrp\", \"msrps\", \"mtqp\", \"mupdate\", \"news\", \"nfs\", \"ni\", \"nih\", \"nntp\", \"opaquelocktoken\", \"pop\", \"pres\", \"rtsp\", \"service\", \"session\", \"shttp\", \"sieve\", \"sip\", \"sips\", \"sms\", \"snmp\", \"soap.beep\", \"soap.beeps\", \"tag\", \"tel\", \"telnet\", \"tftp\", \"thismessage\", \"tn3270\", \"tip\", \"tv\", \"urn\", \"vemmi\", \"ws\", \"wss\", \"xcon\", \"xcon-userid\", \"xmlrpc.beep\", \"xmlrpc.beeps\", \"xmpp\", \"z39.50r\", \"z39.50s\", \"adiumxtra\", \"afp\", \"afs\", \"aim\", \"apt\", \"attachment\", \"aw\", \"beshare\", \"bitcoin\", \"bolo\", \"callto\", \"chrome\", \"chrome-extension\", \"com-eventbrite-attendee\", \"content\", \"cvs\", \"dlna-playsingle\", \"dlna-playcontainer\", \"dtn\", \"dvb\", \"ed2k\", \"facetime\", \"feed\", \"finger\", \"fish\", \"gg\", \"git\", \"gizmoproject\", \"gtalk\", \"hcp\", \"icon\", \"ipn\", \"irc\", \"irc6\", \"ircs\", \"itms\", \"jar\", \"jms\", \"keyparc\", \"lastfm\", \"ldaps\", \"magnet\", \"maps\", \"market\", \"message\", \"mms\", \"ms-help\", \"msnim\", \"mumble\", \"mvn\", \"notes\", \"oid\", \"palm\", \"paparazzi\", \"platform\", \"proxy\", \"psyc\", \"query\", \"res\", \"resource\", \"rmi\", \"rsync\", \"rtmp\", \"secondlife\", \"sftp\", \"sgn\", \"skype\", \"smb\", \"soldat\", \"spotify\", \"ssh\", \"steam\", \"svn\", \"teamspeak\", \"things\", \"udp\", \"unreal\", \"ut2004\", \"ventrilo\", \"view-source\", \"webcal\", \"wtai\", \"wyciwyg\", \"xfire\", \"xri\", \"ymsgr\"],\n  Pr = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,\n  Dr = /^<([a-zA-Z.\\-]{1,25}):([^<>\\x00-\\x20]*)>/;\nfunction jr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o,\n    a = s.pos;\n  return s.src.charCodeAt(a) !== 60 || (t = s.src.slice(a), t.indexOf(\">\") < 0) ? !1 : (i = t.match(Dr), i ? Nr.indexOf(i[1].toLowerCase()) < 0 || (r = i[0].slice(1, -1), o = Ni(r), !s.parser.validateLink(r)) ? !1 : (e || (s.push({\n    type: \"link_open\",\n    href: o,\n    level: s.level\n  }), s.push({\n    type: \"text\",\n    content: r,\n    level: s.level + 1\n  }), s.push({\n    type: \"link_close\",\n    level: s.level\n  })), s.pos += i[0].length, !0) : (n = t.match(Pr), n ? (r = n[0].slice(1, -1), o = Ni(\"mailto:\" + r), s.parser.validateLink(o) ? (e || (s.push({\n    type: \"link_open\",\n    href: o,\n    level: s.level\n  }), s.push({\n    type: \"text\",\n    content: r,\n    level: s.level + 1\n  }), s.push({\n    type: \"link_close\",\n    level: s.level\n  })), s.pos += n[0].length, !0) : !1) : !1));\n}\nfunction ti(s, e) {\n  return s = s.source, e = e || \"\", function t(i, n) {\n    return i ? (n = n.source || n, s = s.replace(i, n), t) : new RegExp(s, e);\n  };\n}\nvar Fr = /[a-zA-Z_:][a-zA-Z0-9:._-]*/,\n  Br = /[^\"'=<>`\\x00-\\x20]+/,\n  zr = /'[^']*'/,\n  Ur = /\"[^\"]*\"/,\n  qr = ti(/(?:unquoted|single_quoted|double_quoted)/)(\"unquoted\", Br)(\"single_quoted\", zr)(\"double_quoted\", Ur)(),\n  Hr = ti(/(?:\\s+attr_name(?:\\s*=\\s*attr_value)?)/)(\"attr_name\", Fr)(\"attr_value\", qr)(),\n  Gr = ti(/<[A-Za-z][A-Za-z0-9]*attribute*\\s*\\/?>/)(\"attribute\", Hr)(),\n  Vr = /<\\/[A-Za-z][A-Za-z0-9]*\\s*>/,\n  Wr = /<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,\n  Kr = /<[?].*?[?]>/,\n  Jr = /<![A-Z]+\\s+[^>]*>/,\n  $r = /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/,\n  Yr = ti(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)(\"open_tag\", Gr)(\"close_tag\", Vr)(\"comment\", Wr)(\"processing\", Kr)(\"declaration\", Jr)(\"cdata\", $r)();\nfunction Zr(s) {\n  var e = s | 32;\n  return e >= 97 && e <= 122;\n}\nfunction Xr(s, e) {\n  var t,\n    i,\n    n,\n    r = s.pos;\n  return !s.options.html || (n = s.posMax, s.src.charCodeAt(r) !== 60 || r + 2 >= n) || (t = s.src.charCodeAt(r + 1), t !== 33 && t !== 63 && t !== 47 && !Zr(t)) || (i = s.src.slice(r).match(Yr), !i) ? !1 : (e || s.push({\n    type: \"htmltag\",\n    content: s.src.slice(r, r + i[0].length),\n    level: s.level\n  }), s.pos += i[0].length, !0);\n}\nvar Qr = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,\n  eo = /^&([a-z][a-z0-9]{1,31});/i;\nfunction to(s, e) {\n  var t,\n    i,\n    n,\n    r = s.pos,\n    o = s.posMax;\n  if (s.src.charCodeAt(r) !== 38) return !1;\n  if (r + 1 < o) {\n    if (t = s.src.charCodeAt(r + 1), t === 35) {\n      if (n = s.src.slice(r).match(Qr), n) return e || (i = n[1][0].toLowerCase() === \"x\" ? parseInt(n[1].slice(1), 16) : parseInt(n[1], 10), s.pending += Jn(i) ? Oi(i) : Oi(65533)), s.pos += n[0].length, !0;\n    } else if (n = s.src.slice(r).match(eo), n) {\n      var a = Wn(n[1]);\n      if (n[1] !== a) return e || (s.pending += a), s.pos += n[0].length, !0;\n    }\n  }\n  return e || (s.pending += \"&\"), s.pos++, !0;\n}\nvar Mi = [[\"text\", yr], [\"newline\", xr], [\"escape\", Er], [\"backticks\", Sr], [\"del\", wr], [\"ins\", _r], [\"mark\", Mr], [\"emphasis\", Tr], [\"sub\", Ar], [\"sup\", Ir], [\"links\", Lr], [\"footnote_inline\", Rr], [\"footnote_ref\", Or], [\"autolink\", jr], [\"htmltag\", Xr], [\"entity\", to]];\nfunction ii() {\n  this.ruler = new H();\n  for (var s = 0; s < Mi.length; s++) this.ruler.push(Mi[s][0], Mi[s][1]);\n  this.validateLink = io;\n}\nii.prototype.skipToken = function (s) {\n  var e = this.ruler.getRules(\"\"),\n    t = e.length,\n    i = s.pos,\n    n,\n    r;\n  if ((r = s.cacheGet(i)) > 0) {\n    s.pos = r;\n    return;\n  }\n  for (n = 0; n < t; n++) if (e[n](s, !0)) {\n    s.cacheSet(i, s.pos);\n    return;\n  }\n  s.pos++, s.cacheSet(i, s.pos);\n};\nii.prototype.tokenize = function (s) {\n  for (var e = this.ruler.getRules(\"\"), t = e.length, i = s.posMax, n, r; s.pos < i;) {\n    for (r = 0; r < t && (n = e[r](s, !1), !n); r++);\n    if (n) {\n      if (s.pos >= i) break;\n      continue;\n    }\n    s.pending += s.src[s.pos++];\n  }\n  s.pending && s.pushPending();\n};\nii.prototype.parse = function (s, e, t, i) {\n  var n = new Oe(s, this, e, t, i);\n  this.tokenize(n);\n};\nfunction io(s) {\n  var e = [\"vbscript\", \"javascript\", \"file\", \"data\"],\n    t = s.trim().toLowerCase();\n  return t = Ie(t), !(t.indexOf(\":\") !== -1 && e.indexOf(t.split(\":\")[0]) !== -1);\n}\nvar no = {\n    options: {\n      html: !1,\n      // Enable HTML tags in source\n      xhtmlOut: !1,\n      // Use '/' to close single tags (<br />)\n      breaks: !1,\n      // Convert '\\n' in paragraphs into <br>\n      langPrefix: \"language-\",\n      // CSS language prefix for fenced blocks\n      linkTarget: \"\",\n      // set target to open link in\n      // Enable some language-neutral replacements + quotes beautification\n      typographer: !1,\n      // Double + single quotes replacement pairs, when typographer enabled,\n      // and smartquotes on. Set doubles to '' for Russian, '' for German.\n      quotes: \"\",\n      // Highlighter function. Should return escaped HTML,\n      // or '' if input not changed\n      //\n      // function (/*str, lang*/) { return ''; }\n      //\n      highlight: null,\n      maxNesting: 20\n      // Internal protection, recursion limit\n    },\n    components: {\n      core: {\n        rules: [\"block\", \"inline\", \"references\", \"replacements\", \"smartquotes\", \"references\", \"abbr2\", \"footnote_tail\"]\n      },\n      block: {\n        rules: [\"blockquote\", \"code\", \"fences\", \"footnote\", \"heading\", \"hr\", \"htmlblock\", \"lheading\", \"list\", \"paragraph\", \"table\"]\n      },\n      inline: {\n        rules: [\"autolink\", \"backticks\", \"del\", \"emphasis\", \"entity\", \"escape\", \"footnote_ref\", \"htmltag\", \"links\", \"newline\", \"text\"]\n      }\n    }\n  },\n  so = {\n    options: {\n      html: !1,\n      // Enable HTML tags in source\n      xhtmlOut: !1,\n      // Use '/' to close single tags (<br />)\n      breaks: !1,\n      // Convert '\\n' in paragraphs into <br>\n      langPrefix: \"language-\",\n      // CSS language prefix for fenced blocks\n      linkTarget: \"\",\n      // set target to open link in\n      // Enable some language-neutral replacements + quotes beautification\n      typographer: !1,\n      // Double + single quotes replacement pairs, when typographer enabled,\n      // and smartquotes on. Set doubles to '' for Russian, '' for German.\n      quotes: \"\",\n      // Highlighter function. Should return escaped HTML,\n      // or '' if input not changed\n      //\n      // function (/*str, lang*/) { return ''; }\n      //\n      highlight: null,\n      maxNesting: 20\n      // Internal protection, recursion limit\n    },\n    components: {\n      // Don't restrict core/block/inline rules\n      core: {},\n      block: {},\n      inline: {}\n    }\n  },\n  ro = {\n    options: {\n      html: !0,\n      // Enable HTML tags in source\n      xhtmlOut: !0,\n      // Use '/' to close single tags (<br />)\n      breaks: !1,\n      // Convert '\\n' in paragraphs into <br>\n      langPrefix: \"language-\",\n      // CSS language prefix for fenced blocks\n      linkTarget: \"\",\n      // set target to open link in\n      // Enable some language-neutral replacements + quotes beautification\n      typographer: !1,\n      // Double + single quotes replacement pairs, when typographer enabled,\n      // and smartquotes on. Set doubles to '' for Russian, '' for German.\n      quotes: \"\",\n      // Highlighter function. Should return escaped HTML,\n      // or '' if input not changed\n      //\n      // function (/*str, lang*/) { return ''; }\n      //\n      highlight: null,\n      maxNesting: 20\n      // Internal protection, recursion limit\n    },\n    components: {\n      core: {\n        rules: [\"block\", \"inline\", \"references\", \"abbr2\"]\n      },\n      block: {\n        rules: [\"blockquote\", \"code\", \"fences\", \"heading\", \"hr\", \"htmlblock\", \"lheading\", \"list\", \"paragraph\"]\n      },\n      inline: {\n        rules: [\"autolink\", \"backticks\", \"emphasis\", \"entity\", \"escape\", \"htmltag\", \"links\", \"newline\", \"text\"]\n      }\n    }\n  },\n  oo = {\n    \"default\": no,\n    full: so,\n    commonmark: ro\n  };\nfunction ts(s, e, t) {\n  this.src = e, this.env = t, this.options = s.options, this.tokens = [], this.inlineMode = !1, this.inline = s.inline, this.block = s.block, this.renderer = s.renderer, this.typographer = s.typographer;\n}\nfunction he(s, e) {\n  typeof s != \"string\" && (e = s, s = \"default\"), e && e.linkify != null && console.warn(\"linkify option is removed. Use linkify plugin instead:\\n\\nimport Remarkable from 'remarkable';\\nimport linkify from 'remarkable/linkify';\\nnew Remarkable().use(linkify)\\n\"), this.inline = new ii(), this.block = new Vi(), this.core = new Qn(), this.renderer = new Gi(), this.ruler = new H(), this.options = {}, this.configure(oo[s]), this.set(e || {});\n}\nhe.prototype.set = function (s) {\n  Kn(this.options, s);\n};\nhe.prototype.configure = function (s) {\n  var e = this;\n  if (!s) throw new Error(\"Wrong `remarkable` preset, check name/content\");\n  s.options && e.set(s.options), s.components && Object.keys(s.components).forEach(function (t) {\n    s.components[t].rules && e[t].ruler.enable(s.components[t].rules, !0);\n  });\n};\nhe.prototype.use = function (s, e) {\n  return s(this, e), this;\n};\nhe.prototype.parse = function (s, e) {\n  var t = new ts(this, s, e);\n  return this.core.process(t), t.tokens;\n};\nhe.prototype.render = function (s, e) {\n  return e = e || {}, this.renderer.render(this.parse(s, e), this.options, e);\n};\nhe.prototype.parseInline = function (s, e) {\n  var t = new ts(this, s, e);\n  return t.inlineMode = !0, this.core.process(t), t.tokens;\n};\nhe.prototype.renderInline = function (s, e) {\n  return e = e || {}, this.renderer.render(this.parseInline(s, e), this.options, e);\n};\nvar Pi = /*#__PURE__*/function () {\n  function Pi() {\n    _classCallCheck(this, Pi);\n  }\n  _createClass(Pi, null, [{\n    key: \"createNew\",\n    value: function createNew() {\n      var e = window.hljs;\n      return e ? new he({\n        highlight: function highlight(t, i) {\n          if (i && e.getLanguage(i)) try {\n            return e.highlight(i, t).value;\n          } catch (_unused3) {\n            console.error(\"failed to setup the highlight dependency\");\n          }\n          try {\n            return e.highlightAuto(t).value;\n          } catch (_unused4) {\n            console.error(\"failed to automatically highlight messages\");\n          }\n          return \"\";\n        },\n        html: !1,\n        // Enable HTML tags in source\n        xhtmlOut: !1,\n        // Use '/' to close single tags (<br />)\n        breaks: !1,\n        // Convert '\\n' in paragraphs into <br>\n        langPrefix: \"language-\",\n        // CSS language prefix for fenced blocks\n        linkTarget: \"_blank\",\n        // set target to open in a new tab\n        typographer: !0\n        // Enable smartypants and other sweet transforms\n      }) : new he({\n        highlight: function highlight(t) {\n          return t;\n        },\n        linkTarget: \"_blank\"\n        // set target to open in a new tab\n      });\n    }\n  }]);\n  return Pi;\n}();\nvar is = /*#__PURE__*/function () {\n  function Pt() {\n    _classCallCheck(this, Pt);\n  }\n  _createClass(Pt, null, [{\n    key: \"addMessage\",\n    value: function addMessage(e, t, i, n) {\n      var r;\n      e.elementRef.appendChild(t.outerContainer), e.applyCustomStyles(t, n, !0, (r = e.messageStyles) == null ? void 0 : r[i]), e.elementRef.scrollTop = e.elementRef.scrollHeight;\n    }\n  }, {\n    key: \"wrapInLink\",\n    value: function wrapInLink(e, t) {\n      var i = document.createElement(\"a\");\n      return i.href = t, i.target = \"_blank\", i.appendChild(e), i;\n    }\n  }, {\n    key: \"processContent\",\n    value: function processContent(e, t) {\n      return !t || t.startsWith(\"data\") ? e : Pt.wrapInLink(e, t);\n    }\n  }, {\n    key: \"waitToLoadThenScroll\",\n    value: function waitToLoadThenScroll(e) {\n      setTimeout(function () {\n        e.scrollTop = e.scrollHeight;\n      }, 60);\n    }\n  }, {\n    key: \"scrollDownOnImageLoad\",\n    value: function scrollDownOnImageLoad(e, t) {\n      if (e.startsWith(\"data\")) Pt.waitToLoadThenScroll(t);else try {\n        fetch(e, {\n          mode: \"no-cors\"\n        })[\"catch\"](function () {})[\"finally\"](function () {\n          Pt.waitToLoadThenScroll(t);\n        });\n      } catch (_unused5) {\n        t.scrollTop = t.scrollHeight;\n      }\n    }\n    // The strategy is to emit the actual file reference in the `onNewMessage` event for the user to inspect it\n    // But it is not actually used by anything in the chat, hence it is removed when adding a message\n    // after the body has been stringified and parsed - the file reference will disappear, hence this readds it\n  }, {\n    key: \"reAddFileRefToObject\",\n    value: function reAddFileRefToObject(e, t) {\n      var i;\n      (i = e.files) == null || i.forEach(function (n, r) {\n        var o;\n        n.ref && (o = t.message.files) != null && o[r] && (t.message.files[r].ref = n.ref);\n      });\n    }\n    // the chat does not use the actual file\n  }, {\n    key: \"removeFileRef\",\n    value: function removeFileRef(e) {\n      var t = _objectSpread({}, e);\n      return delete t.ref, t;\n    }\n  }]);\n  return Pt;\n}();\nis.DEFAULT_FILE_NAME = \"file\";\nvar ne = is;\nvar jt = /*#__PURE__*/function () {\n  function jt() {\n    _classCallCheck(this, jt);\n  }\n  _createClass(jt, null, [{\n    key: \"onNewMessage\",\n    value: function onNewMessage(e, t, i) {\n      var r;\n      var n = JSON.parse(JSON.stringify({\n        message: t,\n        isInitial: i\n      }));\n      ne.reAddFileRefToObject(t, n), (r = e.onNewMessage) == null || r.call(e, n), e.dispatchEvent(new CustomEvent(\"new-message\", {\n        detail: n\n      }));\n    }\n  }, {\n    key: \"onClearMessages\",\n    value: function onClearMessages(e) {\n      var t;\n      (t = e.onClearMessages) == null || t.call(e), e.dispatchEvent(new CustomEvent(\"clear-messages\"));\n    }\n  }, {\n    key: \"onRender\",\n    value: function onRender(e) {\n      var t;\n      (t = e.onComponentRender) == null || t.call(e), e.dispatchEvent(new CustomEvent(\"render\"));\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(e, t) {\n      var i;\n      (i = e.onError) == null || i.call(e, t), e.dispatchEvent(new CustomEvent(\"error\", {\n        detail: t\n      }));\n    }\n  }]);\n  return jt;\n}();\nvar D = /*#__PURE__*/function () {\n  function D() {\n    _classCallCheck(this, D);\n  }\n  _createClass(D, null, [{\n    key: \"applyCustomStylesToElements\",\n    value: function applyCustomStylesToElements(e, t, i) {\n      if (i && (Object.assign(e.outerContainer.style, i.outerContainer), Object.assign(e.innerContainer.style, i.innerContainer), Object.assign(e.bubbleElement.style, i.bubble), t)) {\n        var n = e.bubbleElement.children[0],\n          r = n.tagName.toLocaleLowerCase() !== \"a\" ? n : n.children[0];\n        Object.assign(r.style, i.media);\n      }\n    }\n  }, {\n    key: \"applySideStyles\",\n    value: function applySideStyles(e, t, i, n) {\n      n && (D.applyCustomStylesToElements(e, i, n.shared), t === v.USER_ROLE ? D.applyCustomStylesToElements(e, i, n.user) : (D.applyCustomStylesToElements(e, i, n.ai), D.applyCustomStylesToElements(e, i, n[t])));\n    }\n  }, {\n    key: \"isMessageSideStyles\",\n    value: function isMessageSideStyles(e) {\n      return !!(e.ai || e.shared || e.user);\n    }\n    // prettier-ignore\n  }, {\n    key: \"applyCustomStyles\",\n    value: function applyCustomStyles(e, t, i, n, r) {\n      var o;\n      r && e[\"default\"] !== r ? D.isMessageSideStyles(r) ? (D.applySideStyles(t, i, n, e[\"default\"]), D.applySideStyles(t, i, n, r)) : (D.applyCustomStylesToElements(t, n, (o = e[\"default\"]) == null ? void 0 : o.shared), D.applyCustomStylesToElements(t, n, r)) : D.applySideStyles(t, i, n, e[\"default\"]);\n    }\n    // prettier-ignore\n  }, {\n    key: \"extractParticularSharedStyles\",\n    value: function extractParticularSharedStyles(e, t) {\n      if (!(t != null && t.shared)) return;\n      var i = t.shared,\n        n = {\n          outerContainer: {},\n          innerContainer: {},\n          bubble: {},\n          media: {}\n        };\n      return e.forEach(function (r) {\n        var o, a, l, c;\n        n.outerContainer[r] = ((o = i.outerContainer) == null ? void 0 : o[r]) || \"\", n.innerContainer[r] = ((a = i.innerContainer) == null ? void 0 : a[r]) || \"\", n.bubble[r] = ((l = i.bubble) == null ? void 0 : l[r]) || \"\", n.media[r] = ((c = i.media) == null ? void 0 : c[r]) || \"\";\n      }), n;\n    }\n  }]);\n  return D;\n}();\nvar ao = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8c3ZnIGZpbGw9IiMwMDAwMDAiIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIAoJCXZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+Cgk8cGF0aCBkPSJNMjMsMzAuMzZIOWMtMi40MDQsMC00LjM2LTEuOTU2LTQuMzYtNC4zNlYxNWMwLTIuNDA0LDEuOTU2LTQuMzYsNC4zNi00LjM2aDMuNjU5CgkJYzAuMTY3LTEuNTY2LDEuNDE1LTIuODEzLDIuOTgxLTIuOTgxVjUuMzMzYy0xLjEzMS0wLjE3NC0yLTEuMTU0LTItMi4zMzNjMC0xLjMwMSwxLjA1OS0yLjM2LDIuMzYtMi4zNgoJCWMxLjMwMiwwLDIuMzYsMS4wNTksMi4zNiwyLjM2YzAsMS4xNzktMC44NjksMi4xNTktMiwyLjMzM1Y3LjY2YzEuNTY2LDAuMTY3LDIuODE0LDEuNDE1LDIuOTgxLDIuOTgxSDIzCgkJYzIuNDA0LDAsNC4zNiwxLjk1Niw0LjM2LDQuMzZ2MTFDMjcuMzYsMjguNDA0LDI1LjQwNCwzMC4zNiwyMywzMC4zNnogTTksMTEuMzZjLTIuMDA3LDAtMy42NCwxLjYzMy0zLjY0LDMuNjR2MTEKCQljMCwyLjAwNywxLjYzMywzLjY0LDMuNjQsMy42NGgxNGMyLjAwNywwLDMuNjQtMS42MzMsMy42NC0zLjY0VjE1YzAtMi4wMDctMS42MzMtMy42NC0zLjY0LTMuNjRIOXogTTEzLjM4NCwxMC42NGg1LjIzMQoJCUMxOC40MzksOS4zNTQsMTcuMzM0LDguMzYsMTYsOC4zNkMxNC42NjcsOC4zNiwxMy41NjEsOS4zNTQsMTMuMzg0LDEwLjY0eiBNMTYsMS4zNmMtMC45MDQsMC0xLjY0LDAuNzM2LTEuNjQsMS42NAoJCVMxNS4wOTYsNC42NCwxNiw0LjY0YzAuOTA0LDAsMS42NC0wLjczNiwxLjY0LTEuNjRTMTYuOTA0LDEuMzYsMTYsMS4zNnogTTIwLDI3LjM2aC04Yy0xLjMwMSwwLTIuMzYtMS4wNTktMi4zNi0yLjM2CgkJczEuMDU5LTIuMzYsMi4zNi0yLjM2aDhjMS4zMDIsMCwyLjM2LDEuMDU5LDIuMzYsMi4zNlMyMS4zMDIsMjcuMzYsMjAsMjcuMzZ6IE0xMiwyMy4zNmMtMC45MDQsMC0xLjY0LDAuNzM1LTEuNjQsMS42NAoJCXMwLjczNiwxLjY0LDEuNjQsMS42NGg4YzAuOTA0LDAsMS42NC0wLjczNSwxLjY0LTEuNjRzLTAuNzM1LTEuNjQtMS42NC0xLjY0SDEyeiBNMzEsMjMuODZoLTJjLTAuMTk5LDAtMC4zNi0wLjE2MS0wLjM2LTAuMzZWMTUKCQljMC0wLjE5OSwwLjE2MS0wLjM2LDAuMzYtMC4zNmgyYzAuMTk5LDAsMC4zNiwwLjE2MSwwLjM2LDAuMzZ2OC41QzMxLjM2LDIzLjY5OSwzMS4xOTksMjMuODYsMzEsMjMuODZ6IE0yOS4zNiwyMy4xNGgxLjI3OXYtNy43OAoJCUgyOS4zNlYyMy4xNHogTTMsMjMuODZIMWMtMC4xOTksMC0wLjM2LTAuMTYxLTAuMzYtMC4zNlYxNWMwLTAuMTk5LDAuMTYxLTAuMzYsMC4zNi0wLjM2aDJjMC4xOTksMCwwLjM2LDAuMTYxLDAuMzYsMC4zNnY4LjUKCQlDMy4zNiwyMy42OTksMy4xOTksMjMuODYsMywyMy44NnogTTEuMzYsMjMuMTRoMS4yOHYtNy43OEgxLjM2VjIzLjE0eiBNMjAsMjAuMzZjLTEuMzAyLDAtMi4zNi0xLjA1OS0yLjM2LTIuMzYKCQlzMS4wNTktMi4zNiwyLjM2LTIuMzZzMi4zNiwxLjA1OSwyLjM2LDIuMzZDMjIuMzYsMTkuMzAyLDIxLjMwMiwyMC4zNiwyMCwyMC4zNnogTTIwLDE2LjM2Yy0wLjkwNCwwLTEuNjQsMC43MzYtMS42NCwxLjY0CgkJczAuNzM1LDEuNjQsMS42NCwxLjY0czEuNjQtMC43MzUsMS42NC0xLjY0UzIwLjkwNCwxNi4zNiwyMCwxNi4zNnogTTEyLDIwLjM2Yy0xLjMwMSwwLTIuMzYtMS4wNTktMi4zNi0yLjM2czEuMDU5LTIuMzYsMi4zNi0yLjM2CgkJczIuMzYsMS4wNTksMi4zNiwyLjM2QzE0LjM2LDE5LjMwMiwxMy4zMDEsMjAuMzYsMTIsMjAuMzZ6IE0xMiwxNi4zNmMtMC45MDQsMC0xLjY0LDAuNzM2LTEuNjQsMS42NHMwLjczNiwxLjY0LDEuNjQsMS42NAoJCXMxLjY0LTAuNzM1LDEuNjQtMS42NFMxMi45MDQsMTYuMzYsMTIsMTYuMzZ6Ii8+Cgk8cmVjdCBzdHlsZT0iZmlsbDpub25lOyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIi8+Cjwvc3ZnPg==\",\n  lo = \"data:image/png;base64,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\";\nvar ce = /*#__PURE__*/function () {\n  function ce() {\n    _classCallCheck(this, ce);\n  }\n  _createClass(ce, null, [{\n    key: \"applyCustomStylesToElements\",\n    value: function applyCustomStylesToElements(e, t, i) {\n      Object.assign(e.style, i.container), Object.assign(t.style, i.avatar);\n    }\n  }, {\n    key: \"applyCustomStyles\",\n    value: function applyCustomStyles(e, t, i, n) {\n      var r, o, a, l;\n      if ((r = i[\"default\"]) != null && r.styles && ce.applyCustomStylesToElements(e, t, i[\"default\"].styles), n === v.USER_ROLE) (o = i.user) != null && o.styles && ce.applyCustomStylesToElements(e, t, i.user.styles);else {\n        (a = i.ai) != null && a.styles && ce.applyCustomStylesToElements(e, t, i.ai.styles);\n        var c = (l = i[n]) == null ? void 0 : l.styles;\n        c && ce.applyCustomStylesToElements(e, t, c);\n      }\n    }\n  }, {\n    key: \"createAvatar\",\n    value: function createAvatar(e, t) {\n      var r, o, a, l, c;\n      var i = document.createElement(\"img\");\n      e === v.USER_ROLE ? i.src = ((r = t == null ? void 0 : t.user) == null ? void 0 : r.src) || ((o = t == null ? void 0 : t[\"default\"]) == null ? void 0 : o.src) || lo : i.src = ((a = t == null ? void 0 : t[e]) == null ? void 0 : a.src) || ((l = t == null ? void 0 : t.ai) == null ? void 0 : l.src) || ((c = t == null ? void 0 : t[\"default\"]) == null ? void 0 : c.src) || ao, i.classList.add(\"avatar\");\n      var n = document.createElement(\"div\");\n      return n.classList.add(\"avatar-container\"), n.appendChild(i), t && ce.applyCustomStyles(n, i, t, e), n;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(e, t) {\n      var _i2, _i3, _i4;\n      var n, r, o, a, l, c;\n      var i = (r = (n = t == null ? void 0 : t[e]) == null ? void 0 : n.styles) == null ? void 0 : r.position;\n      return e !== v.USER_ROLE && ((_i2 = i) !== null && _i2 !== void 0 ? _i2 : i = (a = (o = t == null ? void 0 : t.ai) == null ? void 0 : o.styles) == null ? void 0 : a.position), (_i3 = i) !== null && _i3 !== void 0 ? _i3 : i = (c = (l = t == null ? void 0 : t[\"default\"]) == null ? void 0 : l.styles) == null ? void 0 : c.position, (_i4 = i) !== null && _i4 !== void 0 ? _i4 : i = e === v.USER_ROLE ? \"right\" : \"left\", i;\n    }\n  }, {\n    key: \"add\",\n    value: function add(e, t, i) {\n      var n = typeof i == \"boolean\" ? void 0 : i,\n        r = ce.createAvatar(t, n),\n        o = ce.getPosition(t, n);\n      r.classList.add(o === \"left\" ? \"left-item-position\" : \"right-item-position\"), e.insertAdjacentElement(o === \"left\" ? \"beforebegin\" : \"afterend\", r);\n    }\n  }]);\n  return ce;\n}();\nvar Ve = /*#__PURE__*/function () {\n  function Ve() {\n    _classCallCheck(this, Ve);\n  }\n  _createClass(Ve, null, [{\n    key: \"getPosition\",\n    value: function getPosition(e, t) {\n      var _i5, _i6, _i7;\n      var n, r, o;\n      var i = (n = t == null ? void 0 : t[e]) == null ? void 0 : n.position;\n      return e !== v.USER_ROLE && ((_i5 = i) !== null && _i5 !== void 0 ? _i5 : i = (r = t == null ? void 0 : t.ai) == null ? void 0 : r.position), (_i6 = i) !== null && _i6 !== void 0 ? _i6 : i = (o = t == null ? void 0 : t[\"default\"]) == null ? void 0 : o.position, (_i7 = i) !== null && _i7 !== void 0 ? _i7 : i = e === v.USER_ROLE ? \"right\" : \"left\", i;\n    }\n  }, {\n    key: \"applyStyle\",\n    value: function applyStyle(e, t, i) {\n      var n, r, o, a;\n      Object.assign(e.style, (n = i[\"default\"]) == null ? void 0 : n.style), t === v.USER_ROLE ? Object.assign(e.style, (r = i.user) == null ? void 0 : r.style) : (Object.assign(e.style, (o = i.ai) == null ? void 0 : o.style), Object.assign(e.style, (a = i[t]) == null ? void 0 : a.style));\n    }\n  }, {\n    key: \"getNameText\",\n    value: function getNameText(e, t) {\n      var i, n, r, o, a, l;\n      return e === v.USER_ROLE ? ((i = t.user) == null ? void 0 : i.text) || ((n = t[\"default\"]) == null ? void 0 : n.text) || \"User\" : e === v.AI_ROLE ? ((r = t.ai) == null ? void 0 : r.text) || ((o = t[\"default\"]) == null ? void 0 : o.text) || \"AI\" : ((a = t[e]) == null ? void 0 : a.text) || ((l = t[\"default\"]) == null ? void 0 : l.text) || e;\n    }\n  }, {\n    key: \"createName\",\n    value: function createName(e, t) {\n      var i = document.createElement(\"div\");\n      return i.classList.add(\"name\"), i.textContent = Ve.getNameText(e, t), Ve.applyStyle(i, e, t), i;\n    }\n  }, {\n    key: \"add\",\n    value: function add(e, t, i) {\n      var n = typeof i == \"boolean\" ? {} : i,\n        r = Ve.createName(t, n),\n        o = Ve.getPosition(t, n);\n      r.classList.add(o === \"left\" ? \"left-item-position\" : \"right-item-position\"), e.insertAdjacentElement(o === \"left\" ? \"beforebegin\" : \"afterend\", r);\n    }\n  }]);\n  return Ve;\n}();\nvar Ke = /*#__PURE__*/function () {\n  function Ke(e) {\n    var _this3 = this;\n    _classCallCheck(this, Ke);\n    this.messageElementRefs = [], this.messages = [], this.htmlClassUtilities = {}, this.textElementsToText = [], this.elementRef = Ke.createContainerElement(), this.messageStyles = e.messageStyles, this._remarkable = Pi.createNew(), this._avatars = e.avatars, this._names = e.names, this._onNewMessage = jt.onNewMessage.bind(this, e), e.htmlClassUtilities && (this.htmlClassUtilities = e.htmlClassUtilities), setTimeout(function () {\n      _this3.submitUserMessage = e.submitUserMessage;\n    });\n  }\n  _createClass(Ke, [{\n    key: \"addNewTextMessage\",\n    value: function addNewTextMessage(e, t, i) {\n      if (i != null && i.status) {\n        var r = this.overwriteText(t, e, this.messageElementRefs);\n        if (r) return r;\n        i.status = !1;\n      }\n      var n = this.createAndAppendNewMessageElement(e, t);\n      return n.bubbleElement.classList.add(\"text-message\"), this.applyCustomStyles(n, t, !1), v.fillEmptyMessageElement(n.bubbleElement, e), this.textElementsToText.push([n, e]), n;\n    }\n  }, {\n    key: \"overwriteText\",\n    value: function overwriteText(e, t, i) {\n      var n = v.overwriteMessage(this.messages, i, t, e, \"text\", \"text-message\");\n      if (n) {\n        this.renderText(n.bubbleElement, t);\n        var r = v.getLastTextToElement(this.textElementsToText, n);\n        r && (r[1] = t);\n      }\n      return n;\n    }\n  }, {\n    key: \"createAndAppendNewMessageElement\",\n    value: function createAndAppendNewMessageElement(e, t) {\n      var _this4 = this;\n      var i = this.createNewMessageElement(e, t);\n      return this.elementRef.appendChild(i.outerContainer), setTimeout(function () {\n        return Y.scrollToBottom(_this4.elementRef);\n      }), i;\n    }\n  }, {\n    key: \"createNewMessageElement\",\n    value: function createNewMessageElement(e, t) {\n      var n;\n      (n = this._introPanel) == null || n.hide();\n      var i = this.messageElementRefs[this.messageElementRefs.length - 1];\n      return Ke.isTemporaryElement(i) && (i.outerContainer.remove(), this.messageElementRefs.pop()), this.createMessageElements(e, t);\n    }\n  }, {\n    key: \"createMessageElements\",\n    value: function createMessageElements(e, t) {\n      var i = Ke.createBaseElements(),\n        n = i.outerContainer,\n        r = i.innerContainer,\n        o = i.bubbleElement;\n      return n.appendChild(r), this.addInnerContainerElements(o, e, t), this.messageElementRefs.push(i), i;\n    }\n  }, {\n    key: \"addInnerContainerElements\",\n    value:\n    // prettier-ignore\n    function addInnerContainerElements(e, t, i) {\n      return e.classList.add(\"message-bubble\", v.getRoleClass(i), i === v.USER_ROLE ? \"user-message-text\" : \"ai-message-text\"), this.renderText(e, t), this._avatars && ce.add(e, i, this._avatars), this._names && Ve.add(e, i, this._names), {\n        bubbleElement: e\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"applyCustomStyles\",\n    value: function applyCustomStyles(e, t, i, n) {\n      e && this.messageStyles && D.applyCustomStyles(this.messageStyles, e, t, i, n);\n    }\n  }, {\n    key: \"removeLastMessage\",\n    value: function removeLastMessage() {\n      this.messageElementRefs[this.messageElementRefs.length - 1].outerContainer.remove(), this.messageElementRefs.pop();\n    }\n  }, {\n    key: \"sendClientUpdate\",\n    value: function sendClientUpdate(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n      var i;\n      (i = this._onNewMessage) == null || i.call(this, e, t);\n    }\n  }, {\n    key: \"renderText\",\n    value: function renderText(e, t) {\n      e.innerHTML = this._remarkable.render(t), e.innerText.trim().length === 0 && (e.innerText = t);\n    }\n    // this is mostly used for enabling highlight.js to highlight code if it downloads later\n  }, {\n    key: \"refreshTextMessages\",\n    value: function refreshTextMessages() {\n      var _this5 = this;\n      this._remarkable = Pi.createNew(), this.textElementsToText.forEach(function (e) {\n        _this5.renderText(e[0].bubbleElement, e[1]);\n      });\n    }\n  }], [{\n    key: \"createContainerElement\",\n    value: function createContainerElement() {\n      var e = document.createElement(\"div\");\n      return e.id = \"messages\", e;\n    }\n  }, {\n    key: \"isTemporaryElement\",\n    value: function isTemporaryElement(e) {\n      return (e == null ? void 0 : e.bubbleElement.classList.contains(\"loading-message-text\")) || be.isElementTemporary(e);\n    }\n  }, {\n    key: \"createBaseElements\",\n    value: function createBaseElements() {\n      var e = document.createElement(\"div\"),\n        t = document.createElement(\"div\");\n      t.classList.add(\"inner-message-container\"), e.appendChild(t), e.classList.add(\"outer-message-container\");\n      var i = document.createElement(\"div\");\n      return i.classList.add(\"message-bubble\"), t.appendChild(i), {\n        outerContainer: e,\n        innerContainer: t,\n        bubbleElement: i\n      };\n    }\n  }, {\n    key: \"createMessageContent\",\n    value: function createMessageContent(e) {\n      var t = e.text,\n        i = e.files,\n        n = e.html,\n        r = e._sessionId,\n        o = e.role,\n        a = {\n          role: o || v.AI_ROLE\n        };\n      return t && (a.text = t), i && (a.files = i), n && (a.html = n), !t && !i && !n && (a.text = \"\"), r && (a._sessionId = r), a;\n    }\n  }]);\n  return Ke;\n}();\nvar Ki = /*#__PURE__*/function () {\n  // used for extracting at end and for isStreaming\n  function st(e) {\n    _classCallCheck(this, st);\n    this._streamedContent = \"\", this._streamType = \"\", this._hasStreamEnded = !1, this._messages = e;\n  }\n  _createClass(st, [{\n    key: \"upsertStreamedMessage\",\n    value: function upsertStreamedMessage(e) {\n      var r;\n      if (this._hasStreamEnded) return;\n      if ((e == null ? void 0 : e.text) === void 0 && (e == null ? void 0 : e.html) === void 0) return console.error(C.INVALID_STREAM_EVENT);\n      var t = (e == null ? void 0 : e.text) || (e == null ? void 0 : e.html) || \"\",\n        i = Y.isScrollbarAtBottomOfElement(this._messages.elementRef),\n        n = (e == null ? void 0 : e.text) !== void 0 ? \"text\" : \"html\";\n      if (!this._elements && this._streamedContent === \"\") this.setInitialState(n, t, e == null ? void 0 : e.role);else {\n        if (this._streamType !== n) return console.error(C.INVALID_STREAM_EVENT_MIX);\n        this.updateBasedOnType(t, n, (r = this._elements) == null ? void 0 : r.bubbleElement, e == null ? void 0 : e.overwrite);\n      }\n      i && Y.scrollToBottom(this._messages.elementRef);\n    }\n  }, {\n    key: \"setInitialState\",\n    value: function setInitialState(e, t, i) {\n      var _i8;\n      this._streamType = e, (_i8 = i) !== null && _i8 !== void 0 ? _i8 : i = v.AI_ROLE, this._elements = e === \"text\" ? this._messages.addNewTextMessage(t, i) : Ye.add(this._messages, t, i, this._messages.messageElementRefs), this._elements.bubbleElement.classList.add(st.MESSAGE_CLASS), this._streamedContent = t, this._activeMessageRole = i;\n    }\n  }, {\n    key: \"updateBasedOnType\",\n    value: function updateBasedOnType(e, t, i) {\n      var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n      v.unfillEmptyMessageElement(i, e), (t === \"text\" ? this.updateText : this.updateHTML).bind(this)(e, i, n);\n    }\n  }, {\n    key: \"updateText\",\n    value: function updateText(e, t, i) {\n      this._streamedContent = i ? e : this._streamedContent + e, this._messages.textElementsToText[this._messages.textElementsToText.length - 1][1] = this._streamedContent, this._messages.renderText(t, this._streamedContent);\n    }\n  }, {\n    key: \"updateHTML\",\n    value: function updateHTML(e, t, i) {\n      if (i) this._streamedContent = e, t.innerHTML = e;else {\n        var n = document.createElement(\"span\");\n        n.innerHTML = e, t.appendChild(n), this._streamedContent = st.HTML_CONTENT_PLACEHOLDER;\n      }\n    }\n  }, {\n    key: \"finaliseStreamedMessage\",\n    value: function finaliseStreamedMessage() {\n      var r, o;\n      var _this$_messages = this._messages,\n        e = _this$_messages.textElementsToText,\n        t = _this$_messages.elementRef,\n        i = (r = v.getLastMessageBubbleElement(t)) == null ? void 0 : r.classList;\n      if (i != null && i.contains(\"loading-message-text\")) throw Error(C.NO_VALID_STREAM_EVENTS_SENT);\n      if (!(i != null && i.contains(st.MESSAGE_CLASS))) return;\n      var n = {\n        role: this._activeMessageRole || v.AI_ROLE\n      };\n      this._streamType === \"text\" ? (e[e.length - 1][1] = this._streamedContent, n.text = this._streamedContent, this._messages.textToSpeech && Nt.speak(this._streamedContent, this._messages.textToSpeech)) : this._streamType === \"html\" && (this._streamedContent === st.HTML_CONTENT_PLACEHOLDER && (this._streamedContent = ((o = v.getLastMessageBubbleElement(t)) == null ? void 0 : o.innerHTML) || \"\"), this._elements && se.apply(this._messages, this._elements.outerContainer), n.html = this._streamedContent), n && (this._messages.messages.push(n), this._messages.sendClientUpdate(Ke.createMessageContent(n), !1)), this._hasStreamEnded = !0;\n    }\n  }]);\n  return st;\n}();\nKi.MESSAGE_CLASS = \"streamed-message\";\nKi.HTML_CONTENT_PLACEHOLDER = \"htmlplaceholder\";\nvar Ze = Ki;\nvar ns = /*#__PURE__*/function () {\n  function rt() {\n    _classCallCheck(this, rt);\n  }\n  _createClass(rt, null, [{\n    key: \"tempRemoveContentHeader\",\n    value: // need to pass stringifyBody boolean separately as binding is throwing an error for some reason\n    // prettier-ignore\n    function () {\n      var _tempRemoveContentHeader = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e, t, i) {\n        var n, r;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (e != null && e.headers) {\n                _context.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              n = e.headers[rt.CONTENT_TYPE];\n              delete e.headers[rt.CONTENT_TYPE];\n              _context.prev = 4;\n              _context.next = 7;\n              return t(i);\n            case 7:\n              r = _context.sent;\n              _context.next = 13;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](4);\n              throw e.headers[rt.CONTENT_TYPE] = n, _context.t0;\n            case 13:\n              return _context.abrupt(\"return\", (e.headers[rt.CONTENT_TYPE] = n, r));\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[4, 10]]);\n      }));\n      function tempRemoveContentHeader(_x5, _x6, _x7) {\n        return _tempRemoveContentHeader.apply(this, arguments);\n      }\n      return tempRemoveContentHeader;\n    }()\n  }, {\n    key: \"displayError\",\n    value: function displayError(e, t) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"Service error, please try again.\";\n      if (console.error(t), _typeof(t) == \"object\") return Object.keys(t).length === 0 ? e.addNewErrorMessage(\"service\", i) : e.addNewErrorMessage(\"service\", JSON.stringify(t));\n      e.addNewErrorMessage(\"service\", t);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  }, {\n    key: \"fetch\",\n    value: function (_fetch) {\n      function fetch(_x, _x2, _x3, _x4) {\n        return _fetch.apply(this, arguments);\n      }\n      fetch.toString = function () {\n        return _fetch.toString();\n      };\n      return fetch;\n    }(function (e, t, i, n) {\n      var o, a;\n      var r = {\n        method: ((o = e.requestSettings) == null ? void 0 : o.method) || \"POST\",\n        headers: t\n      };\n      return r.method !== \"GET\" && (r.body = i ? JSON.stringify(n) : n), e.requestSettings.credentials && (r.credentials = e.requestSettings.credentials), fetch(((a = e.requestSettings) == null ? void 0 : a.url) || e.url || \"\", r);\n    })\n  }, {\n    key: \"processResponseByType\",\n    value: function processResponseByType(e) {\n      var t = e.headers.get(\"content-type\");\n      return t != null && t.includes(\"application/json\") ? e.json() : t != null && t.includes(\"text/plain\") || !t ? e : e.blob();\n    }\n  }, {\n    key: \"processRequestInterceptor\",\n    value: function () {\n      var _processRequestInterceptor = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e, t) {\n        var o, i, n, r;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return (o = e.requestInterceptor) == null ? void 0 : o.call(e, t);\n            case 2:\n              _context2.t0 = _context2.sent;\n              if (_context2.t0) {\n                _context2.next = 5;\n                break;\n              }\n              _context2.t0 = t;\n            case 5:\n              i = _context2.t0;\n              n = i;\n              r = i;\n              return _context2.abrupt(\"return\", {\n                body: n.body,\n                headers: n.headers,\n                error: r.error\n              });\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      function processRequestInterceptor(_x8, _x9) {\n        return _processRequestInterceptor.apply(this, arguments);\n      }\n      return processRequestInterceptor;\n    }()\n  }, {\n    key: \"validateResponseFormat\",\n    value: function validateResponseFormat(e) {\n      return e && _typeof(e) == \"object\" && (typeof e.error == \"string\" || typeof e.text == \"string\" || typeof e.html == \"string\" || Array.isArray(e.files));\n    }\n  }, {\n    key: \"onInterceptorError\",\n    value: function onInterceptorError(e, t, i) {\n      e.addNewErrorMessage(\"service\", t), i == null || i();\n    }\n  }]);\n  return rt;\n}();\nns.CONTENT_TYPE = \"Content-Type\";\nvar E = ns;\nfunction co(_x10, _x11) {\n  return _co.apply(this, arguments);\n}\nfunction _co() {\n  _co = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee104(s, e) {\n    var t, i;\n    return _regeneratorRuntime().wrap(function _callee104$(_context104) {\n      while (1) switch (_context104.prev = _context104.next) {\n        case 0:\n          t = s.getReader();\n        case 1:\n          _context104.next = 3;\n          return t.read();\n        case 3:\n          if ((i = _context104.sent).done) {\n            _context104.next = 7;\n            break;\n          }\n          e(i.value);\n        case 5:\n          _context104.next = 1;\n          break;\n        case 7:\n        case \"end\":\n          return _context104.stop();\n      }\n    }, _callee104);\n  }));\n  return _co.apply(this, arguments);\n}\nfunction uo(s) {\n  var e,\n    t,\n    i,\n    n = !1;\n  return function (o) {\n    e === void 0 ? (e = o, t = 0, i = -1) : e = po(e, o);\n    var a = e.length;\n    var l = 0;\n    for (; t < a;) {\n      n && (e[t] === 10 && (l = ++t), n = !1);\n      var c = -1;\n      for (; t < a && c === -1; ++t) switch (e[t]) {\n        case 58:\n          i === -1 && (i = t - l);\n          break;\n        case 13:\n          n = !0;\n        case 10:\n          c = t;\n          break;\n      }\n      if (c === -1) break;\n      s(e.subarray(l, c), i), l = t, i = -1;\n    }\n    l === a ? e = void 0 : l !== 0 && (e = e.subarray(l), t -= l);\n  };\n}\nfunction ho(s, e, t) {\n  var i = vn();\n  var n = new TextDecoder();\n  return function (o, a) {\n    if (o.length === 0) t == null || t(i), i = vn();else if (a > 0) {\n      var l = n.decode(o.subarray(0, a)),\n        c = a + (o[a + 1] === 32 ? 2 : 1),\n        d = n.decode(o.subarray(c));\n      switch (l) {\n        case \"data\":\n          i.data = i.data ? i.data + \"\\n\" + d : d;\n          break;\n        case \"event\":\n          i.event = d;\n          break;\n        case \"id\":\n          s(i.id = d);\n          break;\n        case \"retry\":\n          var u = parseInt(d, 10);\n          isNaN(u) || e(i.retry = u);\n          break;\n      }\n    }\n  };\n}\nfunction po(s, e) {\n  var t = new Uint8Array(s.length + e.length);\n  return t.set(s), t.set(e, s.length), t;\n}\nfunction vn() {\n  return {\n    data: \"\",\n    event: \"\",\n    id: \"\",\n    retry: void 0\n  };\n}\nvar fo = globalThis && globalThis.__rest || function (s, e) {\n  var t = {};\n  for (var i in s) Object.prototype.hasOwnProperty.call(s, i) && e.indexOf(i) < 0 && (t[i] = s[i]);\n  if (s != null && typeof Object.getOwnPropertySymbols == \"function\") for (var n = 0, i = Object.getOwnPropertySymbols(s); n < i.length; n++) e.indexOf(i[n]) < 0 && Object.prototype.propertyIsEnumerable.call(s, i[n]) && (t[i[n]] = s[i[n]]);\n  return t;\n};\nvar Di = \"text/event-stream\",\n  mo = 1e3,\n  yn = \"last-event-id\";\nfunction go(s, e) {\n  var t = e.signal,\n    i = e.headers,\n    n = e.onopen,\n    r = e.onmessage,\n    o = e.onclose,\n    a = e.onerror,\n    l = e.openWhenHidden,\n    c = e.fetch,\n    d = fo(e, [\"signal\", \"headers\", \"onopen\", \"onmessage\", \"onclose\", \"onerror\", \"openWhenHidden\", \"fetch\"]);\n  return new Promise(function (u, p) {\n    var h = Object.assign({}, i);\n    h.accept || (h.accept = Di);\n    var g;\n    function f() {\n      g.abort(), document.hidden || X();\n    }\n    l || document.addEventListener(\"visibilitychange\", f);\n    var S = mo,\n      w = 0;\n    function G() {\n      document.removeEventListener(\"visibilitychange\", f), window.clearTimeout(w), g.abort();\n    }\n    t == null || t.addEventListener(\"abort\", function () {\n      G(), u();\n    });\n    var A = c !== null && c !== void 0 ? c : window.fetch,\n      V = n !== null && n !== void 0 ? n : bo;\n    function X() {\n      return _X.apply(this, arguments);\n    }\n    function _X() {\n      _X = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var oe, Q, N;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              g = new AbortController();\n              _context3.prev = 1;\n              _context3.next = 4;\n              return A(s, Object.assign(Object.assign({}, d), {\n                headers: h,\n                signal: g.signal\n              }));\n            case 4:\n              Q = _context3.sent;\n              _context3.next = 7;\n              return V(Q);\n            case 7:\n              _context3.next = 9;\n              return co(Q.body, uo(ho(function (N) {\n                N ? h[yn] = N : delete h[yn];\n              }, function (N) {\n                S = N;\n              }, r)));\n            case 9:\n              o == null || o();\n              G();\n              u();\n              _context3.next = 17;\n              break;\n            case 14:\n              _context3.prev = 14;\n              _context3.t0 = _context3[\"catch\"](1);\n              if (!g.signal.aborted) try {\n                N = (oe = a == null ? void 0 : a(_context3.t0)) !== null && oe !== void 0 ? oe : S;\n                window.clearTimeout(w), w = window.setTimeout(X, N);\n              } catch (N) {\n                G(), p(N);\n              }\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 14]]);\n      }));\n      return _X.apply(this, arguments);\n    }\n    X();\n  });\n}\nfunction bo(s) {\n  var e = s.headers.get(\"content-type\");\n  if (!(e != null && e.startsWith(Di))) throw new Error(\"Expected content-type to be \".concat(Di, \", Actual: \").concat(e));\n}\nvar ss = /*#__PURE__*/function () {\n  function ot() {\n    _classCallCheck(this, ot);\n  }\n  _createClass(ot, null, [{\n    key: \"generateResponse\",\n    value: function generateResponse(e) {\n      var t = e.messages[e.messages.length - 1];\n      if (t.files && t.files.length > 0) {\n        if (t.files.length > 1) return \"These are interesting files!\";\n        var i = t.files[0];\n        return i.src && i.src.startsWith(\"data:image/gif\") ? \"That is a nice gif!\" : i.type === \"image\" ? \"That is a nice image!\" : i.type === \"audio\" ? \"I like the sound of that!\" : \"That is an interesting file!\";\n      }\n      if (t.text) {\n        if (t.text.charAt(t.text.length - 1) === \"?\") return \"I'm sorry but I can't answer that question...\";\n        if (t.text.includes(\"updog\")) return \"What's updog?\";\n      }\n      return \"Hi there! This is a demo response!\";\n    }\n  }, {\n    key: \"getCustomResponse\",\n    value: function getCustomResponse(e, t) {\n      return typeof e == \"function\" ? e(t) : e;\n    }\n  }, {\n    key: \"getResponse\",\n    value: function getResponse(e) {\n      return e.customDemoResponse ? ot.getCustomResponse(e.customDemoResponse, e.messages[e.messages.length - 1]) : {\n        text: ot.generateResponse(e)\n      };\n    }\n    // timeout is used to simulate a timeout for a response to come back\n  }, {\n    key: \"request\",\n    value: function request(e, t) {\n      var i = ot.getResponse(t);\n      setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var r, o, n;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return (o = (r = e.deepChat).responseInterceptor) == null ? void 0 : o.call(r, i);\n            case 2:\n              _context4.t0 = _context4.sent;\n              if (_context4.t0) {\n                _context4.next = 5;\n                break;\n              }\n              _context4.t0 = i;\n            case 5:\n              n = _context4.t0;\n              n.error ? (t.addNewErrorMessage(\"service\", n.error), e.completionsHandlers.onFinish()) : I.isSimulation(e.deepChat.stream) ? I.simulate(t, e.streamHandlers, n) : (t.addNewMessage(n), e.completionsHandlers.onFinish());\n            case 7:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      })), 400);\n    }\n    // timeout is used to simulate a timeout for a response to come back\n  }, {\n    key: \"requestStream\",\n    value: function requestStream(e, t) {\n      setTimeout(function () {\n        var i = ot.getResponse(e);\n        I.simulate(e, t, i);\n      }, 400);\n    }\n  }]);\n  return ot;\n}();\nss.URL = \"deep-chat-demo\";\nvar ve = ss;\nvar I = /*#__PURE__*/function () {\n  function I() {\n    _classCallCheck(this, I);\n  }\n  _createClass(I, null, [{\n    key: \"request\",\n    value: // prettier-ignore\n    function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(e, t, i) {\n        var n,\n          h,\n          g,\n          f,\n          S,\n          w,\n          G,\n          r,\n          _yield$E$processReque,\n          o,\n          a,\n          l,\n          _e$streamHandlers,\n          c,\n          d,\n          u,\n          p,\n          _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              n = _args7.length > 3 && _args7[3] !== undefined ? _args7[3] : !0;\n              r = {\n                body: t,\n                headers: (h = e.requestSettings) == null ? void 0 : h.headers\n              };\n              _context7.next = 4;\n              return E.processRequestInterceptor(e.deepChat, r);\n            case 4:\n              _yield$E$processReque = _context7.sent;\n              o = _yield$E$processReque.body;\n              a = _yield$E$processReque.headers;\n              l = _yield$E$processReque.error;\n              _e$streamHandlers = e.streamHandlers;\n              c = _e$streamHandlers.onOpen;\n              d = _e$streamHandlers.onClose;\n              u = _e$streamHandlers.abortStream;\n              if (!l) {\n                _context7.next = 14;\n                break;\n              }\n              return _context7.abrupt(\"return\", E.onInterceptorError(i, l, d));\n            case 14:\n              if (!((g = e.requestSettings) != null && g.handler)) {\n                _context7.next = 16;\n                break;\n              }\n              return _context7.abrupt(\"return\", Ae.stream(e, o, i));\n            case 16:\n              if (!(((f = e.requestSettings) == null ? void 0 : f.url) === ve.URL)) {\n                _context7.next = 18;\n                break;\n              }\n              return _context7.abrupt(\"return\", ve.requestStream(i, e.streamHandlers));\n            case 18:\n              p = new Ze(i);\n              go(((S = e.requestSettings) == null ? void 0 : S.url) || e.url || \"\", {\n                method: ((w = e.requestSettings) == null ? void 0 : w.method) || \"POST\",\n                headers: a,\n                credentials: (G = e.requestSettings) == null ? void 0 : G.credentials,\n                body: n ? JSON.stringify(o) : o,\n                openWhenHidden: !0,\n                // keep stream open when browser tab not open\n                onopen: function onopen(A) {\n                  return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n                    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n                      while (1) switch (_context5.prev = _context5.next) {\n                        case 0:\n                          if (!A.ok) {\n                            _context5.next = 2;\n                            break;\n                          }\n                          return _context5.abrupt(\"return\", c());\n                        case 2:\n                          _context5.next = 4;\n                          return E.processResponseByType(A);\n                        case 4:\n                          throw _context5.sent;\n                        case 5:\n                        case \"end\":\n                          return _context5.stop();\n                      }\n                    }, _callee5);\n                  }))();\n                },\n                onmessage: function onmessage(A) {\n                  return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n                    var V, X, oe, Q, N;\n                    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n                      while (1) switch (_context6.prev = _context6.next) {\n                        case 0:\n                          if (!(JSON.stringify(A.data) !== JSON.stringify(\"[DONE]\"))) {\n                            _context6.next = 9;\n                            break;\n                          }\n                          Q = JSON.parse(A.data);\n                          _context6.next = 4;\n                          return (X = (V = e.deepChat).responseInterceptor) == null ? void 0 : X.call(V, Q);\n                        case 4:\n                          _context6.t0 = _context6.sent;\n                          if (_context6.t0) {\n                            _context6.next = 7;\n                            break;\n                          }\n                          _context6.t0 = Q;\n                        case 7:\n                          N = _context6.t0;\n                          (oe = e.extractResultData) == null || oe.call(e, N).then(function (Be) {\n                            p.upsertStreamedMessage(Be);\n                          })[\"catch\"](function (Be) {\n                            return E.displayError(i, Be);\n                          });\n                        case 9:\n                        case \"end\":\n                          return _context6.stop();\n                      }\n                    }, _callee6);\n                  }))();\n                },\n                onerror: function onerror(A) {\n                  throw d(), A;\n                },\n                onclose: function onclose() {\n                  p.finaliseStreamedMessage(), d();\n                },\n                signal: u.signal\n              })[\"catch\"](function (A) {\n                var V;\n                (V = e.extractResultData) == null || V.call(e, A).then(function () {\n                  E.displayError(i, A);\n                })[\"catch\"](function (X) {\n                  E.displayError(i, X);\n                });\n              });\n            case 20:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7);\n      }));\n      function request(_x12, _x13, _x14) {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }, {\n    key: \"simulate\",\n    value: function simulate(e, t, i) {\n      var n = t;\n      if ((i.files || i.html) && e.addNewMessage(_objectSpread({\n        sendUpdate: !1,\n        ignoreText: !0\n      }, i), !1), i.text) {\n        t.onOpen();\n        var r = i.text.split(\"\");\n        I.populateMessages(r, new Ze(e), n);\n      }\n    }\n  }, {\n    key: \"populateMessages\",\n    value: function populateMessages(e, t, i) {\n      var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var r = e[n];\n      if (r) {\n        t.upsertStreamedMessage({\n          text: r\n        });\n        var o = setTimeout(function () {\n          I.populateMessages(e, t, i, n + 1);\n        }, i.simulationInterim || 6);\n        i.abortStream.abort = function () {\n          I.abort(o, t, i.onClose);\n        };\n      } else t.finaliseStreamedMessage(), i.onClose();\n    }\n  }, {\n    key: \"isSimulation\",\n    value: function isSimulation(e) {\n      return _typeof(e) == \"object\" && !!e.simulation;\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(e, t, i) {\n      clearTimeout(e), t.finaliseStreamedMessage(), i();\n    }\n  }]);\n  return I;\n}();\nvar Ae = /*#__PURE__*/function () {\n  function Ae() {\n    _classCallCheck(this, Ae);\n  }\n  _createClass(Ae, null, [{\n    key: \"request\",\n    value: function () {\n      var _request2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(e, t, i) {\n        var a, l, n, r, o;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              n = !0;\n              r = /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(c) {\n                  var u, p, d;\n                  return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n                    while (1) switch (_context8.prev = _context8.next) {\n                      case 0:\n                        if (n) {\n                          _context8.next = 2;\n                          break;\n                        }\n                        return _context8.abrupt(\"return\");\n                      case 2:\n                        n = !1;\n                        _context8.next = 5;\n                        return (p = (u = e.deepChat).responseInterceptor) == null ? void 0 : p.call(u, c);\n                      case 5:\n                        _context8.t0 = _context8.sent;\n                        if (_context8.t0) {\n                          _context8.next = 8;\n                          break;\n                        }\n                        _context8.t0 = c;\n                      case 8:\n                        d = _context8.t0;\n                        E.validateResponseFormat(d) ? typeof d.error == \"string\" ? (console.error(d.error), i.addNewErrorMessage(\"service\", d.error), e.completionsHandlers.onFinish()) : I.isSimulation(e.deepChat.stream) ? I.simulate(i, e.streamHandlers, d) : (i.addNewMessage(d), e.completionsHandlers.onFinish()) : (console.error(C.INVALID_RESPONSE(c, \"server\", !!e.deepChat.responseInterceptor, d)), i.addNewErrorMessage(\"service\", \"Error in server message\"), e.completionsHandlers.onFinish());\n                      case 10:\n                      case \"end\":\n                        return _context8.stop();\n                    }\n                  }, _callee8);\n                }));\n                return function r(_x18) {\n                  return _ref2.apply(this, arguments);\n                };\n              }(), o = Ae.generateOptionalSignals();\n              (l = (a = e.requestSettings).handler) == null || l.call(a, t, _objectSpread(_objectSpread({}, o), {}, {\n                onResponse: r\n              }));\n            case 3:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9);\n      }));\n      function request(_x15, _x16, _x17) {\n        return _request2.apply(this, arguments);\n      }\n      return request;\n    }() // prettier-ignore\n  }, {\n    key: \"stream\",\n    value: function stream(e, t, i) {\n      var u, p;\n      var n = !0,\n        r = !1;\n      var o = new Ze(i),\n        a = function a() {\n          r || !n || (e.streamHandlers.onOpen(), r = !0);\n        },\n        l = function l() {\n          n && (o.finaliseStreamedMessage(), e.streamHandlers.onClose(), n = !1);\n        },\n        c = function c(h) {\n          n && (!h || _typeof(h) != \"object\" || typeof h.error != \"string\" && typeof h.html != \"string\" && typeof h.text != \"string\" ? console.error(C.INVALID_RESPONSE(h, \"server\", !1)) : h.error ? (console.error(h.error), o.finaliseStreamedMessage(), e.streamHandlers.onClose(), i.addNewErrorMessage(\"service\", h.error), n = !1) : o.upsertStreamedMessage(h));\n        };\n      e.streamHandlers.abortStream.abort = function () {\n        o.finaliseStreamedMessage(), e.streamHandlers.onClose(), n = !1;\n      };\n      var d = Ae.generateOptionalSignals();\n      (p = (u = e.requestSettings).handler) == null || p.call(u, t, _objectSpread(_objectSpread({}, d), {}, {\n        onOpen: a,\n        onResponse: c,\n        onClose: l,\n        stopClicked: e.streamHandlers.stopClicked\n      }));\n    }\n    // prettier-ignore\n  }, {\n    key: \"websocket\",\n    value: function websocket(e, t) {\n      var l, c;\n      var i = {\n        isOpen: !1,\n        newUserMessage: {\n          listener: function listener() {}\n        }\n      };\n      e.websocket = i;\n      var n = function n() {\n          t.removeError(), i.isOpen = !0;\n        },\n        r = function r() {\n          i.isOpen = !1;\n        },\n        o = /*#__PURE__*/function () {\n          var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(d) {\n            var p, h, u;\n            return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n              while (1) switch (_context10.prev = _context10.next) {\n                case 0:\n                  if (i.isOpen) {\n                    _context10.next = 2;\n                    break;\n                  }\n                  return _context10.abrupt(\"return\");\n                case 2:\n                  _context10.next = 4;\n                  return (h = (p = e.deepChat).responseInterceptor) == null ? void 0 : h.call(p, d);\n                case 4:\n                  _context10.t0 = _context10.sent;\n                  if (_context10.t0) {\n                    _context10.next = 7;\n                    break;\n                  }\n                  _context10.t0 = d;\n                case 7:\n                  u = _context10.t0;\n                  E.validateResponseFormat(u) ? typeof u.error == \"string\" ? (console.error(u.error), t.isLastMessageError() || t.addNewErrorMessage(\"service\", u.error)) : e.deepChat.stream ? I.simulate(t, e.streamHandlers, u) : t.addNewMessage(u) : (console.error(C.INVALID_RESPONSE(d, \"server\", !!e.deepChat.responseInterceptor, u)), t.addNewErrorMessage(\"service\", \"Error in server message\"));\n                case 9:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }, _callee10);\n          }));\n          return function o(_x19) {\n            return _ref3.apply(this, arguments);\n          };\n        }(),\n        a = Ae.generateOptionalSignals();\n      (c = (l = e.requestSettings).handler) == null || c.call(l, void 0, _objectSpread(_objectSpread({}, a), {}, {\n        onOpen: n,\n        onResponse: o,\n        onClose: r,\n        newUserMessage: i.newUserMessage\n      }));\n    }\n  }, {\n    key: \"generateOptionalSignals\",\n    value: function generateOptionalSignals() {\n      return {\n        onClose: function onClose() {},\n        onOpen: function onOpen() {},\n        stopClicked: {\n          listener: function listener() {}\n        },\n        newUserMessage: {\n          listener: function listener() {}\n        }\n      };\n    }\n  }]);\n  return Ae;\n}();\nvar _ = /*#__PURE__*/function () {\n  function _() {\n    _classCallCheck(this, _);\n  }\n  _createClass(_, null, [{\n    key: \"request\",\n    value: // prettier-ignore\n    function () {\n      var _request3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(e, t, i) {\n        var n,\n          p,\n          h,\n          g,\n          r,\n          _yield$E$processReque2,\n          o,\n          a,\n          l,\n          c,\n          d,\n          u,\n          _args12 = arguments;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              n = _args12.length > 3 && _args12[3] !== undefined ? _args12[3] : !0;\n              r = {\n                body: t,\n                headers: (p = e.requestSettings) == null ? void 0 : p.headers\n              };\n              _context12.next = 4;\n              return E.processRequestInterceptor(e.deepChat, r);\n            case 4:\n              _yield$E$processReque2 = _context12.sent;\n              o = _yield$E$processReque2.body;\n              a = _yield$E$processReque2.headers;\n              l = _yield$E$processReque2.error;\n              c = e.completionsHandlers.onFinish;\n              if (!l) {\n                _context12.next = 11;\n                break;\n              }\n              return _context12.abrupt(\"return\", E.onInterceptorError(i, l, c));\n            case 11:\n              if (!((h = e.requestSettings) != null && h.handler)) {\n                _context12.next = 13;\n                break;\n              }\n              return _context12.abrupt(\"return\", Ae.request(e, o, i));\n            case 13:\n              if (!(((g = e.requestSettings) == null ? void 0 : g.url) === ve.URL)) {\n                _context12.next = 15;\n                break;\n              }\n              return _context12.abrupt(\"return\", ve.request(e, i));\n            case 15:\n              d = !0;\n              u = E.fetch.bind(this, e, a, n);\n              u(o).then(function (f) {\n                return d = !!f.ok, f;\n              }).then(function (f) {\n                return E.processResponseByType(f);\n              }).then( /*#__PURE__*/function () {\n                var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(f) {\n                  var G, A, S, w;\n                  return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n                    while (1) switch (_context11.prev = _context11.next) {\n                      case 0:\n                        if (e.extractResultData) {\n                          _context11.next = 2;\n                          break;\n                        }\n                        return _context11.abrupt(\"return\");\n                      case 2:\n                        _context11.next = 4;\n                        return (A = (G = e.deepChat).responseInterceptor) == null ? void 0 : A.call(G, f);\n                      case 4:\n                        _context11.t0 = _context11.sent;\n                        if (_context11.t0) {\n                          _context11.next = 7;\n                          break;\n                        }\n                        _context11.t0 = f;\n                      case 7:\n                        S = _context11.t0;\n                        _context11.next = 10;\n                        return e.extractResultData(S, u, o);\n                      case 10:\n                        w = _context11.sent;\n                        if (d) {\n                          _context11.next = 13;\n                          break;\n                        }\n                        throw f;\n                      case 13:\n                        if (!(!w || _typeof(w) != \"object\")) {\n                          _context11.next = 15;\n                          break;\n                        }\n                        throw Error(C.INVALID_RESPONSE(f, \"response\", !!e.deepChat.responseInterceptor, S));\n                      case 15:\n                        w.makingAnotherRequest || (I.isSimulation(e.deepChat.stream) ? I.simulate(i, e.streamHandlers, w) : (i.addNewMessage(w), c()));\n                      case 16:\n                      case \"end\":\n                        return _context11.stop();\n                    }\n                  }, _callee11);\n                }));\n                return function (_x23) {\n                  return _ref4.apply(this, arguments);\n                };\n              }())[\"catch\"](function (f) {\n                E.displayError(i, f), c();\n              });\n            case 18:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee12, this);\n      }));\n      function request(_x20, _x21, _x22) {\n        return _request3.apply(this, arguments);\n      }\n      return request;\n    }()\n  }, {\n    key: \"executePollRequest\",\n    value: function executePollRequest(e, t, i, n) {\n      var r = e.completionsHandlers.onFinish;\n      fetch(t, i).then(function (o) {\n        return o.json();\n      }).then( /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(o) {\n          var l, c, a;\n          return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n            while (1) switch (_context13.prev = _context13.next) {\n              case 0:\n                if (e.extractPollResultData) {\n                  _context13.next = 2;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 2:\n                _context13.t0 = e;\n                _context13.next = 5;\n                return (c = (l = e.deepChat).responseInterceptor) == null ? void 0 : c.call(l, o);\n              case 5:\n                _context13.t1 = _context13.sent;\n                if (_context13.t1) {\n                  _context13.next = 8;\n                  break;\n                }\n                _context13.t1 = o;\n              case 8:\n                _context13.t2 = _context13.t1;\n                _context13.next = 11;\n                return _context13.t0.extractPollResultData.call(_context13.t0, _context13.t2);\n              case 11:\n                a = _context13.sent;\n                a.timeoutMS ? setTimeout(function () {\n                  _.executePollRequest(e, t, i, n);\n                }, a.timeoutMS) : I.isSimulation(e.deepChat.stream) ? I.simulate(n, e.streamHandlers, a) : (n.addNewMessage(a), r());\n              case 13:\n              case \"end\":\n                return _context13.stop();\n            }\n          }, _callee13);\n        }));\n        return function (_x24) {\n          return _ref5.apply(this, arguments);\n        };\n      }())[\"catch\"](function (o) {\n        E.displayError(n, o), r();\n      });\n    }\n    // prettier-ignore\n  }, {\n    key: \"poll\",\n    value: function () {\n      var _poll = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(e, t, i) {\n        var n,\n          h,\n          g,\n          f,\n          r,\n          _yield$E$processReque3,\n          o,\n          a,\n          l,\n          c,\n          d,\n          u,\n          p,\n          _args14 = arguments;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1) switch (_context14.prev = _context14.next) {\n            case 0:\n              n = _args14.length > 3 && _args14[3] !== undefined ? _args14[3] : !0;\n              r = {\n                body: t,\n                headers: (h = e.requestSettings) == null ? void 0 : h.headers\n              };\n              _context14.next = 4;\n              return E.processRequestInterceptor(e.deepChat, r);\n            case 4:\n              _yield$E$processReque3 = _context14.sent;\n              o = _yield$E$processReque3.body;\n              a = _yield$E$processReque3.headers;\n              l = _yield$E$processReque3.error;\n              if (!l) {\n                _context14.next = 10;\n                break;\n              }\n              return _context14.abrupt(\"return\", E.onInterceptorError(i, l));\n            case 10:\n              c = ((g = e.requestSettings) == null ? void 0 : g.url) || e.url || \"\", d = ((f = e.requestSettings) == null ? void 0 : f.method) || \"POST\", u = n ? JSON.stringify(o) : o, p = {\n                method: d,\n                body: u,\n                headers: a\n              };\n              e.requestSettings.credentials && (p.credentials = e.requestSettings.credentials), _.executePollRequest(e, c, p, i);\n            case 12:\n            case \"end\":\n              return _context14.stop();\n          }\n        }, _callee14);\n      }));\n      function poll(_x25, _x26, _x27) {\n        return _poll.apply(this, arguments);\n      }\n      return poll;\n    }() // prettier-ignore\n  }, {\n    key: \"verifyKey\",\n    value: function verifyKey(e, t, i, n, r, o, a, l, c) {\n      if (e === \"\") return o(C.INVALID_KEY);\n      a(), fetch(t, {\n        method: n,\n        headers: i,\n        body: c || null\n      }).then(function (d) {\n        return E.processResponseByType(d);\n      }).then(function (d) {\n        l(d, e, r, o);\n      })[\"catch\"](function (d) {\n        o(C.CONNECTION_FAILED), console.error(d);\n      });\n    }\n  }]);\n  return _;\n}();\nvar Xe = /*#__PURE__*/function () {\n  function Xe() {\n    _classCallCheck(this, Xe);\n  }\n  _createClass(Xe, null, [{\n    key: \"getCharacterLimitMessages\",\n    value: function getCharacterLimitMessages(e, t) {\n      var r;\n      if (t === -1) return e;\n      var i = 0,\n        n = e.length - 1;\n      for (n; n >= 0; n -= 1) {\n        var o = (r = e[n]) == null ? void 0 : r.text;\n        if (o !== void 0 && (i += o.length, i > t)) {\n          e[n].text = o.substring(0, o.length - (i - t));\n          break;\n        }\n      }\n      return e.slice(Math.max(n, 0));\n    }\n  }, {\n    key: \"getMaxMessages\",\n    value: function getMaxMessages(e, t) {\n      return e.slice(Math.max(e.length - t, 0));\n    }\n    // prettier-ignore\n    // if maxMessages is not defined we send all messages\n    // if maxMessages above 0 we send that number\n    // if maxMessages 0 or below we send only what is in the request\n  }, {\n    key: \"processMessages\",\n    value: function processMessages(e, t, i) {\n      return t !== void 0 ? t > 0 && (e = Xe.getMaxMessages(e, t)) : e = [e[e.length - 1]], e = JSON.parse(JSON.stringify(e)), i === void 0 ? e : Xe.getCharacterLimitMessages(e, i);\n    }\n  }]);\n  return Xe;\n}();\nvar $ = /*#__PURE__*/function () {\n  function $() {\n    _classCallCheck(this, $);\n  }\n  _createClass($, null, [{\n    key: \"setup\",\n    value: function setup(e) {\n      e.requestSettings.url !== ve.URL && (e.permittedErrorPrefixes = [\"Connection error\", \"Error in server message\"], e.websocket = \"pending\");\n    }\n  }, {\n    key: \"createConnection\",\n    value: function createConnection(e, t) {\n      if (!document.body.contains(e.deepChat)) return;\n      var i = e.requestSettings.websocket;\n      if (i) {\n        if (e.requestSettings.handler) return Ae.websocket(e, t);\n        try {\n          var n = typeof i != \"boolean\" ? i : void 0,\n            r = new WebSocket(e.requestSettings.url || \"\", n);\n          e.websocket = r, e.websocket.onopen = function () {\n            var o, a;\n            t.removeError(), e.websocket && _typeof(e.websocket) == \"object\" && $.assignListeners(e, r, t), (a = (o = e.deepChat)._validationHandler) == null || a.call(o);\n          }, e.websocket.onerror = function (o) {\n            console.error(o), $.retryConnection(e, t);\n          };\n        } catch (n) {\n          console.error(n), $.retryConnection(e, t);\n        }\n      }\n    }\n  }, {\n    key: \"retryConnection\",\n    value: function retryConnection(e, t) {\n      var i, n;\n      (n = (i = e.deepChat)._validationHandler) == null || n.call(i), document.body.contains(e.deepChat) && (e.websocket = \"pending\", t.isLastMessageError() || t.addNewErrorMessage(\"service\", \"Connection error\"), setTimeout(function () {\n        $.createConnection(e, t);\n      }, 5e3));\n    }\n  }, {\n    key: \"assignListeners\",\n    value: function assignListeners(e, t, i) {\n      t.onmessage = /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(n) {\n          var r, o, a, l, c;\n          return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n            while (1) switch (_context15.prev = _context15.next) {\n              case 0:\n                if (!e.extractResultData) {\n                  _context15.next = 20;\n                  break;\n                }\n                _context15.prev = 1;\n                a = JSON.parse(n.data);\n                _context15.next = 5;\n                return (o = (r = e.deepChat).responseInterceptor) == null ? void 0 : o.call(r, a);\n              case 5:\n                _context15.t0 = _context15.sent;\n                if (_context15.t0) {\n                  _context15.next = 8;\n                  break;\n                }\n                _context15.t0 = a;\n              case 8:\n                l = _context15.t0;\n                _context15.next = 11;\n                return e.extractResultData(l);\n              case 11:\n                c = _context15.sent;\n                if (!(!c || _typeof(c) != \"object\")) {\n                  _context15.next = 14;\n                  break;\n                }\n                throw Error(C.INVALID_RESPONSE(a, \"server\", !!e.deepChat.responseInterceptor, l));\n              case 14:\n                I.isSimulation(e.deepChat.stream) ? I.simulate(i, e.streamHandlers, c) : i.addNewMessage(c);\n                _context15.next = 20;\n                break;\n              case 17:\n                _context15.prev = 17;\n                _context15.t1 = _context15[\"catch\"](1);\n                E.displayError(i, _context15.t1, \"Error in server message\");\n              case 20:\n              case \"end\":\n                return _context15.stop();\n            }\n          }, _callee15, null, [[1, 17]]);\n        }));\n        return function (_x28) {\n          return _ref6.apply(this, arguments);\n        };\n      }(), t.onclose = function () {\n        console.error(\"Connection closed\"), i.isLastMessageError() || i.addNewErrorMessage(\"service\", \"Connection error\"), e.deepChat.stream && e.streamHandlers.abortStream.abort(), $.createConnection(e, i);\n      };\n    }\n  }, {\n    key: \"sendWebsocket\",\n    value: function () {\n      var _sendWebsocket = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(e, t, i) {\n        var n,\n          d,\n          u,\n          r,\n          o,\n          _yield$E$processReque4,\n          a,\n          l,\n          c,\n          _args16 = arguments;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1) switch (_context16.prev = _context16.next) {\n            case 0:\n              n = _args16.length > 3 && _args16[3] !== undefined ? _args16[3] : !0;\n              r = e.websocket;\n              if (!(!r || r === \"pending\")) {\n                _context16.next = 4;\n                break;\n              }\n              return _context16.abrupt(\"return\");\n            case 4:\n              o = {\n                body: t,\n                headers: (d = e.requestSettings) == null ? void 0 : d.headers\n              };\n              _context16.next = 7;\n              return E.processRequestInterceptor(e.deepChat, o);\n            case 7:\n              _yield$E$processReque4 = _context16.sent;\n              a = _yield$E$processReque4.body;\n              l = _yield$E$processReque4.error;\n              if (!l) {\n                _context16.next = 12;\n                break;\n              }\n              return _context16.abrupt(\"return\", i.addNewErrorMessage(\"service\", l));\n            case 12:\n              if ($.isWebSocket(r)) {\n                _context16.next = 14;\n                break;\n              }\n              return _context16.abrupt(\"return\", r.newUserMessage.listener(a));\n            case 14:\n              c = n ? JSON.stringify(a) : a;\n              if (!(((u = e.requestSettings) == null ? void 0 : u.url) === ve.URL)) {\n                _context16.next = 17;\n                break;\n              }\n              return _context16.abrupt(\"return\", ve.request(e, i));\n            case 17:\n              r.readyState === void 0 || r.readyState !== r.OPEN ? (console.error(\"Connection is not open\"), i.isLastMessageError() || i.addNewErrorMessage(\"service\", \"Connection error\")) : (r.send(JSON.stringify(c)), e.completionsHandlers.onFinish());\n            case 18:\n            case \"end\":\n              return _context16.stop();\n          }\n        }, _callee16);\n      }));\n      function sendWebsocket(_x29, _x30, _x31) {\n        return _sendWebsocket.apply(this, arguments);\n      }\n      return sendWebsocket;\n    }()\n  }, {\n    key: \"canSendMessage\",\n    value: function canSendMessage(e) {\n      return e ? e === \"pending\" ? !1 : $.isWebSocket(e) ? e.readyState !== void 0 && e.readyState === e.OPEN : e.isOpen : !0;\n    }\n    // if false then it is the internal websocket handler\n  }, {\n    key: \"isWebSocket\",\n    value: function isWebSocket(e) {\n      return e.send !== void 0;\n    }\n  }]);\n  return $;\n}();\nvar L = /*#__PURE__*/function () {\n  function L() {\n    _classCallCheck(this, L);\n  }\n  _createClass(L, null, [{\n    key: \"parseConfig\",\n    value:\n    // prettier-ignore\n    function parseConfig(e, t, i, n) {\n      var o;\n      var r = {\n        files: t\n      };\n      if (_typeof(n) == \"object\") {\n        var a = n.files,\n          l = n.request,\n          c = n.button;\n        a && (a.infoModal && (r.files.infoModal = a.infoModal, (o = a.infoModal) != null && o.textMarkDown && (r.infoModalTextMarkUp = i.render(a.infoModal.textMarkDown))), a.acceptedFormats && (r.files.acceptedFormats = a.acceptedFormats), a.maxNumberOfFiles && (r.files.maxNumberOfFiles = a.maxNumberOfFiles)), r.button = c, l && (l.headers || l.method || l.url || l.credentials || e.headers || e.method || e.url || e.credentials) && (r.request = {\n          url: (l == null ? void 0 : l.url) || e.url,\n          method: (l == null ? void 0 : l.method) || e.method,\n          headers: (l == null ? void 0 : l.headers) || e.headers,\n          credentials: (l == null ? void 0 : l.credentials) || e.credentials\n        });\n      }\n      return r;\n    }\n  }, {\n    key: \"processMixedFiles\",\n    value: function processMixedFiles(e, t, i) {\n      if (i) {\n        var n = {\n          acceptedFormats: \"\"\n        };\n        e.fileTypes.mixedFiles = L.parseConfig(e.requestSettings, n, t, i);\n      }\n    }\n    // needs to be set after audio to overwrite maxNumberOfFiles\n    // prettier-ignore\n  }, {\n    key: \"processMicrophone\",\n    value: function processMicrophone(e, t, i, n) {\n      var _l$files, _p$maxNumberOfFiles;\n      var a, l, c, d, u, p;\n      var o = _objectSpread({\n        acceptedFormats: \"audio/*\"\n      }, ((a = e.fileTypes.audio) == null ? void 0 : a.files) || {});\n      i && (navigator.mediaDevices.getUserMedia !== void 0 ? (e.recordAudio = L.parseConfig(e.requestSettings, o, t, i), _typeof(i) == \"object\" && i.files && ((_l$files = (l = e.recordAudio).files) !== null && _l$files !== void 0 ? _l$files : l.files = {}, e.recordAudio.files.format = (c = i.files) == null ? void 0 : c.format, e.recordAudio.files.maxDurationSeconds = (d = i.files) == null ? void 0 : d.maxDurationSeconds, (u = e.fileTypes.audio) != null && u.files && ((_p$maxNumberOfFiles = (p = e.fileTypes.audio.files).maxNumberOfFiles) !== null && _p$maxNumberOfFiles !== void 0 ? _p$maxNumberOfFiles : p.maxNumberOfFiles = i.files.maxNumberOfFiles))) : n || (e.fileTypes.audio = L.parseConfig(e.requestSettings, o, t, i)));\n    }\n    // prettier-ignore\n  }, {\n    key: \"processAudioConfig\",\n    value: function processAudioConfig(e, t, i, n) {\n      if (!i && !n) return;\n      var o = _objectSpread({\n        acceptedFormats: \"audio/*\"\n      }, (n == null ? void 0 : n.files) || {});\n      e.fileTypes.audio = L.parseConfig(e.requestSettings, o, t, i);\n    }\n    // prettier-ignore\n  }, {\n    key: \"processGifConfig\",\n    value: function processGifConfig(e, t, i, n) {\n      if (!i && !n) return;\n      var o = _objectSpread({\n        acceptedFormats: \"image/gif\"\n      }, (n == null ? void 0 : n.files) || {});\n      e.fileTypes.gifs = L.parseConfig(e.requestSettings, o, t, i);\n    }\n    // needs to be set after images to overwrite maxNumberOfFiles\n    // prettier-ignore\n  }, {\n    key: \"processCamera\",\n    value: function processCamera(e, t, i, n) {\n      var _l$files2;\n      var a, l, c, d;\n      var o = _objectSpread({\n        acceptedFormats: \"image/*\"\n      }, ((a = e.fileTypes.images) == null ? void 0 : a.files) || {});\n      i && (navigator.mediaDevices.getUserMedia !== void 0 ? (e.camera = L.parseConfig(e.requestSettings, o, t, i), _typeof(i) == \"object\" && (e.camera.modalContainerStyle = i.modalContainerStyle, i.files && ((_l$files2 = (l = e.camera).files) !== null && _l$files2 !== void 0 ? _l$files2 : l.files = {}, e.camera.files.format = (c = i.files) == null ? void 0 : c.format, e.camera.files.dimensions = (d = i.files) == null ? void 0 : d.dimensions))) : n || (e.fileTypes.images = L.parseConfig(e.requestSettings, o, t, i)));\n    }\n    // prettier-ignore\n  }, {\n    key: \"processImagesConfig\",\n    value: function processImagesConfig(e, t, i, n) {\n      if (!i && !n) return;\n      var o = _objectSpread({\n        acceptedFormats: \"image/*\"\n      }, (n == null ? void 0 : n.files) || {});\n      e.fileTypes.images = L.parseConfig(e.requestSettings, o, t, i);\n    }\n    // default for direct service\n  }, {\n    key: \"populateDefaultFileIO\",\n    value: function populateDefaultFileIO(e, t) {\n      var _e$files, _i$acceptedFormats, _n$maxNumberOfFiles;\n      var i, n;\n      e && ((_e$files = e.files) !== null && _e$files !== void 0 ? _e$files : e.files = {}, (_i$acceptedFormats = (i = e.files).acceptedFormats) !== null && _i$acceptedFormats !== void 0 ? _i$acceptedFormats : i.acceptedFormats = t, (_n$maxNumberOfFiles = (n = e.files).maxNumberOfFiles) !== null && _n$maxNumberOfFiles !== void 0 ? _n$maxNumberOfFiles : n.maxNumberOfFiles = 1);\n    }\n  }, {\n    key: \"set\",\n    value: function set(e, t, i) {\n      L.populateDefaultFileIO(i == null ? void 0 : i.audio, \".4a,.mp3,.webm,.mp4,.mpga,.wav,.mpeg,.m4a\"), L.populateDefaultFileIO(i == null ? void 0 : i.images, \".png,.jpg\");\n      var n = Pi.createNew();\n      L.processImagesConfig(t, n, e.images, i == null ? void 0 : i.images), L.processCamera(t, n, e.camera, e.images), L.processGifConfig(t, n, e.gifs, i == null ? void 0 : i.gifs), L.processAudioConfig(t, n, e.audio, i == null ? void 0 : i.audio), L.processMicrophone(t, n, e.microphone, e.audio), L.processMixedFiles(t, n, e.mixedFiles);\n    }\n  }]);\n  return L;\n}();\nvar Le = /*#__PURE__*/function () {\n  function Le(e, t, i) {\n    var _a$url;\n    _classCallCheck(this, Le);\n    var n, r, o, a;\n    this.rawBody = {}, this.validateConfigKey = !1, this.canSendMessage = Le.canSendMessage, this.requestSettings = {}, this.fileTypes = {}, this.completionsHandlers = {}, this.streamHandlers = {}, this.deepChat = e, this.demo = i, Object.assign(this.rawBody, (n = e.request) == null ? void 0 : n.additionalBodyProps), this.totalMessagesMaxCharLength = (r = e == null ? void 0 : e.requestBodyLimits) == null ? void 0 : r.totalMessagesMaxCharLength, this.maxMessages = (o = e == null ? void 0 : e.requestBodyLimits) == null ? void 0 : o.maxMessages, L.set(e, this, t), e.request && (this.requestSettings = e.request), this.demo && ((_a$url = (a = this.requestSettings).url) !== null && _a$url !== void 0 ? _a$url : a.url = ve.URL), this.requestSettings.websocket && $.setup(this);\n  }\n  _createClass(Le, [{\n    key: \"verifyKey\",\n    value: function verifyKey(e, t) {}\n  }, {\n    key: \"getServiceIOByType\",\n    value: function getServiceIOByType(e) {\n      if (e.type.startsWith(\"audio\") && this.fileTypes.audio) return this.fileTypes.audio;\n      if (e.type.startsWith(\"image\")) {\n        if (this.fileTypes.gifs && e.type.endsWith(\"/gif\")) return this.fileTypes.gifs;\n        if (this.fileTypes.images) return this.fileTypes.images;\n        if (this.camera) return this.camera;\n      }\n      return this.fileTypes.mixedFiles;\n    }\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(e, t) {\n        var i,\n          n,\n          _args17 = arguments;\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1) switch (_context17.prev = _context17.next) {\n            case 0:\n              i = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : !0;\n              n = this.deepChat.stream;\n              return _context17.abrupt(\"return\", n && !I.isSimulation(n) ? I.request(this, e, t) : _.request(this, e, t, i));\n            case 3:\n            case \"end\":\n              return _context17.stop();\n          }\n        }, _callee17, this);\n      }));\n      function request(_x32, _x33) {\n        return _request4.apply(this, arguments);\n      }\n      return request;\n    }()\n  }, {\n    key: \"callAPIWithText\",\n    value: function () {\n      var _callAPIWithText = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18(e, t) {\n        var _o$headers, _a$ContentType;\n        var r, o, a, l, i, n;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1) switch (_context18.prev = _context18.next) {\n            case 0:\n              i = _objectSpread({\n                messages: t\n              }, this.rawBody);\n              n = !1;\n              (r = this.requestSettings.headers) != null && r[\"Content-Type\"] || ((_o$headers = (o = this.requestSettings).headers) !== null && _o$headers !== void 0 ? _o$headers : o.headers = {}, (_a$ContentType = (a = this.requestSettings.headers)[\"Content-Type\"]) !== null && _a$ContentType !== void 0 ? _a$ContentType : a[\"Content-Type\"] = \"application/json\", n = !0);\n              _context18.next = 5;\n              return this.request(i, e);\n            case 5:\n              n && ((l = this.requestSettings.headers) == null || delete l[\"Content-Type\"]);\n            case 6:\n            case \"end\":\n              return _context18.stop();\n          }\n        }, _callee18, this);\n      }));\n      function callAPIWithText(_x34, _x35) {\n        return _callAPIWithText.apply(this, arguments);\n      }\n      return callAPIWithText;\n    }()\n  }, {\n    key: \"callApiWithFiles\",\n    value: function () {\n      var _callApiWithFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19(e, t, i) {\n        var n, r, o;\n        return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n          while (1) switch (_context19.prev = _context19.next) {\n            case 0:\n              n = Le.createCustomFormDataBody(this.rawBody, t, i), r = this.requestSettings, o = this.getServiceIOByType(i[0]);\n              this.requestSettings = (o == null ? void 0 : o.request) || this.requestSettings;\n              _context19.next = 4;\n              return this.request(n, e, !1);\n            case 4:\n              this.requestSettings = r;\n            case 5:\n            case \"end\":\n              return _context19.stop();\n          }\n        }, _callee19, this);\n      }));\n      function callApiWithFiles(_x36, _x37, _x38) {\n        return _callApiWithFiles.apply(this, arguments);\n      }\n      return callApiWithFiles;\n    }()\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20(e, t, i) {\n        return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n          while (1) switch (_context20.prev = _context20.next) {\n            case 0:\n              i ? this.callApiWithFiles(e, t, i) : this.callAPIWithText(e, t);\n            case 1:\n            case \"end\":\n              return _context20.stop();\n          }\n        }, _callee20, this);\n      }));\n      function callServiceAPI(_x39, _x40, _x41) {\n        return _callServiceAPI.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }() // prettier-ignore\n  }, {\n    key: \"callAPI\",\n    value: function () {\n      var _callAPI = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21(e, t) {\n        var i, n;\n        return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n          while (1) switch (_context21.prev = _context21.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context21.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = Xe.processMessages(t.messages, this.maxMessages, this.totalMessagesMaxCharLength);\n              if (this.requestSettings.websocket) {\n                n = _objectSpread({\n                  messages: i\n                }, this.rawBody);\n                $.sendWebsocket(this, n, t, !1);\n              } else this.callServiceAPI(t, i, e.files);\n            case 4:\n            case \"end\":\n              return _context21.stop();\n          }\n        }, _callee21, this);\n      }));\n      function callAPI(_x42, _x43) {\n        return _callAPI.apply(this, arguments);\n      }\n      return callAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22(e) {\n        return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n          while (1) switch (_context22.prev = _context22.next) {\n            case 0:\n              if (!e.error) {\n                _context22.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              if (!e.result) {\n                _context22.next = 4;\n                break;\n              }\n              return _context22.abrupt(\"return\", ke.handleResponseProperty(e));\n            case 4:\n              if (!E.validateResponseFormat(e)) {\n                _context22.next = 6;\n                break;\n              }\n              return _context22.abrupt(\"return\", e);\n            case 6:\n            case \"end\":\n              return _context22.stop();\n          }\n        }, _callee22);\n      }));\n      function extractResultData(_x44) {\n        return _extractResultData.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }, {\n    key: \"isDirectConnection\",\n    value: function isDirectConnection() {\n      return !1;\n    }\n  }, {\n    key: \"isWebModel\",\n    value: function isWebModel() {\n      return !1;\n    }\n  }], [{\n    key: \"canSendMessage\",\n    value: function canSendMessage(e, t, i) {\n      return i ? !0 : !!(e && e.trim() !== \"\") || !!(t && t.length > 0);\n    }\n  }, {\n    key: \"createCustomFormDataBody\",\n    value: function createCustomFormDataBody(e, t, i) {\n      var n = new FormData();\n      i.forEach(function (a) {\n        return n.append(\"files\", a);\n      }), Object.keys(e).forEach(function (a) {\n        return n.append(a, String(e[a]));\n      });\n      var r = 0;\n      t.slice(0, t.length - 1).forEach(function (a) {\n        n.append(\"message\".concat(r += 1), JSON.stringify(a));\n      });\n      var o = t[t.length - 1];\n      return o.text && (delete o.files, n.append(\"message\".concat(r += 1), JSON.stringify(o))), n;\n    }\n  }]);\n  return Le;\n}();\nvar U = /*#__PURE__*/function (_Le) {\n  _inherits(U, _Le);\n  var _super = _createSuper(U);\n  // prettier-ignore\n  function U(e, t, i, n, r) {\n    var _this6;\n    _classCallCheck(this, U);\n    var o;\n    _this6 = _super.call(this, e, r), _this6.insertKeyPlaceholderText = \"API Key\", _this6.getKeyLink = \"\", Object.assign(_this6.rawBody, (o = e.request) == null ? void 0 : o.additionalBodyProps), _this6.keyVerificationDetails = t, _this6.buildHeadersFunc = i, n && _this6.setApiKeyProperties(n), _this6.requestSettings = _this6.buildRequestSettings(_this6.key || \"\", e.request);\n    return _this6;\n  }\n  _createClass(U, [{\n    key: \"setApiKeyProperties\",\n    value: function setApiKeyProperties(e) {\n      this.key = e.key, e.validateKeyProperty && (this.validateConfigKey = e.validateKeyProperty);\n    }\n  }, {\n    key: \"buildRequestSettings\",\n    value: function buildRequestSettings(e, t) {\n      var _i$headers;\n      var i = t !== null && t !== void 0 ? t : {};\n      return (_i$headers = i.headers) !== null && _i$headers !== void 0 ? _i$headers : i.headers = {}, Object.assign(i.headers, this.buildHeadersFunc(e)), i;\n    }\n  }, {\n    key: \"keyAuthenticated\",\n    value: function keyAuthenticated(e, t) {\n      this.requestSettings = this.buildRequestSettings(t, this.requestSettings), this.key = t, e();\n    }\n    // prettier-ignore\n  }, {\n    key: \"verifyKey\",\n    value: function verifyKey(e, t) {\n      var _this$keyVerification = this.keyVerificationDetails,\n        i = _this$keyVerification.url,\n        n = _this$keyVerification.method,\n        r = _this$keyVerification.handleVerificationResult,\n        o = _this$keyVerification.createHeaders,\n        a = _this$keyVerification.body,\n        l = (o == null ? void 0 : o(e)) || this.buildHeadersFunc(e);\n      _.verifyKey(e, i, l, n, this.keyAuthenticated.bind(this, t.onSuccess), t.onFail, t.onLoad, r, a);\n    }\n  }, {\n    key: \"isDirectConnection\",\n    value: function isDirectConnection() {\n      return !0;\n    }\n  }]);\n  return U;\n}(Le);\nvar Ft = /*#__PURE__*/function () {\n  function Ft() {\n    _classCallCheck(this, Ft);\n  }\n  _createClass(Ft, null, [{\n    key: \"waitForPropertiesToBeUpdatedBeforeRender\",\n    value: function waitForPropertiesToBeUpdatedBeforeRender(e) {\n      e._propUpdated_ = !1, setTimeout(function () {\n        e._propUpdated_ ? Ft.waitForPropertiesToBeUpdatedBeforeRender(e) : (e._waitingToRender_ = !1, e.onRender());\n      });\n    }\n  }, {\n    key: \"attemptRender\",\n    value: function attemptRender(e) {\n      e._propUpdated_ = !0, e._waitingToRender_ || (e._waitingToRender_ = !0, Ft.waitForPropertiesToBeUpdatedBeforeRender(e));\n    }\n  }]);\n  return Ft;\n}();\nvar Ji = /*#__PURE__*/function (_HTMLElement) {\n  _inherits(He, _HTMLElement);\n  var _super2 = _createSuper(He);\n  // If this is not working, try using propertyName directly\n  function He() {\n    var _this7;\n    _classCallCheck(this, He);\n    _this7 = _super2.call(this), _this7._waitingToRender_ = !1, _this7._propUpdated_ = !1, Object.keys(He._attributeToProperty_).forEach(function (e) {\n      var t = He._attributeToProperty_[e];\n      _this7.constructPropertyAccessors(t), _this7.hasOwnProperty(e) || _this7.constructPropertyAccessors(t, e);\n    });\n    return _this7;\n  }\n  _createClass(He, [{\n    key: \"constructPropertyAccessors\",\n    value:\n    // need to be called here as accessors need to be set for the class instance\n    function constructPropertyAccessors(e, t) {\n      var i;\n      Object.defineProperty(this, t || e, {\n        get: function get() {\n          return i;\n        },\n        set: function set(o) {\n          i = o, t ? this[e] = o : Ft.attemptRender(this);\n        }\n      });\n    }\n  }, {\n    key: \"attributeChangedCallback\",\n    value: function attributeChangedCallback(e, t, i) {\n      if (t === i) return;\n      var n = He._attributes_[e](i),\n        r = He._attributeToProperty_[e];\n      this[r] = n;\n    }\n  }, {\n    key: \"onRender\",\n    value: function onRender() {}\n  }], [{\n    key: \"observedAttributes\",\n    get: function get() {\n      return Object.keys(He._attributes_) || [];\n    }\n  }]);\n  return He;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\nJi._attributes_ = {};\nJi._attributeToProperty_ = {};\nvar vo = Ji;\nvar yo = \"<?xml version=\\\"1.0\\\" standalone=\\\"no\\\"?>\\n<svg version=\\\"1.1\\\"\\n\\txmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\" xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n\\txmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"0.9em\\\" height=\\\"0.9em\\\"\\n\\tviewBox=\\\"0 0 1200 1200\\\" enable-background=\\\"new 0 0 1200 1200\\\">\\n\\t\\t<path d=\\\"\\n\\t\\t\\tM669.727,273.516c-22.891-2.476-46.15-3.895-69.727-4.248c-103.025,0.457-209.823,25.517-310.913,73.536\\n\\t\\t\\tc-75.058,37.122-148.173,89.529-211.67,154.174C46.232,529.978,6.431,577.76,0,628.74c0.76,44.162,48.153,98.67,77.417,131.764\\n\\t\\t\\tc59.543,62.106,130.754,113.013,211.67,154.174c2.75,1.335,5.51,2.654,8.276,3.955l-75.072,131.102l102.005,60.286l551.416-960.033\\n\\t\\t\\tl-98.186-60.008L669.727,273.516z M902.563,338.995l-74.927,129.857c34.47,44.782,54.932,100.006,54.932,159.888\\n\\t\\t\\tc0,149.257-126.522,270.264-282.642,270.264c-6.749,0-13.29-0.728-19.922-1.172l-49.585,85.84c22.868,2.449,45.99,4.233,69.58,4.541\\n\\t\\t\\tc103.123-0.463,209.861-25.812,310.84-73.535c75.058-37.122,148.246-89.529,211.743-154.174\\n\\t\\t\\tc31.186-32.999,70.985-80.782,77.417-131.764c-0.76-44.161-48.153-98.669-77.417-131.763\\n\\t\\t\\tc-59.543-62.106-130.827-113.013-211.743-154.175C908.108,341.478,905.312,340.287,902.563,338.995L902.563,338.995z\\n\\t\\t\\tM599.927,358.478c6.846,0,13.638,0.274,20.361,0.732l-58.081,100.561c-81.514,16.526-142.676,85.88-142.676,168.897\\n\\t\\t\\tc0,20.854,3.841,40.819,10.913,59.325c0.008,0.021-0.008,0.053,0,0.074l-58.228,100.854\\n\\t\\t\\tc-34.551-44.823-54.932-100.229-54.932-160.182C317.285,479.484,443.808,358.477,599.927,358.478L599.927,358.478z M768.896,570.513\\n\\t\\t\\tL638.013,797.271c81.076-16.837,141.797-85.875,141.797-168.603C779.81,608.194,775.724,588.729,768.896,570.513L768.896,570.513z\\\"\\n\\t\\t\\t/>\\n</svg>\\n\",\n  xo = \"<?xml version=\\\"1.0\\\" standalone=\\\"no\\\"?>\\n<svg version=\\\"1.1\\\"\\n\\txmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\" xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n\\txmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"0.9em\\\" height=\\\"0.9em\\\"\\n\\tviewBox=\\\"0 0 1200 1200\\\" enable-background=\\\"new 0 0 1200 1200\\\">\\n\\t\\t<path id=\\\"path6686\\\" inkscape:connector-curvature=\\\"0\\\" d=\\\"M779.843,599.925c0,95.331-80.664,172.612-180.169,172.612\\n\\t\\t\\tc-99.504,0-180.168-77.281-180.168-172.612c0-95.332,80.664-172.612,180.168-172.612\\n\\t\\t\\tC699.179,427.312,779.843,504.594,779.843,599.925z M600,240.521c-103.025,0.457-209.814,25.538-310.904,73.557\\n\\t\\t\\tc-75.058,37.122-148.206,89.496-211.702,154.141C46.208,501.218,6.431,549,0,599.981c0.76,44.161,48.13,98.669,77.394,131.763\\n\\t\\t\\tc59.543,62.106,130.786,113.018,211.702,154.179c94.271,45.751,198.616,72.092,310.904,73.557\\n\\t\\t\\tc103.123-0.464,209.888-25.834,310.866-73.557c75.058-37.122,148.243-89.534,211.74-154.179\\n\\t\\t\\tc31.185-32.999,70.962-80.782,77.394-131.763c-0.76-44.161-48.13-98.671-77.394-131.764\\n\\t\\t\\tc-59.543-62.106-130.824-112.979-211.74-154.141C816.644,268.36,712.042,242.2,600,240.521z M599.924,329.769\\n\\t\\t\\tc156.119,0,282.675,120.994,282.675,270.251c0,149.256-126.556,270.25-282.675,270.25S317.249,749.275,317.249,600.02\\n\\t\\t\\tC317.249,450.763,443.805,329.769,599.924,329.769L599.924,329.769z\\\"/>\\n</svg>\\n\";\nvar q = /*#__PURE__*/function () {\n  function q() {\n    _classCallCheck(this, q);\n  }\n  _createClass(q, null, [{\n    key: \"createSVGElement\",\n    value: function createSVGElement(e) {\n      return new DOMParser().parseFromString(e, \"image/svg+xml\").documentElement;\n    }\n  }]);\n  return q;\n}();\nvar rs = /*#__PURE__*/function () {\n  function Ge() {\n    _classCallCheck(this, Ge);\n  }\n  _createClass(Ge, null, [{\n    key: \"changeVisibility\",\n    value:\n    // prettier-ignore\n    function changeVisibility(e, t, i, n) {\n      n.target.id === Ge.VISIBLE_ICON_ID ? (t.style.display = \"none\", i.style.display = \"block\", e.type = \"password\") : (t.style.display = \"block\", i.style.display = \"none\", e.type = \"text\");\n    }\n  }, {\n    key: \"createIconElement\",\n    value: function createIconElement(e, t) {\n      var i = q.createSVGElement(e);\n      return i.id = t, i.classList.add(\"visibility-icon\"), i;\n    }\n    // prettier-ignore\n  }, {\n    key: \"create\",\n    value: function create(e) {\n      var t = document.createElement(\"div\");\n      t.id = \"visibility-icon-container\";\n      var i = Ge.createIconElement(xo, Ge.VISIBLE_ICON_ID);\n      i.style.display = \"none\", t.appendChild(i);\n      var n = Ge.createIconElement(yo, \"not-visible-icon\");\n      return t.appendChild(n), t.onclick = Ge.changeVisibility.bind(this, e, i, n), t;\n    }\n  }]);\n  return Ge;\n}();\nrs.VISIBLE_ICON_ID = \"visible-icon\";\nvar Eo = rs;\nvar P = /*#__PURE__*/function () {\n  function P() {\n    _classCallCheck(this, P);\n  }\n  _createClass(P, null, [{\n    key: \"createCautionText\",\n    value: function createCautionText() {\n      var e = document.createElement(\"a\");\n      return e.classList.add(\"insert-key-input-help-text\"), e.innerText = \"Please exercise CAUTION when inserting your API key outside of deepchat.dev or localhost!!\", e;\n    }\n  }, {\n    key: \"createHelpLink\",\n    value: function createHelpLink(e) {\n      var t = document.createElement(\"a\");\n      return t.classList.add(\"insert-key-input-help-text\"), t.href = e, t.innerText = \"Find more info here\", t.target = \"_blank\", t;\n    }\n  }, {\n    key: \"createFailText\",\n    value: function createFailText() {\n      var e = document.createElement(\"div\");\n      return e.id = \"insert-key-input-invalid-text\", e.style.display = \"none\", e;\n    }\n  }, {\n    key: \"createHelpTextContainer\",\n    value: function createHelpTextContainer(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n      var i = document.createElement(\"div\");\n      i.id = \"insert-key-help-text-container\";\n      var n = document.createElement(\"div\");\n      n.id = \"insert-key-help-text-contents\";\n      var r = P.createFailText();\n      if (n.appendChild(r), e) {\n        var o = P.createHelpLink(e);\n        n.appendChild(o);\n      }\n      if (t === !0) {\n        var _o2 = P.createCautionText();\n        n.appendChild(_o2);\n      }\n      return i.appendChild(n), {\n        helpTextContainerElement: i,\n        failTextElement: r\n      };\n    }\n  }, {\n    key: \"onFail\",\n    value: function onFail(e, t, i, n) {\n      e.classList.replace(\"insert-key-input-valid\", \"insert-key-input-invalid\"), i.innerText = n, i.style.display = \"block\", t.innerText = \"Start\", e.classList.remove(\"loading\");\n    }\n  }, {\n    key: \"onLoad\",\n    value: function onLoad(e, t) {\n      e.classList.add(\"loading\"), t.innerHTML = '<div id=\"loading-ring\"></div>';\n    }\n    // prettier-ignore\n  }, {\n    key: \"verifyKey\",\n    value: function verifyKey(e, t, i) {\n      var n = e.value.trim();\n      i.verifyKey(n, t);\n    }\n    // prettier-ignore\n  }, {\n    key: \"addVerificationEvents\",\n    value: function addVerificationEvents(e, t, i, n, r) {\n      var o = {\n          onSuccess: n,\n          onFail: P.onFail.bind(this, e, t, i),\n          onLoad: P.onLoad.bind(this, e, t)\n        },\n        a = P.verifyKey.bind(this, e, o, r);\n      t.onclick = a, e.onkeydown = function (l) {\n        !e.classList.contains(\"loading\") && l.key === R.ENTER && a();\n      };\n    }\n  }, {\n    key: \"createStartButton\",\n    value: function createStartButton() {\n      var e = document.createElement(\"div\");\n      return e.id = \"start-button\", e.innerText = \"Start\", e;\n    }\n  }, {\n    key: \"onInputFocus\",\n    value: function onInputFocus(e) {\n      e.target.classList.replace(\"insert-key-input-invalid\", \"insert-key-input-valid\");\n    }\n  }, {\n    key: \"createInput\",\n    value: function createInput(e) {\n      var t = document.createElement(\"div\");\n      t.id = \"insert-key-input-container\";\n      var i = document.createElement(\"input\");\n      return i.id = \"insert-key-input\", i.placeholder = e || \"API Key\", i.type = \"password\", i.classList.add(\"insert-key-input-valid\"), i.onfocus = P.onInputFocus, t.appendChild(i), t;\n    }\n    // prettier-ignore\n  }, {\n    key: \"createContents\",\n    value: function createContents(e, t) {\n      var d;\n      var i = document.createElement(\"div\");\n      i.id = \"insert-key-contents\";\n      var n = P.createInput(t.insertKeyPlaceholderText),\n        r = n.children[0],\n        o = Eo.create(r);\n      n.appendChild(o), i.appendChild(n);\n      var a = P.createStartButton(),\n        _P$createHelpTextCont = P.createHelpTextContainer(t.getKeyLink, (d = t.deepChat._insertKeyViewStyles) == null ? void 0 : d.displayCautionText),\n        l = _P$createHelpTextCont.helpTextContainerElement,\n        c = _P$createHelpTextCont.failTextElement;\n      return i.appendChild(a), i.appendChild(l), P.addVerificationEvents(r, a, c, e, t), i;\n    }\n  }, {\n    key: \"createElements\",\n    value: function createElements(e, t) {\n      var i = document.createElement(\"div\");\n      i.id = \"insert-key-view\";\n      var n = P.createContents(e, t);\n      return i.appendChild(n), i;\n    }\n  }, {\n    key: \"render\",\n    value: function render(e, t, i) {\n      var n = P.createElements(t, i);\n      e.replaceChildren(n);\n    }\n  }]);\n  return P;\n}();\nvar yt = /*#__PURE__*/function () {\n  function pe() {\n    _classCallCheck(this, pe);\n  }\n  _createClass(pe, null, [{\n    key: \"enableButtons\",\n    value: function enableButtons(e, t) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      window.webLLM ? (e && (e.disabled = !1), t && (t.disabled = !1)) : i < $i.MODULE_SEARCH_LIMIT_S * 4 && setTimeout(function () {\n        return pe.enableButtons(e, t, i + 1);\n      }, 250);\n    }\n    // prettier-ignore\n  }, {\n    key: \"setUpInitial\",\n    value: function setUpInitial(e, t, i, n) {\n      var r = (t == null ? void 0 : t.downloadClass) || pe.DOWNLOAD_BUTTON_CLASS,\n        o = (t == null ? void 0 : t.uploadClass) || pe.UPLOAD_BUTTON_CLASS,\n        a = (t == null ? void 0 : t.fileInputClass) || pe.FILE_INPUT_CLASS;\n      return setTimeout(function () {\n        var l = i == null ? void 0 : i.getElementsByClassName(r)[0],\n          c = i == null ? void 0 : i.getElementsByClassName(a)[0],\n          d = i == null ? void 0 : i.getElementsByClassName(o)[0];\n        l && (l.onclick = function () {\n          return e();\n        }), c && (c.onchange = function () {\n          c.files && c.files.length > 0 && e(c.files);\n        }), d && (d.onclick = function () {\n          return c.click();\n        }), (l || d) && pe.enableButtons(l, d);\n      }), (t == null ? void 0 : t.initialHtml) || \"<div>\\n        Download or upload a web model that will run entirely on your browser: <br/> \\n        <button disabled class=\\\"\".concat(r, \" deep-chat-button deep-chat-web-model-button\\\">Download</button>\\n        \").concat(n ? \"\" : \"<input type=\\\"file\\\" class=\\\"\".concat(a, \"\\\" hidden multiple />\\n          <button disabled class=\\\"\").concat(o, \" deep-chat-button deep-chat-web-model-button\\\">Upload</button>\"), \"\\n      </div>\");\n    }\n  }, {\n    key: \"exportFile\",\n    value: function exportFile(e) {\n      var t = document.createElement(\"a\"),\n        i = 4;\n      var _loop2 = function _loop2(n) {\n        setTimeout(function () {\n          var r = n * i;\n          for (var o = r; o < Math.min(r + i, e.length); o += 1) {\n            var a = URL.createObjectURL(e[o]);\n            t.href = a, t.download = e[o].name, document.body.appendChild(t), t.click(), URL.revokeObjectURL(a);\n          }\n        }, 500 * n);\n      };\n      for (var n = 0; n < e.length / i; n += 1) {\n        _loop2(n);\n      }\n    }\n    // prettier-ignore\n  }, {\n    key: \"setUpAfterLoad\",\n    value: function setUpAfterLoad(e, t, i, n) {\n      var r = (t == null ? void 0 : t.exportFilesClass) || pe.EXPORT_BUTTON_CLASS;\n      return setTimeout(function () {\n        var o = i == null ? void 0 : i.getElementsByClassName(r)[0];\n        o && (o.onclick = function () {\n          return pe.exportFile(e);\n        });\n      }), (t == null ? void 0 : t.afterLoadHtml) || \"<div>\\n        Model loaded successfully and has been cached for future requests.\\n        \".concat(n ? \"\" : \"<br/> <button style=\\\"margin-top: 5px\\\" class=\\\"\".concat(r, \" deep-chat-button\\\">Export</button>\"), \"\\n      </div>\");\n    }\n  }]);\n  return pe;\n}();\nyt.DOWNLOAD_BUTTON_CLASS = \"deep-chat-download-button\";\nyt.UPLOAD_BUTTON_CLASS = \"deep-chat-upload-button\";\nyt.FILE_INPUT_CLASS = \"deep-chat-file-input\";\nyt.EXPORT_BUTTON_CLASS = \"deep-chat-export-button\";\nvar xn = yt;\nvar En = {\n    model_list: [{\n      model_url: \"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f32_1-MLC/resolve/main/\",\n      local_id: \"Llama-2-7b-chat-hf-q4f32_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f32_1-ctx4k_cs1k-webgpu.wasm\"\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f16_1-MLC/resolve/main/\",\n      local_id: \"Llama-2-7b-chat-hf-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/Llama-2-13b-chat-hf-q4f16_1-MLC/resolve/main/\",\n      local_id: \"Llama-2-13b-chat-hf-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-13b-chat-hf/Llama-2-13b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/Llama-2-70b-chat-hf-q4f16_1-MLC/resolve/main/\",\n      local_id: \"Llama-2-70b-chat-hf-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-70b-chat-hf/Llama-2-70b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f16_1-MLC/resolve/main/\",\n      local_id: \"RedPajama-INCITE-Chat-3B-v1-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f16_1-ctx2k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f32_1-MLC/resolve/main/\",\n      local_id: \"RedPajama-INCITE-Chat-3B-v1-q4f32_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f32_1-ctx2k-webgpu.wasm\"\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/WizardMath-7B-V1.1-q4f16_1-MLC/resolve/main/\",\n      local_id: \"WizardMath-7B-V1.1-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/Mistral-7B-Instruct-v0.2-q4f16_1-MLC/resolve/main/\",\n      local_id: \"Mistral-7B-Instruct-v0.2-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/OpenHermes-2.5-Mistral-7B-q4f16_1-MLC/resolve/main/\",\n      local_id: \"OpenHermes-2.5-Mistral-7B-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/NeuralHermes-2.5-Mistral-7B-q4f16_1-MLC/resolve/main/\",\n      local_id: \"NeuralHermes-2.5-Mistral-7B-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    },\n    // Models below fit for 128MB buffer limit (e.g. webgpu on Android)\n    {\n      model_url: \"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f16_1-MLC/resolve/main/\",\n      local_id: \"Llama-2-7b-chat-hf-q4f16_1-1k\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f16_1-ctx1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f16_1-MLC/resolve/main/\",\n      local_id: \"RedPajama-INCITE-Chat-3B-v1-q4f16_1-1k\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f16_1-ctx1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f32_1-MLC/resolve/main/\",\n      local_id: \"RedPajama-INCITE-Chat-3B-v1-q4f32_1-1k\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f32_1-ctx1k-webgpu.wasm\"\n    }],\n    use_web_worker: !0\n  },\n  et = /*#__PURE__*/function (_Le2) {\n    _inherits(M, _Le2);\n    var _super3 = _createSuper(M);\n    function M(e) {\n      var _this8;\n      _classCallCheck(this, M);\n      var t, i;\n      _this8 = _super3.call(this, e), _this8._isModelLoaded = !1, _this8._isModelLoading = !1, _this8._loadOnFirstMessage = !1, _this8._webModel = {}, _this8.permittedErrorPrefixes = [M.MULTIPLE_MODELS_ERROR, M.WEB_LLM_NOT_FOUND_ERROR, M.GENERIC_ERROR], _this8._conversationHistory = [], _typeof(e.webModel) == \"object\" && (_this8._webModel = e.webModel), (t = _this8._webModel.load) != null && t.clearCache && M.clearAllCache(), _this8.findModelInWindow(e), _this8.canSendMessage = _this8.canSubmit.bind(_assertThisInitialized(_this8)), _this8._chatEl = (i = e.shadowRoot) == null ? void 0 : i.children[0], e.initialMessages && M.setUpHistory(_this8._conversationHistory, e.initialMessages);\n      return _this8;\n    }\n    // need ref of messages object as web model exhibits unique behaviour to manipulate chat\n    _createClass(M, [{\n      key: \"setUpMessages\",\n      value: function setUpMessages(e) {\n        var _this9 = this;\n        this._messages = e, this._removeIntro = function () {\n          e.removeIntroductoryMessage(), _this9._removeIntro = void 0;\n        };\n      }\n    }, {\n      key: \"findModelInWindow\",\n      value: function findModelInWindow(e) {\n        var _this10 = this;\n        var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var i;\n        window.webLLM ? this.configureInit(this.shouldAddInitialMessage(e.introMessage)) : t > M.MODULE_SEARCH_LIMIT_S ? ((i = this._messages) == null || i.addNewErrorMessage(\"service\", M.WEB_LLM_NOT_FOUND_ERROR), console.error(\"The deep-chat-web-llm module has not been attached to the window object. Please see the following guide:\"), console.error(\"https://deepchat.dev/examples/externalModules\")) : setTimeout(function () {\n          return _this10.findModelInWindow(e, t + 1);\n        }, 1e3);\n      }\n    }, {\n      key: \"shouldAddInitialMessage\",\n      value: function shouldAddInitialMessage(e) {\n        var t;\n        return !e && this._webModel && ((t = this._webModel.introMessage) == null ? void 0 : t.displayed) !== !1;\n      }\n    }, {\n      key: \"scrollToTop\",\n      value: function scrollToTop(e) {\n        var _this11 = this;\n        var t;\n        ((t = this._webModel.introMessage) == null ? void 0 : t.autoScroll) !== !1 && setTimeout(function () {\n          var i, n;\n          (i = _this11._messages) != null && i.elementRef && Y.scrollToTop((n = _this11._messages) == null ? void 0 : n.elementRef);\n        }, e);\n      }\n      // prettier-ignore\n    }, {\n      key: \"getIntroMessage\",\n      value: function getIntroMessage(e) {\n        if (!this.shouldAddInitialMessage(e) || !this._chatEl) return;\n        var t = xn.setUpInitial(this.init.bind(this), this._webModel.introMessage, this._chatEl, !!this._webModel.worker);\n        return this.scrollToTop(1), {\n          role: v.AI_ROLE,\n          html: t,\n          sendUpdate: !1\n        };\n      }\n    }, {\n      key: \"configureInit\",\n      value: function () {\n        var _configureInit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23(e) {\n          var t;\n          return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n            while (1) switch (_context23.prev = _context23.next) {\n              case 0:\n                t = this._webModel.load;\n                if (!t) {\n                  _context23.next = 8;\n                  break;\n                }\n                if (!t.onInit) {\n                  _context23.next = 5;\n                  break;\n                }\n                this.init();\n                return _context23.abrupt(\"return\");\n              case 5:\n                if (!t.onMessage) {\n                  _context23.next = 8;\n                  break;\n                }\n                this._loadOnFirstMessage = !0;\n                return _context23.abrupt(\"return\");\n              case 8:\n                e || this.init();\n              case 9:\n              case \"end\":\n                return _context23.stop();\n            }\n          }, _callee23, this);\n        }));\n        function configureInit(_x45) {\n          return _configureInit.apply(this, arguments);\n        }\n        return configureInit;\n      }()\n    }, {\n      key: \"init\",\n      value: function () {\n        var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24(e) {\n          var i, t;\n          return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n            while (1) switch (_context24.prev = _context24.next) {\n              case 0:\n                (i = this._messages) == null || i.removeError();\n                t = this.attemptToCreateChat();\n                _context24.t0 = t;\n                if (!_context24.t0) {\n                  _context24.next = 6;\n                  break;\n                }\n                _context24.next = 6;\n                return this.loadModel(t, e);\n              case 6:\n              case \"end\":\n                return _context24.stop();\n            }\n          }, _callee24, this);\n        }));\n        function init(_x46) {\n          return _init.apply(this, arguments);\n        }\n        return init;\n      }()\n    }, {\n      key: \"attemptToCreateChat\",\n      value: function attemptToCreateChat() {\n        var t;\n        if (M.chat) {\n          (t = this._messages) == null || t.addNewErrorMessage(\"service\", M.MULTIPLE_MODELS_ERROR), console.error(M.MULTIPLE_MODELS_ERROR);\n          return;\n        }\n        if (this._isModelLoaded || this._isModelLoading) return;\n        var e = this._webModel.worker;\n        return En.use_web_worker && e ? new window.webLLM.ChatWorkerClient(e) : new window.webLLM.ChatModule();\n      }\n    }, {\n      key: \"getConfig\",\n      value: function getConfig() {\n        var i;\n        var e = M.DEFAULT_MODEL;\n        this._webModel.model && (e = this._webModel.model);\n        var t = JSON.parse(JSON.stringify(En));\n        if (this._webModel.urls) {\n          var n = t.model_list.find(function (r) {\n            return r.local_id = e;\n          });\n          n && (this._webModel.urls.model && (n.model_url = this._webModel.urls.model), this._webModel.urls.wasm && (n.model_lib_url = this._webModel.urls.wasm));\n        }\n        return (i = this._webModel.load) != null && i.skipCache && (t.use_cache = !1), {\n          model: e,\n          appConfig: t\n        };\n      }\n      // prettier-ignore\n    }, {\n      key: \"loadModel\",\n      value: function () {\n        var _loadModel = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25(e, t) {\n          var _this12 = this;\n          var o, a, l, c, d, u, p, i, n, r, _this$getConfig, h, g, f, _h;\n          return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n            while (1) switch (_context25.prev = _context25.next) {\n              case 0:\n                this.scrollToTop(), M.chat = e, this._isModelLoading = !0;\n                i = ((o = this._webModel.introMessage) == null ? void 0 : o.displayed) === !1;\n                n = function n(h) {\n                  var g;\n                  (g = _this12._messages) == null || g.addNewMessage({\n                    html: \"<div>\".concat(h.text, \"</div>\"),\n                    overwrite: !0,\n                    sendUpdate: !1\n                  }), i && (setTimeout(function () {\n                    var f;\n                    return Y.scrollToBottom((f = _this12._messages) == null ? void 0 : f.elementRef);\n                  }), i = !1);\n                };\n                M.chat.setInitProgressCallback(n);\n                _context25.prev = 4;\n                _this$getConfig = this.getConfig(), h = _this$getConfig.model, g = _this$getConfig.appConfig, f = {};\n                this._webModel.instruction && (f.conv_config = {\n                  system: this._webModel.instruction\n                });\n                this._conversationHistory.length > 0 && (f.conversation_history = this._conversationHistory);\n                _context25.next = 10;\n                return M.chat.reload(h, f, g, t);\n              case 10:\n                r = _context25.sent;\n                _context25.next = 16;\n                break;\n              case 13:\n                _context25.prev = 13;\n                _context25.t0 = _context25[\"catch\"](4);\n                return _context25.abrupt(\"return\", this.unloadChat(_context25.t0));\n              case 16:\n                if ((l = (a = this.deepChat)._validationHandler) == null || l.call(a), (c = this._webModel.introMessage) != null && c.removeAfterLoad) this._webModel.introMessage.displayed === !1 ? (u = this._messages) == null || u.removeLastMessage() : (p = this._removeIntro) == null || p.call(this);else {\n                  _h = xn.setUpAfterLoad(r, this._webModel.introMessage, this._chatEl, !!this._webModel.worker);\n                  (d = this._messages) == null || d.addNewMessage({\n                    html: _h,\n                    overwrite: !0,\n                    sendUpdate: !1\n                  });\n                }\n                this._isModelLoaded = !0, this._isModelLoading = !1;\n              case 18:\n              case \"end\":\n                return _context25.stop();\n            }\n          }, _callee25, this, [[4, 13]]);\n        }));\n        function loadModel(_x47, _x48) {\n          return _loadModel.apply(this, arguments);\n        }\n        return loadModel;\n      }()\n    }, {\n      key: \"unloadChat\",\n      value: function () {\n        var _unloadChat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26(e) {\n          var t;\n          return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n            while (1) switch (_context26.prev = _context26.next) {\n              case 0:\n                (t = this._messages) == null || t.addNewErrorMessage(\"service\", M.GENERIC_ERROR);\n                console.error(e);\n                this._isModelLoaded = !1;\n                this._isModelLoading = !1;\n                _context26.t0 = M.chat;\n                if (!_context26.t0) {\n                  _context26.next = 9;\n                  break;\n                }\n                _context26.next = 8;\n                return M.chat.unload();\n              case 8:\n                M.chat = void 0;\n              case 9:\n              case \"end\":\n                return _context26.stop();\n            }\n          }, _callee26, this);\n        }));\n        function unloadChat(_x49) {\n          return _unloadChat.apply(this, arguments);\n        }\n        return unloadChat;\n      }()\n    }, {\n      key: \"immediateResp\",\n      value: function () {\n        var _immediateResp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27(e, t, i) {\n          var n, r;\n          return _regeneratorRuntime().wrap(function _callee27$(_context27) {\n            while (1) switch (_context27.prev = _context27.next) {\n              case 0:\n                _context27.next = 2;\n                return i.generate(t, void 0, 0);\n              case 2:\n                _context27.t0 = _context27.sent;\n                n = {\n                  text: _context27.t0\n                };\n                _context27.next = 6;\n                return M.processResponse(this.deepChat, e, n);\n              case 6:\n                r = _context27.sent;\n                r && e.addNewMessage(r), this.completionsHandlers.onFinish();\n              case 8:\n              case \"end\":\n                return _context27.stop();\n            }\n          }, _callee27, this);\n        }));\n        function immediateResp(_x50, _x51, _x52) {\n          return _immediateResp.apply(this, arguments);\n        }\n        return immediateResp;\n      }()\n    }, {\n      key: \"streamResp\",\n      value: function () {\n        var _streamResp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee29(e, t, i) {\n          var _this13 = this;\n          var n;\n          return _regeneratorRuntime().wrap(function _callee29$(_context29) {\n            while (1) switch (_context29.prev = _context29.next) {\n              case 0:\n                this.streamHandlers.abortStream.abort = function () {\n                  i.interruptGenerate();\n                }, this.streamHandlers.onOpen();\n                n = new Ze(e);\n                _context29.next = 4;\n                return i.generate(t, /*#__PURE__*/function () {\n                  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee28(r, o) {\n                    var a;\n                    return _regeneratorRuntime().wrap(function _callee28$(_context28) {\n                      while (1) switch (_context28.prev = _context28.next) {\n                        case 0:\n                          _context28.next = 2;\n                          return M.processResponse(_this13.deepChat, e, {\n                            text: o\n                          });\n                        case 2:\n                          a = _context28.sent;\n                          a && n.upsertStreamedMessage({\n                            text: a.text,\n                            overwrite: !0\n                          });\n                        case 4:\n                        case \"end\":\n                          return _context28.stop();\n                      }\n                    }, _callee28);\n                  }));\n                  return function (_x56, _x57) {\n                    return _ref7.apply(this, arguments);\n                  };\n                }());\n              case 4:\n                n.finaliseStreamedMessage();\n                this.streamHandlers.onClose();\n              case 6:\n              case \"end\":\n                return _context29.stop();\n            }\n          }, _callee29, this);\n        }));\n        function streamResp(_x53, _x54, _x55) {\n          return _streamResp.apply(this, arguments);\n        }\n        return streamResp;\n      }()\n    }, {\n      key: \"generateRespByType\",\n      value: function () {\n        var _generateRespByType = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee30(e, t, i, n) {\n          var r;\n          return _regeneratorRuntime().wrap(function _callee30$(_context30) {\n            while (1) switch (_context30.prev = _context30.next) {\n              case 0:\n                _context30.prev = 0;\n                if (!i) {\n                  _context30.next = 6;\n                  break;\n                }\n                _context30.next = 4;\n                return this.streamResp(e, t, n);\n              case 4:\n                _context30.next = 8;\n                break;\n              case 6:\n                _context30.next = 8;\n                return this.immediateResp(e, t, n);\n              case 8:\n                _context30.next = 13;\n                break;\n              case 10:\n                _context30.prev = 10;\n                _context30.t0 = _context30[\"catch\"](0);\n                (r = this._messages) == null || r.addNewErrorMessage(\"service\"), console.log(_context30.t0);\n              case 13:\n              case \"end\":\n                return _context30.stop();\n            }\n          }, _callee30, this, [[0, 10]]);\n        }));\n        function generateRespByType(_x58, _x59, _x60, _x61) {\n          return _generateRespByType.apply(this, arguments);\n        }\n        return generateRespByType;\n      }()\n    }, {\n      key: \"generateResp\",\n      value: function () {\n        var _generateResp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee31(e, t, i) {\n          var n, _yield$E$processReque5, r, o, a, l, c;\n          return _regeneratorRuntime().wrap(function _callee31$(_context31) {\n            while (1) switch (_context31.prev = _context31.next) {\n              case 0:\n                n = t[t.length - 1].text;\n                _context31.next = 3;\n                return E.processRequestInterceptor(this.deepChat, {\n                  body: {\n                    text: n\n                  }\n                });\n              case 3:\n                _yield$E$processReque5 = _context31.sent;\n                r = _yield$E$processReque5.body;\n                o = _yield$E$processReque5.error;\n                a = !!this.deepChat.stream;\n                try {\n                  if (o) E.displayError(e, new Error(o)), (a ? this.streamHandlers.onClose : this.completionsHandlers.onFinish)();else if (!r || !r.text) {\n                    l = C.INVALID_MODEL_REQUEST({\n                      body: r\n                    }, !1);\n                    console.error(l);\n                    c = a ? this.streamHandlers.onClose : this.completionsHandlers.onFinish;\n                    E.onInterceptorError(e, l, c);\n                  } else this.generateRespByType(e, r.text, !!this.deepChat.stream, i);\n                } catch (l) {\n                  this.unloadChat(l);\n                }\n              case 8:\n              case \"end\":\n                return _context31.stop();\n            }\n          }, _callee31, this);\n        }));\n        function generateResp(_x62, _x63, _x64) {\n          return _generateResp.apply(this, arguments);\n        }\n        return generateResp;\n      }()\n    }, {\n      key: \"callServiceAPI\",\n      value: function () {\n        var _callServiceAPI2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee32(e, t) {\n          var i, n;\n          return _regeneratorRuntime().wrap(function _callee32$(_context32) {\n            while (1) switch (_context32.prev = _context32.next) {\n              case 0:\n                if (this._isModelLoaded) {\n                  _context32.next = 7;\n                  break;\n                }\n                if (!this._loadOnFirstMessage) {\n                  _context32.next = 6;\n                  break;\n                }\n                _context32.next = 4;\n                return this.init();\n              case 4:\n                _context32.next = 7;\n                break;\n              case 6:\n                return _context32.abrupt(\"return\");\n              case 7:\n                !M.chat || this._isModelLoading || ((i = this._webModel.introMessage) != null && i.removeAfterMessage && ((n = this._removeIntro) == null || n.call(this)), e.addLoadingMessage(), this.generateResp(e, t, M.chat));\n              case 8:\n              case \"end\":\n                return _context32.stop();\n            }\n          }, _callee32, this);\n        }));\n        function callServiceAPI(_x65, _x66) {\n          return _callServiceAPI2.apply(this, arguments);\n        }\n        return callServiceAPI;\n      }()\n    }, {\n      key: \"canSubmit\",\n      value: function canSubmit(e) {\n        return !(e != null && e.trim()) || this._isModelLoading ? !1 : this._loadOnFirstMessage ? !0 : !!this._isModelLoaded;\n      }\n    }, {\n      key: \"isWebModel\",\n      value: function isWebModel() {\n        return !0;\n      }\n    }], [{\n      key: \"setUpHistory\",\n      value: function setUpHistory(e, t) {\n        t.forEach(function (i, n) {\n          if (i.role === v.USER_ROLE && i.text) {\n            var r = t[n + 1];\n            r != null && r.text && r.role !== v.USER_ROLE && e.push([i.text, r.text]);\n          }\n        });\n      }\n    }, {\n      key: \"processResponse\",\n      value: function () {\n        var _processResponse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee33(e, t, i) {\n          var r, n, o;\n          return _regeneratorRuntime().wrap(function _callee33$(_context33) {\n            while (1) switch (_context33.prev = _context33.next) {\n              case 0:\n                _context33.next = 2;\n                return (r = e.responseInterceptor) == null ? void 0 : r.call(e, i);\n              case 2:\n                _context33.t0 = _context33.sent;\n                if (_context33.t0) {\n                  _context33.next = 5;\n                  break;\n                }\n                _context33.t0 = i;\n              case 5:\n                n = _context33.t0;\n                if (!n.error) {\n                  _context33.next = 11;\n                  break;\n                }\n                E.displayError(t, new Error(n.error));\n                return _context33.abrupt(\"return\");\n              case 11:\n                if (!(!n || !n.text)) {\n                  _context33.next = 15;\n                  break;\n                }\n                o = C.INVALID_MODEL_RESPONSE(i, !!e.responseInterceptor, n);\n                E.displayError(t, new Error(o));\n                return _context33.abrupt(\"return\");\n              case 15:\n                return _context33.abrupt(\"return\", n);\n              case 16:\n              case \"end\":\n                return _context33.stop();\n            }\n          }, _callee33);\n        }));\n        function processResponse(_x67, _x68, _x69) {\n          return _processResponse.apply(this, arguments);\n        }\n        return processResponse;\n      }()\n    }, {\n      key: \"clearAllCache\",\n      value: function clearAllCache() {\n        M.clearCache(\"webllm/model\"), M.clearCache(\"webllm/wasm\");\n      }\n    }, {\n      key: \"clearCache\",\n      value: function clearCache(e) {\n        caches.open(e).then(function (t) {\n          t.keys().then(function (i) {\n            i.forEach(function (n) {\n              t[\"delete\"](n);\n            });\n          });\n        });\n      }\n    }]);\n    return M;\n  }(Le);\net.GENERIC_ERROR = \"Error, please check the [troubleshooting](https://deepchat.dev/docs/webModel#troubleshooting) section of documentation for help.\";\net.MULTIPLE_MODELS_ERROR = \"Cannot run multiple web models\";\net.WEB_LLM_NOT_FOUND_ERROR = \"WebLLM module not found\";\net.DEFAULT_MODEL = \"Llama-2-7b-chat-hf-q4f32_1\";\net.MODULE_SEARCH_LIMIT_S = 5;\nvar $i = et;\nvar Bt = /*#__PURE__*/function () {\n  function Bt() {\n    _classCallCheck(this, Bt);\n  }\n  _createClass(Bt, null, [{\n    key: \"buildHeaders\",\n    value: function buildHeaders(e) {\n      return {\n        Authorization: \"Bearer \".concat(e),\n        \"Content-Type\": \"application/json\"\n        // bigcode/santacoder expects this so adding just-in-case\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleVerificationResult\",\n    value: function handleVerificationResult(e, t, i, n) {\n      var r = e;\n      Array.isArray(r.error) && r.error[0] === \"Error in `parameters`: field required\" ? i(t) : n(C.INVALID_KEY);\n    }\n  }, {\n    key: \"buildKeyVerificationDetails\",\n    value: function buildKeyVerificationDetails() {\n      return {\n        url: \"https://api-inference.huggingface.co/models/gpt2\",\n        method: \"POST\",\n        handleVerificationResult: Bt.handleVerificationResult\n      };\n    }\n  }]);\n  return Bt;\n}();\nvar os = /*#__PURE__*/function (_U) {\n  _inherits(ji, _U);\n  var _super4 = _createSuper(ji);\n  // prettier-ignore\n  function ji(e, t, i, n, r, o) {\n    var _this14;\n    _classCallCheck(this, ji);\n    _this14 = _super4.call(this, e, Bt.buildKeyVerificationDetails(), Bt.buildHeaders, r, o), _this14.insertKeyPlaceholderText = \"Hugging Face Token\", _this14.getKeyLink = \"https://huggingface.co/settings/tokens\", _this14.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Hugging Face</b></div>\\n    <p>First message may take an extented amount of time to complete as the model needs to be initialized.</p>\", _this14.permittedErrorPrefixes = [\"Authorization header\"], _this14.url = \"\".concat(ji.URL_PREFIX).concat(i), _this14.textInputPlaceholderText = t, _typeof(n) == \"object\" && (n.model && (_this14.url = \"\".concat(ji.URL_PREFIX).concat(n.model)), n.options && (_this14.rawBody.options = n.options), n.parameters && (_this14.rawBody.parameters = n.parameters));\n    return _this14;\n  }\n  // prettier-ignore\n  _createClass(ji, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t, i) {\n      var _n$options;\n      var n = JSON.parse(JSON.stringify(e)),\n        r = t[t.length - 1].text;\n      if (r) return (_n$options = n.options) !== null && _n$options !== void 0 ? _n$options : n.options = {}, n.options.wait_for_model = !0, _objectSpread({\n        inputs: r\n      }, n);\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee34(e, t, i) {\n        var n;\n        return _regeneratorRuntime().wrap(function _callee34$(_context34) {\n          while (1) switch (_context34.prev = _context34.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context34.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              n = this.preprocessBody(this.rawBody, t, i);\n              _.request(this, n, e);\n            case 4:\n            case \"end\":\n              return _context34.stop();\n          }\n        }, _callee34, this);\n      }));\n      function callServiceAPI(_x70, _x71, _x72) {\n        return _callServiceAPI3.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }]);\n  return ji;\n}(U);\nos.URL_PREFIX = \"https://api-inference.huggingface.co/models/\";\nvar Pe = os;\nvar xt = /*#__PURE__*/function (_Pe) {\n  _inherits(xt, _Pe);\n  var _super5 = _createSuper(xt);\n  // prettier-ignore\n  function xt(e, t, i, n, r, o) {\n    var _this15;\n    _classCallCheck(this, xt);\n    _this15 = _super5.call(this, e, t, i, n, r, o), _this15.isTextInputDisabled = !0, _this15.canSendMessage = xt.canSendFile;\n    return _this15;\n  }\n  _createClass(xt, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t, i) {\n      return i[0];\n    }\n    // prettier-ignore\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee35(e, t, i) {\n        return _regeneratorRuntime().wrap(function _callee35$(_context35) {\n          while (1) switch (_context35.prev = _context35.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context35.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i != null && i[0]) {\n                _context35.next = 4;\n                break;\n              }\n              throw new Error(\"No file was added\");\n            case 4:\n              _.poll(this, i[0], e, !1);\n            case 5:\n            case \"end\":\n              return _context35.stop();\n          }\n        }, _callee35, this);\n      }));\n      function callServiceAPI(_x73, _x74, _x75) {\n        return _callServiceAPI4.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }], [{\n    key: \"canSendFile\",\n    value: function canSendFile(e, t) {\n      return !!(t != null && t[0]);\n    }\n  }]);\n  return xt;\n}(Pe);\nvar So = /*#__PURE__*/function (_xt) {\n  _inherits(So, _xt);\n  var _super6 = _createSuper(So);\n  // prettier-ignore\n  function So(e) {\n    _classCallCheck(this, So);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.audioClassification,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super6.call(this, e, \"Attach an audio file\", \"ehcalabres/wav2vec2-lg-xlsr-en-speech-emotion-recognition\", t, i, {\n      audio: {}\n    });\n  }\n  _createClass(So, [{\n    key: \"extractPollResultData\",\n    value: function () {\n      var _extractPollResultData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee36(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee36$(_context36) {\n          while (1) switch (_context36.prev = _context36.next) {\n            case 0:\n              if (!e.estimated_time) {\n                _context36.next = 2;\n                break;\n              }\n              return _context36.abrupt(\"return\", {\n                timeoutMS: (e.estimated_time + 1) * 1e3\n              });\n            case 2:\n              if (!e.error) {\n                _context36.next = 4;\n                break;\n              }\n              throw e.error;\n            case 4:\n              return _context36.abrupt(\"return\", {\n                text: ((t = e[0]) == null ? void 0 : t.label) || \"\"\n              });\n            case 5:\n            case \"end\":\n              return _context36.stop();\n          }\n        }, _callee36);\n      }));\n      function extractPollResultData(_x76) {\n        return _extractPollResultData.apply(this, arguments);\n      }\n      return extractPollResultData;\n    }()\n  }]);\n  return So;\n}(xt);\nvar wo = /*#__PURE__*/function (_xt2) {\n  _inherits(wo, _xt2);\n  var _super7 = _createSuper(wo);\n  function wo(e) {\n    _classCallCheck(this, wo);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.imageClassification,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super7.call(this, e, \"Attach an image file\", \"google/vit-base-patch16-224\", t, i, {\n      images: {}\n    });\n  }\n  _createClass(wo, [{\n    key: \"extractPollResultData\",\n    value: function () {\n      var _extractPollResultData2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee37(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee37$(_context37) {\n          while (1) switch (_context37.prev = _context37.next) {\n            case 0:\n              if (!e.estimated_time) {\n                _context37.next = 2;\n                break;\n              }\n              return _context37.abrupt(\"return\", {\n                timeoutMS: (e.estimated_time + 1) * 1e3\n              });\n            case 2:\n              if (!e.error) {\n                _context37.next = 4;\n                break;\n              }\n              throw e.error;\n            case 4:\n              return _context37.abrupt(\"return\", {\n                text: ((t = e[0]) == null ? void 0 : t.label) || \"\"\n              });\n            case 5:\n            case \"end\":\n              return _context37.stop();\n          }\n        }, _callee37);\n      }));\n      function extractPollResultData(_x77) {\n        return _extractPollResultData2.apply(this, arguments);\n      }\n      return extractPollResultData;\n    }()\n  }]);\n  return wo;\n}(xt);\nvar Et = \"data:image/png;base64,\";\nvar re = /*#__PURE__*/function () {\n  function re() {\n    _classCallCheck(this, re);\n  }\n  _createClass(re, null, [{\n    key: \"buildHeaders\",\n    value: function buildHeaders(e) {\n      return {\n        Authorization: \"Bearer \".concat(e),\n        \"Content-Type\": \"application/json\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleVerificationResult\",\n    value: function handleVerificationResult(e, t, i, n) {\n      e.message ? n(C.INVALID_KEY) : i(t);\n    }\n  }, {\n    key: \"buildKeyVerificationDetails\",\n    value: function buildKeyVerificationDetails() {\n      return {\n        url: \"https://api.stability.ai/v1/engines/list\",\n        method: \"GET\",\n        handleVerificationResult: re.handleVerificationResult\n      };\n    }\n  }]);\n  return re;\n}();\nvar ni = /*#__PURE__*/function (_U2) {\n  _inherits(ni, _U2);\n  var _super8 = _createSuper(ni);\n  // prettier-ignore\n  function ni(e, t, i, n, r) {\n    var _this16;\n    _classCallCheck(this, ni);\n    _this16 = _super8.call(this, e, t, i, n, r), _this16.insertKeyPlaceholderText = \"Stability AI API Key\", _this16.getKeyLink = \"https://platform.stability.ai/docs/getting-started/authentication\", _this16.permittedErrorPrefixes = [\"Incorrect\", \"invalid_\"];\n    return _this16;\n  }\n  return _createClass(ni);\n}(U);\nvar zt = /*#__PURE__*/function (_ni) {\n  _inherits(zt, _ni);\n  var _super9 = _createSuper(zt);\n  function zt(e) {\n    var _this17;\n    _classCallCheck(this, zt);\n    var o;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t == null ? void 0 : t.stabilityAI,\n      n = {\n        images: {\n          files: {\n            acceptedFormats: \".png\",\n            maxNumberOfFiles: 1\n          }\n        }\n      };\n    _this17 = _super9.call(this, e, re.buildKeyVerificationDetails(), re.buildHeaders, i, n), _this17.url = \"https://api.stability.ai/v1/generation/esrgan-v1-x2plus/image-to-image/upscale\", _this17.textInputPlaceholderText = \"Describe image changes\", _this17.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Stability AI</b></div>\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px; margin-top: 5px\\\"><b>Image to Image Upscale</b></div>\\n    <p>Upload an image to generate a new one with higher resolution.</p>\\n    <p>Click <a href=\\\"https://platform.stability.ai/\\\">here</a> for more info.</p>\";\n    var r = (o = t == null ? void 0 : t.stabilityAI) == null ? void 0 : o.imageToImageUpscale;\n    _typeof(r) == \"object\" && (r.engine_id && (_this17.url = \"https://api.stability.ai/v1/generation/\".concat(r.engine_id, \"/image-to-image/upscale\")), zt.cleanConfig(r), Object.assign(_this17.rawBody, r)), _this17.canSendMessage = zt.canSendFileMessage;\n    return _this17;\n  }\n  _createClass(zt, [{\n    key: \"createFormDataBody\",\n    value: function createFormDataBody(e, t) {\n      var i = new FormData();\n      return i.append(\"image\", t), Object.keys(e).forEach(function (n) {\n        i.append(n, String(e[n]));\n      }), i;\n    }\n    // prettier-ignore\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee38(e, t, i) {\n        var n;\n        return _regeneratorRuntime().wrap(function _callee38$(_context38) {\n          while (1) switch (_context38.prev = _context38.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context38.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i) {\n                _context38.next = 4;\n                break;\n              }\n              throw new Error(\"Image was not found\");\n            case 4:\n              n = this.createFormDataBody(this.rawBody, i[0]);\n              E.tempRemoveContentHeader(this.requestSettings, _.request.bind(this, this, n, e), !1);\n            case 6:\n            case \"end\":\n              return _context38.stop();\n          }\n        }, _callee38, this);\n      }));\n      function callServiceAPI(_x78, _x79, _x80) {\n        return _callServiceAPI5.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee39(e) {\n        return _regeneratorRuntime().wrap(function _callee39$(_context39) {\n          while (1) switch (_context39.prev = _context39.next) {\n            case 0:\n              if (!e.message) {\n                _context39.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context39.abrupt(\"return\", {\n                files: e.artifacts.map(function (i) {\n                  return {\n                    src: \"\".concat(Et).concat(i.base64),\n                    type: \"image\"\n                  };\n                })\n              });\n            case 3:\n            case \"end\":\n              return _context39.stop();\n          }\n        }, _callee39);\n      }));\n      function extractResultData(_x81) {\n        return _extractResultData2.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.engine_id;\n    }\n  }, {\n    key: \"canSendFileMessage\",\n    value: function canSendFileMessage(e, t) {\n      return !!(t != null && t[0]);\n    }\n  }]);\n  return zt;\n}(ni);\nvar Ut = /*#__PURE__*/function (_ni2) {\n  _inherits(Ut, _ni2);\n  var _super10 = _createSuper(Ut);\n  function Ut(e) {\n    var _this18;\n    _classCallCheck(this, Ut);\n    var o;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t == null ? void 0 : t.stabilityAI,\n      n = {\n        images: {\n          files: {\n            acceptedFormats: \".png\",\n            maxNumberOfFiles: 2\n          }\n        }\n      };\n    _this18 = _super10.call(this, e, re.buildKeyVerificationDetails(), re.buildHeaders, i, n), _this18.url = \"https://api.stability.ai/v1/generation/stable-diffusion-xl-1024-v1-0/image-to-image/masking\", _this18._maskSource = \"MASK_IMAGE_WHITE\", _this18.textInputPlaceholderText = \"Describe image changes\", _this18.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Stability AI</b></div>\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px; margin-top: 5px\\\"><b>Image to Image Masking</b></div>\\n    <p>Upload an image, its mask image to create a new one based on the changes you have described for the mask area.</p>\\n    <p>Click <a href=\\\"https://platform.stability.ai/\\\">here</a> for more info.</p>\";\n    var r = (o = t == null ? void 0 : t.stabilityAI) == null ? void 0 : o.imageToImageMasking;\n    _typeof(r) == \"object\" && (r.engine_id && (_this18.url = \"https://api.stability.ai/v1/generation/\".concat(r.engine_id, \"/image-to-image/masking\")), r.weight !== void 0 && r.weight !== null && (_this18._imageWeight = r.weight), r.mask_source !== void 0 && r.mask_source !== null && (_this18._maskSource = r.mask_source), Ut.cleanConfig(r), Object.assign(_this18.rawBody, r)), _this18.canSendMessage = Ut.canSendFileTextMessage;\n    return _this18;\n  }\n  _createClass(Ut, [{\n    key: \"createFormDataBody\",\n    value: function createFormDataBody(e, t, i, n) {\n      var r = new FormData();\n      return r.append(\"init_image\", t), r.append(\"mask_source\", String(this._maskSource)), r.append(\"mask_image\", i), n && n !== \"\" && r.append(\"text_prompts[0][text]\", n), this._imageWeight !== void 0 && this._imageWeight !== null && r.append(\"text_prompts[0][weight]\", String(this._imageWeight)), Object.keys(e).forEach(function (o) {\n        r.append(o, String(e[o]));\n      }), r.get(\"weight\") === void 0 && r.append(\"weight\", String(1)), r;\n    }\n    // prettier-ignore\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee40(e, t, i) {\n        var o, a, n, r;\n        return _regeneratorRuntime().wrap(function _callee40$(_context40) {\n          while (1) switch (_context40.prev = _context40.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context40.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (!(!i || !i[0] || !i[1])) {\n                _context40.next = 4;\n                break;\n              }\n              throw new Error(\"Image was not found\");\n            case 4:\n              n = (a = (o = t[t.length - 1]) == null ? void 0 : o.text) == null ? void 0 : a.trim(), r = this.createFormDataBody(this.rawBody, i[0], i[1], n);\n              E.tempRemoveContentHeader(this.requestSettings, _.request.bind(this, this, r, e), !1);\n            case 6:\n            case \"end\":\n              return _context40.stop();\n          }\n        }, _callee40, this);\n      }));\n      function callServiceAPI(_x82, _x83, _x84) {\n        return _callServiceAPI6.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee41(e) {\n        return _regeneratorRuntime().wrap(function _callee41$(_context41) {\n          while (1) switch (_context41.prev = _context41.next) {\n            case 0:\n              if (!e.message) {\n                _context41.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context41.abrupt(\"return\", {\n                files: e.artifacts.map(function (i) {\n                  return {\n                    src: \"\".concat(Et).concat(i.base64),\n                    type: \"image\"\n                  };\n                })\n              });\n            case 3:\n            case \"end\":\n              return _context41.stop();\n          }\n        }, _callee41);\n      }));\n      function extractResultData(_x85) {\n        return _extractResultData3.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.engine_id, delete e.weight;\n    }\n  }, {\n    key: \"canSendFileTextMessage\",\n    value: function canSendFileTextMessage(e, t) {\n      return !!(t != null && t[0]) && !!(e && e.trim() !== \"\");\n    }\n  }]);\n  return Ut;\n}(ni);\nvar _o = /*#__PURE__*/function (_xt3) {\n  _inherits(_o, _xt3);\n  var _super11 = _createSuper(_o);\n  function _o(e) {\n    _classCallCheck(this, _o);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.audioSpeechRecognition,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super11.call(this, e, \"Attach an audio file\", \"facebook/wav2vec2-large-960h-lv60-self\", t, i, {\n      audio: {}\n    });\n  }\n  _createClass(_o, [{\n    key: \"extractPollResultData\",\n    value: function () {\n      var _extractPollResultData3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee42(e) {\n        return _regeneratorRuntime().wrap(function _callee42$(_context42) {\n          while (1) switch (_context42.prev = _context42.next) {\n            case 0:\n              if (!e.estimated_time) {\n                _context42.next = 2;\n                break;\n              }\n              return _context42.abrupt(\"return\", {\n                timeoutMS: (e.estimated_time + 1) * 1e3\n              });\n            case 2:\n              if (!e.error) {\n                _context42.next = 4;\n                break;\n              }\n              throw e.error;\n            case 4:\n              return _context42.abrupt(\"return\", {\n                text: e.text || \"\"\n              });\n            case 5:\n            case \"end\":\n              return _context42.stop();\n          }\n        }, _callee42);\n      }));\n      function extractPollResultData(_x86) {\n        return _extractPollResultData3.apply(this, arguments);\n      }\n      return extractPollResultData;\n    }()\n  }]);\n  return _o;\n}(xt);\nvar Mo = /*#__PURE__*/function (_Pe2) {\n  _inherits(Mo, _Pe2);\n  var _super12 = _createSuper(Mo);\n  function Mo(e) {\n    _classCallCheck(this, Mo);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.textGeneration,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super12.call(this, e, \"Once upon a time\", \"gpt2\", t, i);\n  }\n  _createClass(Mo, [{\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee43(e) {\n        return _regeneratorRuntime().wrap(function _callee43$(_context43) {\n          while (1) switch (_context43.prev = _context43.next) {\n            case 0:\n              if (!e.error) {\n                _context43.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context43.abrupt(\"return\", {\n                text: e[0].generated_text || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context43.stop();\n          }\n        }, _callee43);\n      }));\n      function extractResultData(_x87) {\n        return _extractResultData4.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Mo;\n}(Pe);\nvar To = /*#__PURE__*/function (_Pe3) {\n  _inherits(To, _Pe3);\n  var _super13 = _createSuper(To);\n  function To(e) {\n    var _this19;\n    _classCallCheck(this, To);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.questionAnswer,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    _this19 = _super13.call(this, e, \"Ask a question\", \"bert-large-uncased-whole-word-masking-finetuned-squad\", t, i), _this19.permittedErrorPrefixes = [\"Authorization header\", \"Error in\"], _this19.context = t.context;\n    return _this19;\n  }\n  _createClass(To, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = t[t.length - 1].text;\n      if (i) return {\n        inputs: {\n          question: i,\n          context: this.context,\n          options: {\n            wait_for_model: !0\n          }\n        }\n      };\n    }\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee44(e) {\n        return _regeneratorRuntime().wrap(function _callee44$(_context44) {\n          while (1) switch (_context44.prev = _context44.next) {\n            case 0:\n              if (!e.error) {\n                _context44.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context44.abrupt(\"return\", {\n                text: e.answer || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context44.stop();\n          }\n        }, _callee44);\n      }));\n      function extractResultData(_x88) {\n        return _extractResultData5.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return To;\n}(Pe);\nvar Co = /*#__PURE__*/function (_Pe4) {\n  _inherits(Co, _Pe4);\n  var _super14 = _createSuper(Co);\n  function Co(e) {\n    _classCallCheck(this, Co);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.summarization,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super14.call(this, e, \"Insert text to summarize\", \"facebook/bart-large-cnn\", t, i);\n  }\n  _createClass(Co, [{\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee45(e) {\n        return _regeneratorRuntime().wrap(function _callee45$(_context45) {\n          while (1) switch (_context45.prev = _context45.next) {\n            case 0:\n              if (!e.error) {\n                _context45.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context45.abrupt(\"return\", {\n                text: e[0].summary_text || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context45.stop();\n          }\n        }, _callee45);\n      }));\n      function extractResultData(_x89) {\n        return _extractResultData6.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Co;\n}(Pe);\nvar Ao = /*#__PURE__*/function (_Pe5) {\n  _inherits(Ao, _Pe5);\n  var _super15 = _createSuper(Ao);\n  function Ao(e) {\n    var _this20$maxMessages;\n    var _this20;\n    _classCallCheck(this, Ao);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.conversation,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    _this20 = _super15.call(this, e, \"Ask me anything!\", \"facebook/blenderbot-400M-distill\", t, i), (_this20$maxMessages = _this20.maxMessages) !== null && _this20$maxMessages !== void 0 ? _this20$maxMessages : _this20.maxMessages = -1;\n    return _this20;\n  }\n  // prettier-ignore\n  _createClass(Ao, [{\n    key: \"processMessages\",\n    value: function processMessages(e) {\n      var t = e.filter(function (a) {\n          return a.text;\n        }),\n        i = t[t.length - 1].text,\n        n = t.slice(0, t.length - 1);\n      if (!i) return;\n      var r = n.filter(function (a) {\n          return a.role === \"user\";\n        }).map(function (a) {\n          return a.text;\n        }),\n        o = n.filter(function (a) {\n          return a.role === \"ai\";\n        }).map(function (a) {\n          return a.text;\n        });\n      return {\n        past_user_inputs: r,\n        generated_responses: o,\n        mostRecentMessageText: i\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var _i$options;\n      var i = JSON.parse(JSON.stringify(e)),\n        n = this.processMessages(t);\n      if (n) return (_i$options = i.options) !== null && _i$options !== void 0 ? _i$options : i.options = {}, i.options.wait_for_model = !0, _objectSpread({\n        inputs: {\n          past_user_inputs: n.past_user_inputs,\n          generated_responses: n.generated_responses,\n          text: n.mostRecentMessageText\n        }\n      }, i);\n    }\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee46(e) {\n        return _regeneratorRuntime().wrap(function _callee46$(_context46) {\n          while (1) switch (_context46.prev = _context46.next) {\n            case 0:\n              if (!e.error) {\n                _context46.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context46.abrupt(\"return\", {\n                text: e.generated_text || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context46.stop();\n          }\n        }, _callee46);\n      }));\n      function extractResultData(_x90) {\n        return _extractResultData7.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Ao;\n}(Pe);\nvar qt = /*#__PURE__*/function (_ni3) {\n  _inherits(qt, _ni3);\n  var _super16 = _createSuper(qt);\n  function qt(e) {\n    var _this21;\n    _classCallCheck(this, qt);\n    var o;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t.stabilityAI,\n      n = {\n        images: {\n          files: {\n            acceptedFormats: \".png\",\n            maxNumberOfFiles: 1\n          }\n        }\n      };\n    _this21 = _super16.call(this, e, re.buildKeyVerificationDetails(), re.buildHeaders, i, n), _this21.url = \"https://api.stability.ai/v1/generation/stable-diffusion-v1-6/image-to-image\", _this21.textInputPlaceholderText = \"Describe image changes\", _this21.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Stability AI: Image to Image</b></div>\\n    <p>Upload an image to create a new one with the changes you have described.</p>\\n    <p>Click <a href=\\\"https://platform.stability.ai/\\\">here</a> for more info.</p>\";\n    var r = (o = t.stabilityAI) == null ? void 0 : o.imageToImage;\n    _typeof(r) == \"object\" && (r.engine_id && (_this21.url = \"https://api.stability.ai/v1/generation/\".concat(r.engine_id, \"/text-to-image\")), r.weight !== void 0 && r.weight !== null && (_this21._imageWeight = r.weight), qt.cleanConfig(r), Object.assign(_this21.rawBody, r)), _this21.canSendMessage = qt.canSendFileTextMessage;\n    return _this21;\n  }\n  _createClass(qt, [{\n    key: \"createFormDataBody\",\n    value: function createFormDataBody(e, t, i) {\n      var n = new FormData();\n      return n.append(\"init_image\", t), i && i !== \"\" && n.append(\"text_prompts[0][text]\", i), this._imageWeight !== void 0 && this._imageWeight !== null && n.append(\"text_prompts[0][weight]\", String(this._imageWeight)), Object.keys(e).forEach(function (r) {\n        n.append(r, String(e[r]));\n      }), n.get(\"weight\") === void 0 && n.append(\"weight\", String(1)), n;\n    }\n    // prettier-ignore\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee47(e, t, i) {\n        var o, a, n, r;\n        return _regeneratorRuntime().wrap(function _callee47$(_context47) {\n          while (1) switch (_context47.prev = _context47.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context47.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i) {\n                _context47.next = 4;\n                break;\n              }\n              throw new Error(\"Image was not found\");\n            case 4:\n              n = (a = (o = t[t.length - 1]) == null ? void 0 : o.text) == null ? void 0 : a.trim(), r = this.createFormDataBody(this.rawBody, i[0], n);\n              E.tempRemoveContentHeader(this.requestSettings, _.request.bind(this, this, r, e), !1);\n            case 6:\n            case \"end\":\n              return _context47.stop();\n          }\n        }, _callee47, this);\n      }));\n      function callServiceAPI(_x91, _x92, _x93) {\n        return _callServiceAPI7.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee48(e) {\n        return _regeneratorRuntime().wrap(function _callee48$(_context48) {\n          while (1) switch (_context48.prev = _context48.next) {\n            case 0:\n              if (!e.message) {\n                _context48.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context48.abrupt(\"return\", {\n                files: e.artifacts.map(function (i) {\n                  return {\n                    src: \"\".concat(Et).concat(i.base64),\n                    type: \"image\"\n                  };\n                })\n              });\n            case 3:\n            case \"end\":\n              return _context48.stop();\n          }\n        }, _callee48);\n      }));\n      function extractResultData(_x94) {\n        return _extractResultData8.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.engine_id, delete e.weight;\n    }\n  }, {\n    key: \"canSendFileTextMessage\",\n    value: function canSendFileTextMessage(e, t) {\n      return !!(t != null && t[0]) && !!(e && e.trim() !== \"\");\n    }\n  }]);\n  return qt;\n}(ni);\nvar ko = /*#__PURE__*/function (_Pe6) {\n  _inherits(ko, _Pe6);\n  var _super17 = _createSuper(ko);\n  function ko(e) {\n    _classCallCheck(this, ko);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.translation,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super17.call(this, e, \"Insert text to translate\", \"Helsinki-NLP/opus-tatoeba-en-ja\", t, i);\n  }\n  _createClass(ko, [{\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee49(e) {\n        return _regeneratorRuntime().wrap(function _callee49$(_context49) {\n          while (1) switch (_context49.prev = _context49.next) {\n            case 0:\n              if (!e.error) {\n                _context49.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context49.abrupt(\"return\", {\n                text: e[0].translation_text || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context49.stop();\n          }\n        }, _callee49);\n      }));\n      function extractResultData(_x95) {\n        return _extractResultData9.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return ko;\n}(Pe);\nvar Ht = /*#__PURE__*/function (_ni4) {\n  _inherits(Ht, _ni4);\n  var _super18 = _createSuper(Ht);\n  function Ht(e) {\n    var _this22;\n    _classCallCheck(this, Ht);\n    var r;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t.stabilityAI;\n    _this22 = _super18.call(this, e, re.buildKeyVerificationDetails(), re.buildHeaders, i), _this22.url = \"https://api.stability.ai/v1/generation/stable-diffusion-v1-6/text-to-image\", _this22.textInputPlaceholderText = \"Describe an image\", _this22.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Stability AI: Text to Image</b></div>\\n    <p>Insert text to generate an image.</p>\\n    <p>Click <a href=\\\"https://platform.stability.ai/\\\">here</a> for more info.</p>\";\n    var n = (r = t.stabilityAI) == null ? void 0 : r.textToImage;\n    _typeof(n) == \"object\" && (n.engine_id && (_this22.url = \"https://api.stability.ai/v1/generation/\".concat(n.engine_id, \"/text-to-image\")), n.weight !== void 0 && n.weight !== null && (_this22._imageWeight = n.weight), Ht.cleanConfig(n), Object.assign(_this22.rawBody, n)), _this22.canSendMessage = Ht.canSendTextMessage;\n    return _this22;\n  }\n  _createClass(Ht, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = JSON.parse(JSON.stringify(e)),\n        n = {\n          text: t\n        };\n      return this._imageWeight && (n.weight = this._imageWeight), i.text_prompts = [n], i;\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee50(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee50$(_context50) {\n          while (1) switch (_context50.prev = _context50.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context50.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t[t.length - 1].text);\n              _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context50.stop();\n          }\n        }, _callee50, this);\n      }));\n      function callServiceAPI(_x96, _x97) {\n        return _callServiceAPI8.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee51(e) {\n        return _regeneratorRuntime().wrap(function _callee51$(_context51) {\n          while (1) switch (_context51.prev = _context51.next) {\n            case 0:\n              if (!e.message) {\n                _context51.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context51.abrupt(\"return\", {\n                files: e.artifacts.map(function (i) {\n                  return {\n                    src: \"\".concat(Et).concat(i.base64),\n                    type: \"image\"\n                  };\n                })\n              });\n            case 3:\n            case \"end\":\n              return _context51.stop();\n          }\n        }, _callee51);\n      }));\n      function extractResultData(_x98) {\n        return _extractResultData10.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.engine_id, delete e.weight;\n    }\n  }, {\n    key: \"canSendTextMessage\",\n    value: function canSendTextMessage(e) {\n      return !!(e && e.trim() !== \"\");\n    }\n  }]);\n  return Ht;\n}(ni);\nvar Io = /*#__PURE__*/function (_Pe7) {\n  _inherits(Io, _Pe7);\n  var _super19 = _createSuper(Io);\n  function Io(e) {\n    var _this23;\n    _classCallCheck(this, Io);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.fillMask,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    _this23 = _super19.call(this, e, \"The goal of life is [MASK].\", \"bert-base-uncased\", t, i), _this23.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Hugging Face</b></div>\\n    <p>Insert a sentence with the word [MASK] and the model will try to fill it for you. E.g. I want [MASK].</p>\\n    <p>First message may take an extented amount of time to complete as the model needs to be initialized.</p>\", _this23.permittedErrorPrefixes = [\"Authorization header\", \"No mask_token\"];\n    return _this23;\n  }\n  _createClass(Io, [{\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee52(e) {\n        return _regeneratorRuntime().wrap(function _callee52$(_context52) {\n          while (1) switch (_context52.prev = _context52.next) {\n            case 0:\n              if (!e.error) {\n                _context52.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context52.abrupt(\"return\", {\n                text: e[0].sequence || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context52.stop();\n          }\n        }, _callee52);\n      }));\n      function extractResultData(_x99) {\n        return _extractResultData11.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Io;\n}(Pe);\nvar Gt = /*#__PURE__*/function () {\n  function Gt() {\n    _classCallCheck(this, Gt);\n  }\n  _createClass(Gt, null, [{\n    key: \"buildHeaders\",\n    value: function buildHeaders(e) {\n      return {\n        Authorization: \"Bearer \".concat(e),\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleVerificationResult\",\n    value: function handleVerificationResult(e, t, i, n) {\n      var o;\n      (o = e.message) != null && o.includes(\"invalid request: prompt must be at least 1 token long\") ? i(t) : n(C.INVALID_KEY);\n    }\n  }, {\n    key: \"buildKeyVerificationDetails\",\n    value: function buildKeyVerificationDetails() {\n      return {\n        url: \"https://api.cohere.ai/v1/generate\",\n        method: \"POST\",\n        handleVerificationResult: Gt.handleVerificationResult,\n        body: JSON.stringify({\n          prompt: \"\"\n        })\n      };\n    }\n  }]);\n  return Gt;\n}();\nvar Yi = /*#__PURE__*/function (_U3) {\n  _inherits(Yi, _U3);\n  var _super20 = _createSuper(Yi);\n  function Yi(e, t, i, n, r) {\n    var _this24;\n    _classCallCheck(this, Yi);\n    _this24 = _super20.call(this, e, Gt.buildKeyVerificationDetails(), Gt.buildHeaders, r), _this24.insertKeyPlaceholderText = \"Cohere API Key\", _this24.getKeyLink = \"https://dashboard.cohere.ai/api-keys\", _this24.permittedErrorPrefixes = [\"invalid\"], _this24.url = t, _this24.textInputPlaceholderText = i, n && _typeof(n) == \"object\" && Object.assign(_this24.rawBody, n);\n    return _this24;\n  }\n  return _createClass(Yi);\n}(U);\nvar Lo = /*#__PURE__*/function (_Yi) {\n  _inherits(Lo, _Yi);\n  var _super21 = _createSuper(Lo);\n  function Lo(e) {\n    _classCallCheck(this, Lo);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.cohere) == null ? void 0 : r.textGeneration,\n      i = (o = e.directConnection) == null ? void 0 : o.cohere;\n    return _super21.call(this, e, \"https://api.cohere.ai/v1/generate\", \"Once upon a time\", t, i);\n  }\n  _createClass(Lo, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = JSON.parse(JSON.stringify(e)),\n        n = t[t.length - 1].text;\n      if (n) return _objectSpread({\n        prompt: n\n      }, i);\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee53(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee53$(_context53) {\n          while (1) switch (_context53.prev = _context53.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context53.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context53.stop();\n          }\n        }, _callee53, this);\n      }));\n      function callServiceAPI(_x100, _x101) {\n        return _callServiceAPI9.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee54(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee54$(_context54) {\n          while (1) switch (_context54.prev = _context54.next) {\n            case 0:\n              if (!e.message) {\n                _context54.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context54.abrupt(\"return\", {\n                text: ((t = e.generations) == null ? void 0 : t[0].text) || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context54.stop();\n          }\n        }, _callee54);\n      }));\n      function extractResultData(_x102) {\n        return _extractResultData12.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Lo;\n}(Yi);\nvar Ro = /*#__PURE__*/function (_Yi2) {\n  _inherits(Ro, _Yi2);\n  var _super22 = _createSuper(Ro);\n  function Ro(e) {\n    _classCallCheck(this, Ro);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.cohere) == null ? void 0 : r.summarization,\n      i = (o = e.directConnection) == null ? void 0 : o.cohere;\n    return _super22.call(this, e, \"https://api.cohere.ai/v1/summarize\", \"Insert text to summarize\", t, i);\n  }\n  _createClass(Ro, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = JSON.parse(JSON.stringify(e)),\n        n = t[t.length - 1].text;\n      if (n) return _objectSpread({\n        text: n\n      }, i);\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee55(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee55$(_context55) {\n          while (1) switch (_context55.prev = _context55.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context55.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context55.stop();\n          }\n        }, _callee55, this);\n      }));\n      function callServiceAPI(_x103, _x104) {\n        return _callServiceAPI10.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee56(e) {\n        return _regeneratorRuntime().wrap(function _callee56$(_context56) {\n          while (1) switch (_context56.prev = _context56.next) {\n            case 0:\n              if (!e.message) {\n                _context56.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context56.abrupt(\"return\", {\n                text: e.summary || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context56.stop();\n          }\n        }, _callee56);\n      }));\n      function extractResultData(_x105) {\n        return _extractResultData13.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Ro;\n}(Yi);\nvar O = /*#__PURE__*/function () {\n  function O() {\n    _classCallCheck(this, O);\n  }\n  _createClass(O, null, [{\n    key: \"buildHeaders\",\n    value: function buildHeaders(e) {\n      return {\n        Authorization: \"Bearer \".concat(e),\n        \"Content-Type\": \"application/json\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleVerificationResult\",\n    value: function handleVerificationResult(e, t, i, n) {\n      var r = e;\n      r.error ? r.error.code === \"invalid_api_key\" ? n(C.INVALID_KEY) : n(C.CONNECTION_FAILED) : i(t);\n    }\n  }, {\n    key: \"buildKeyVerificationDetails\",\n    value: function buildKeyVerificationDetails() {\n      return {\n        url: \"https://api.openai.com/v1/models\",\n        method: \"GET\",\n        handleVerificationResult: O.handleVerificationResult\n      };\n    }\n  }, {\n    key: \"storeFiles\",\n    value: function () {\n      var _storeFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee58(e, t, i) {\n        var n, r, o, a;\n        return _regeneratorRuntime().wrap(function _callee58$(_context58) {\n          while (1) switch (_context58.prev = _context58.next) {\n            case 0:\n              n = e.requestSettings.headers;\n              if (n) {\n                _context58.next = 3;\n                break;\n              }\n              return _context58.abrupt(\"return\");\n            case 3:\n              e.url = \"https://api.openai.com/v1/files\";\n              r = n[E.CONTENT_TYPE];\n              delete n[E.CONTENT_TYPE];\n              o = i.map( /*#__PURE__*/function () {\n                var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee57(a) {\n                  var l;\n                  return _regeneratorRuntime().wrap(function _callee57$(_context57) {\n                    while (1) switch (_context57.prev = _context57.next) {\n                      case 0:\n                        l = new FormData();\n                        return _context57.abrupt(\"return\", (l.append(\"purpose\", \"assistants\"), l.append(\"file\", a), new Promise(function (c) {\n                          c(O.directFetch(e, l, \"POST\", !1));\n                        })));\n                      case 2:\n                      case \"end\":\n                        return _context57.stop();\n                    }\n                  }, _callee57);\n                }));\n                return function (_x109) {\n                  return _ref8.apply(this, arguments);\n                };\n              }());\n              _context58.prev = 7;\n              _context58.next = 10;\n              return Promise.all(o);\n            case 10:\n              a = _context58.sent.map(function (l) {\n                return l.id;\n              });\n              return _context58.abrupt(\"return\", (n[E.CONTENT_TYPE] = r, a));\n            case 14:\n              _context58.prev = 14;\n              _context58.t0 = _context58[\"catch\"](7);\n              throw n[E.CONTENT_TYPE] = r, E.displayError(t, _context58.t0), e.completionsHandlers.onFinish(), _context58.t0;\n            case 17:\n            case \"end\":\n              return _context58.stop();\n          }\n        }, _callee58, null, [[7, 14]]);\n      }));\n      function storeFiles(_x106, _x107, _x108) {\n        return _storeFiles.apply(this, arguments);\n      }\n      return storeFiles;\n    }() // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  }, {\n    key: \"directFetch\",\n    value: function () {\n      var _directFetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee59(e, t, i) {\n        var n,\n          r,\n          _args59 = arguments;\n        return _regeneratorRuntime().wrap(function _callee59$(_context59) {\n          while (1) switch (_context59.prev = _context59.next) {\n            case 0:\n              n = _args59.length > 3 && _args59[3] !== undefined ? _args59[3] : !0;\n              e.requestSettings.method = i;\n              _context59.next = 4;\n              return E.fetch(e, e.requestSettings.headers, n, t).then(function (o) {\n                return E.processResponseByType(o);\n              });\n            case 4:\n              r = _context59.sent;\n              if (!r.error) {\n                _context59.next = 7;\n                break;\n              }\n              throw r.error.message;\n            case 7:\n              return _context59.abrupt(\"return\", r);\n            case 8:\n            case \"end\":\n              return _context59.stop();\n          }\n        }, _callee59);\n      }));\n      function directFetch(_x110, _x111, _x112) {\n        return _directFetch.apply(this, arguments);\n      }\n      return directFetch;\n    }()\n  }]);\n  return O;\n}();\nvar Zi = /*#__PURE__*/function (_U4) {\n  _inherits(Fi, _U4);\n  var _super23 = _createSuper(Fi);\n  function Fi(e) {\n    var _o$model, _a$voice;\n    var _this25;\n    _classCallCheck(this, Fi);\n    var r, o, a;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t == null ? void 0 : t.openAI;\n    _this25 = _super23.call(this, e, O.buildKeyVerificationDetails(), O.buildHeaders, i), _this25.insertKeyPlaceholderText = \"OpenAI API Key\", _this25.getKeyLink = \"https://platform.openai.com/account/api-keys\", _this25.url = \"https://api.openai.com/v1/audio/speech\", _this25.permittedErrorPrefixes = [\"Invalid\"], _this25.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>OpenAI : Text To Speech</b></div>\\n    <p>Generate an audio file based on your text input.</p>\\n    <p>Click <a href=\\\"https://platform.openai.com/docs/guides/text-to-speech\\\">here</a> for more information.</p>\";\n    var n = (r = t == null ? void 0 : t.openAI) == null ? void 0 : r.textToSpeech;\n    _typeof(n) == \"object\" && Object.assign(_this25.rawBody, n), (_o$model = (o = _this25.rawBody).model) !== null && _o$model !== void 0 ? _o$model : o.model = Fi.DEFAULT_MODEL, (_a$voice = (a = _this25.rawBody).voice) !== null && _a$voice !== void 0 ? _a$voice : a.voice = Fi.DEFAULT_VOIDE, _this25.textInputPlaceholderText = \"Insert text to generate audio\", _this25.rawBody.response_format = \"mp3\";\n    return _this25;\n  }\n  _createClass(Fi, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var r, o;\n      var i = JSON.parse(JSON.stringify(e)),\n        n = (o = (r = t[t.length - 1]) == null ? void 0 : r.text) == null ? void 0 : o.trim();\n      return n && n !== \"\" && (i.input = n), i;\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee60(e, t) {\n        var n, i;\n        return _regeneratorRuntime().wrap(function _callee60$(_context60) {\n          while (1) switch (_context60.prev = _context60.next) {\n            case 0:\n              if ((n = this.requestSettings) != null && n.headers) {\n                _context60.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              this.url = this.requestSettings.url || this.url;\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e);\n            case 5:\n            case \"end\":\n              return _context60.stop();\n          }\n        }, _callee60, this);\n      }));\n      function callServiceAPI(_x113, _x114) {\n        return _callServiceAPI11.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee61(e) {\n        return _regeneratorRuntime().wrap(function _callee61$(_context61) {\n          while (1) switch (_context61.prev = _context61.next) {\n            case 0:\n              if (!(e instanceof Blob)) {\n                _context61.next = 2;\n                break;\n              }\n              return _context61.abrupt(\"return\", new Promise(function (t) {\n                var i = new FileReader();\n                i.readAsDataURL(e), i.onload = function (n) {\n                  t({\n                    files: [{\n                      src: n.target.result,\n                      type: \"audio\"\n                    }]\n                  });\n                };\n              }));\n            case 2:\n              if (!e.error) {\n                _context61.next = 4;\n                break;\n              }\n              throw e.error.message;\n            case 4:\n              return _context61.abrupt(\"return\", {\n                error: \"error\"\n              });\n            case 5:\n            case \"end\":\n              return _context61.stop();\n          }\n        }, _callee61);\n      }));\n      function extractResultData(_x115) {\n        return _extractResultData14.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Fi;\n}(U);\nZi.DEFAULT_MODEL = \"tts-1\";\nZi.DEFAULT_VOIDE = \"alloy\";\nvar Oo = Zi;\nvar si = /*#__PURE__*/function (_U5) {\n  _inherits(Ee, _U5);\n  var _super24 = _createSuper(Ee);\n  function Ee(e) {\n    var _o$model2;\n    var _this26;\n    _classCallCheck(this, Ee);\n    var r, o;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t == null ? void 0 : t.openAI;\n    _this26 = _super24.call(this, e, O.buildKeyVerificationDetails(), O.buildHeaders, i, {\n      audio: {}\n    }), _this26.insertKeyPlaceholderText = \"OpenAI API Key\", _this26.getKeyLink = \"https://platform.openai.com/account/api-keys\", _this26.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>OpenAI : Speech To Text</b></div>\\n    <p><b>Upload an audio file</b> to transcribe it into text. You can optionally provide text to guide the audio\\n      processing.\\n    <p>Click <a href=\\\"https://platform.openai.com/docs/guides/speech-to-text\\\">here</a> for more info.</p>\", _this26.url = \"\", _this26.permittedErrorPrefixes = [\"Invalid\"], _this26.textInputPlaceholderText = \"Upload an audio file\", _this26._service_url = Ee.AUDIO_TRANSCRIPTIONS_URL;\n    var n = (r = t == null ? void 0 : t.openAI) == null ? void 0 : r.audio;\n    _typeof(n) == \"object\" && (_this26.processConfig(n), Ee.cleanConfig(n), Object.assign(_this26.rawBody, n)), (_o$model2 = (o = _this26.rawBody).model) !== null && _o$model2 !== void 0 ? _o$model2 : o.model = Ee.DEFAULT_MODEL, _this26.rawBody.response_format = \"json\", _this26.canSendMessage = Ee.canSendFileMessage;\n    return _this26;\n  }\n  _createClass(Ee, [{\n    key: \"processConfig\",\n    value: function processConfig(e) {\n      e != null && e.type && e.type === \"translation\" && (this._service_url = Ee.AUDIO_TRANSLATIONS_URL, delete e.language);\n    }\n  }, {\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var r, o;\n      var i = JSON.parse(JSON.stringify(e)),\n        n = (o = (r = t[t.length - 1]) == null ? void 0 : r.text) == null ? void 0 : o.trim();\n      return n && n !== \"\" && (i.prompt = n), i;\n    }\n    // prettier-ignore\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee62(e, t, i) {\n        var o, n, r;\n        return _regeneratorRuntime().wrap(function _callee62$(_context62) {\n          while (1) switch (_context62.prev = _context62.next) {\n            case 0:\n              if ((o = this.requestSettings) != null && o.headers) {\n                _context62.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i != null && i[0]) {\n                _context62.next = 4;\n                break;\n              }\n              throw new Error(\"No file was added\");\n            case 4:\n              this.url = this.requestSettings.url || this._service_url;\n              n = this.preprocessBody(this.rawBody, t), r = Ee.createFormDataBody(n, i[0]);\n              E.tempRemoveContentHeader(this.requestSettings, _.request.bind(this, this, r, e), !1);\n            case 7:\n            case \"end\":\n              return _context62.stop();\n          }\n        }, _callee62, this);\n      }));\n      function callServiceAPI(_x116, _x117, _x118) {\n        return _callServiceAPI12.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee63(e) {\n        return _regeneratorRuntime().wrap(function _callee63$(_context63) {\n          while (1) switch (_context63.prev = _context63.next) {\n            case 0:\n              if (!e.error) {\n                _context63.next = 2;\n                break;\n              }\n              throw e.error.message;\n            case 2:\n              return _context63.abrupt(\"return\", {\n                text: e.text\n              });\n            case 3:\n            case \"end\":\n              return _context63.stop();\n          }\n        }, _callee63);\n      }));\n      function extractResultData(_x119) {\n        return _extractResultData15.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"canSendFileMessage\",\n    value: function canSendFileMessage(e, t) {\n      return !!(t != null && t[0]);\n    }\n  }, {\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.type;\n    }\n  }, {\n    key: \"createFormDataBody\",\n    value: function createFormDataBody(e, t) {\n      var i = new FormData();\n      return i.append(\"file\", t), Object.keys(e).forEach(function (n) {\n        i.append(n, String(e[n]));\n      }), i;\n    }\n  }]);\n  return Ee;\n}(U);\nsi.AUDIO_TRANSCRIPTIONS_URL = \"https://api.openai.com/v1/audio/transcriptions\";\nsi.AUDIO_TRANSLATIONS_URL = \"https://api.openai.com/v1/audio/translations\";\nsi.DEFAULT_MODEL = \"whisper-1\";\nvar No = si;\nvar Z = /*#__PURE__*/function () {\n  function Z() {\n    _classCallCheck(this, Z);\n  }\n  _createClass(Z, null, [{\n    key: \"buildTextToSpeechHeaders\",\n    value: function buildTextToSpeechHeaders(e, t) {\n      return {\n        \"Ocp-Apim-Subscription-Key\": t,\n        \"Content-Type\": \"application/ssml+xml\",\n        \"X-Microsoft-OutputFormat\": e\n      };\n    }\n  }, {\n    key: \"buildSpeechToTextHeaders\",\n    value: function buildSpeechToTextHeaders(e) {\n      return {\n        \"Ocp-Apim-Subscription-Key\": e,\n        Accept: \"application/json\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleSpeechVerificationResult\",\n    value: function handleSpeechVerificationResult(e, t, i, n) {\n      e.error ? n(C.INVALID_KEY) : i(t);\n    }\n  }, {\n    key: \"buildSpeechKeyVerificationDetails\",\n    value: function buildSpeechKeyVerificationDetails(e) {\n      return {\n        url: \"https://\".concat(e, \".api.cognitive.microsoft.com/sts/v1.0/issuetoken\"),\n        method: \"POST\",\n        createHeaders: function createHeaders(t) {\n          return {\n            \"Ocp-Apim-Subscription-Key\": \"\".concat(t)\n          };\n        },\n        handleVerificationResult: Z.handleSpeechVerificationResult\n      };\n    }\n  }, {\n    key: \"buildSummarizationHeader\",\n    value: function buildSummarizationHeader(e) {\n      return {\n        \"Ocp-Apim-Subscription-Key\": e,\n        \"Content-Type\": \"application/json\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleLanguageVerificationResult\",\n    value: function handleLanguageVerificationResult(e, t, i, n) {\n      var o;\n      ((o = e.error) == null ? void 0 : o.code) === \"401\" ? n(C.INVALID_KEY) : i(t);\n    }\n  }, {\n    key: \"buildLanguageKeyVerificationDetails\",\n    value: function buildLanguageKeyVerificationDetails(e) {\n      return {\n        url: \"\".concat(e, \"/language/analyze-text/jobs?api-version=2022-10-01-preview\"),\n        method: \"POST\",\n        createHeaders: function createHeaders(t) {\n          return {\n            \"Ocp-Apim-Subscription-Key\": \"\".concat(t)\n          };\n        },\n        handleVerificationResult: Z.handleLanguageVerificationResult\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleTranslationVerificationResult\",\n    value: function handleTranslationVerificationResult(e, t, i, n) {\n      e.json().then(function (o) {\n        !Array.isArray(o) && o.error.code === 401e3 ? n(C.INVALID_KEY) : i(t);\n      });\n    }\n  }, {\n    key: \"buildTranslationKeyVerificationDetails\",\n    value: function buildTranslationKeyVerificationDetails(e) {\n      return {\n        url: \"https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=es\",\n        method: \"POST\",\n        createHeaders: function createHeaders(t) {\n          return Z.buildTranslationHeaders(e, t);\n        },\n        handleVerificationResult: Z.handleTranslationVerificationResult\n      };\n    }\n  }, {\n    key: \"buildTranslationHeaders\",\n    value: function buildTranslationHeaders(e, t) {\n      var i = {\n        \"Ocp-Apim-Subscription-Key\": t,\n        \"Content-Type\": \"application/json\"\n      };\n      return e && (i[\"Ocp-Apim-Subscription-Region\"] = e), i;\n    }\n  }]);\n  return Z;\n}();\nvar Po = /*#__PURE__*/function (_U6) {\n  _inherits(Po, _U6);\n  var _super25 = _createSuper(Po);\n  // prettier-ignore\n  function Po(e, t, i, n, r) {\n    var _this27;\n    _classCallCheck(this, Po);\n    _this27 = _super25.call(this, e, Z.buildLanguageKeyVerificationDetails(i), t, n, r), _this27.insertKeyPlaceholderText = \"Azure Language Subscription Key\", _this27.getKeyLink =\n    // eslint-disable-next-line max-len\n    \"https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal\", _this27.permittedErrorPrefixes = [\"Access\"];\n    return _this27;\n  }\n  return _createClass(Po);\n}(U);\nvar Do = /*#__PURE__*/function (_Po) {\n  _inherits(Do, _Po);\n  var _super26 = _createSuper(Do);\n  function Do(e) {\n    var _a$language;\n    var _this28;\n    _classCallCheck(this, Do);\n    var n, r, o, a;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.azure) == null ? void 0 : r.summarization,\n      i = (o = e.directConnection) == null ? void 0 : o.azure;\n    _this28 = _super26.call(this, e, Z.buildSummarizationHeader, t.endpoint, i), _this28.url = \"\", _this28.textInputPlaceholderText = \"Insert text to summarize\", (_a$language = (a = _this28.rawBody).language) !== null && _a$language !== void 0 ? _a$language : a.language = \"en\", Object.assign(_this28.rawBody, t), _this28.url = \"\".concat(t.endpoint, \"/language/analyze-text/jobs?api-version=2022-10-01-preview\");\n    return _this28;\n  }\n  _createClass(Do, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = t[t.length - 1].text;\n      if (i) return {\n        analysisInput: {\n          documents: [{\n            id: \"1\",\n            language: e.language,\n            text: i\n          }]\n        },\n        tasks: [{\n          kind: \"ExtractiveSummarization\"\n        }]\n      };\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee64(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee64$(_context64) {\n          while (1) switch (_context64.prev = _context64.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context64.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e), this.messages = e;\n            case 4:\n            case \"end\":\n              return _context64.stop();\n          }\n        }, _callee64, this);\n      }));\n      function callServiceAPI(_x120, _x121) {\n        return _callServiceAPI13.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee65(e) {\n        var t, _i9, n;\n        return _regeneratorRuntime().wrap(function _callee65$(_context65) {\n          while (1) switch (_context65.prev = _context65.next) {\n            case 0:\n              if (!e.error) {\n                _context65.next = 2;\n                break;\n              }\n              throw e.error.message;\n            case 2:\n              if (this.messages && this.completionsHandlers) {\n                _i9 = e.headers.get(\"operation-location\"), n = {\n                  method: \"GET\",\n                  headers: (t = this.requestSettings) == null ? void 0 : t.headers\n                };\n                _.executePollRequest(this, _i9, n, this.messages);\n              }\n              return _context65.abrupt(\"return\", {\n                makingAnotherRequest: !0\n              });\n            case 4:\n            case \"end\":\n              return _context65.stop();\n          }\n        }, _callee65, this);\n      }));\n      function extractResultData(_x122) {\n        return _extractResultData16.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }, {\n    key: \"extractPollResultData\",\n    value: function () {\n      var _extractPollResultData4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee66(e) {\n        var t, _iterator, _step, _i10;\n        return _regeneratorRuntime().wrap(function _callee66$(_context66) {\n          while (1) switch (_context66.prev = _context66.next) {\n            case 0:\n              if (!e.error) {\n                _context66.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              if (!(e.status === \"running\")) {\n                _context66.next = 4;\n                break;\n              }\n              return _context66.abrupt(\"return\", {\n                timeoutMS: 2e3\n              });\n            case 4:\n              if (!(e.errors.length > 0)) {\n                _context66.next = 6;\n                break;\n              }\n              throw e.errors[0];\n            case 6:\n              if (!(e.tasks.items[0].results.errors.length > 0)) {\n                _context66.next = 8;\n                break;\n              }\n              throw e.tasks.items[0].results.errors[0];\n            case 8:\n              t = \"\";\n              _iterator = _createForOfIteratorHelper(e.tasks.items[0].results.documents[0].sentences);\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  _i10 = _step.value;\n                  t += _i10.text;\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              return _context66.abrupt(\"return\", {\n                text: t || \"\"\n              });\n            case 12:\n            case \"end\":\n              return _context66.stop();\n          }\n        }, _callee66);\n      }));\n      function extractPollResultData(_x123) {\n        return _extractPollResultData4.apply(this, arguments);\n      }\n      return extractPollResultData;\n    }()\n  }]);\n  return Do;\n}(Po);\nvar ct = /*#__PURE__*/function () {\n  function ct() {\n    _classCallCheck(this, ct);\n  }\n  _createClass(ct, null, [{\n    key: \"poll\",\n    value: function () {\n      var _poll2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee67(e, t) {\n        var i, a, l, d;\n        return _regeneratorRuntime().wrap(function _callee67$(_context67) {\n          while (1) switch (_context67.prev = _context67.next) {\n            case 0:\n              i = {\n                authorization: e,\n                \"content-type\": \"application/json\"\n              };\n              _context67.t0 = \"https://api.assemblyai.com/v2/transcript/\";\n              _context67.next = 4;\n              return fetch(\"https://api.assemblyai.com/v2/transcript\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                  audio_url: t\n                }),\n                headers: i\n              });\n            case 4:\n              _context67.next = 6;\n              return _context67.sent.json();\n            case 6:\n              _context67.t1 = _context67.sent.id;\n              a = _context67.t0.concat.call(_context67.t0, _context67.t1);\n            case 8:\n              if (l) {\n                _context67.next = 24;\n                break;\n              }\n              _context67.next = 11;\n              return fetch(a, {\n                headers: i\n              });\n            case 11:\n              _context67.next = 13;\n              return _context67.sent.json();\n            case 13:\n              d = _context67.sent;\n              if (!(d.status === \"completed\")) {\n                _context67.next = 18;\n                break;\n              }\n              l = d;\n              _context67.next = 22;\n              break;\n            case 18:\n              if (!(d.status === \"error\")) {\n                _context67.next = 20;\n                break;\n              }\n              throw new Error(\"Transcription failed: \".concat(d.error));\n            case 20:\n              _context67.next = 22;\n              return new Promise(function (u) {\n                return setTimeout(u, 3e3);\n              });\n            case 22:\n              _context67.next = 8;\n              break;\n            case 24:\n              return _context67.abrupt(\"return\", l);\n            case 25:\n            case \"end\":\n              return _context67.stop();\n          }\n        }, _callee67);\n      }));\n      function poll(_x124, _x125) {\n        return _poll2.apply(this, arguments);\n      }\n      return poll;\n    }()\n  }, {\n    key: \"buildHeaders\",\n    value: function buildHeaders(e) {\n      return {\n        Authorization: e,\n        \"Content-Type\": \"application/octet-stream\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleVerificationResult\",\n    value: function handleVerificationResult(e, t, i, n) {\n      var r = e;\n      r.error ? r.error.code === \"invalid_api_key\" ? n(C.INVALID_KEY) : n(C.CONNECTION_FAILED) : i(t);\n    }\n  }, {\n    key: \"buildKeyVerificationDetails\",\n    value: function buildKeyVerificationDetails() {\n      return {\n        url: \"https://api.assemblyai.com/v2/upload\",\n        method: \"POST\",\n        handleVerificationResult: ct.handleVerificationResult\n      };\n    }\n  }]);\n  return ct;\n}();\nvar Xi = /*#__PURE__*/function (_U7) {\n  _inherits(Xi, _U7);\n  var _super27 = _createSuper(Xi);\n  function Xi(e) {\n    var _this29;\n    _classCallCheck(this, Xi);\n    var i;\n    var t = (i = e.directConnection) == null ? void 0 : i.assemblyAI;\n    _this29 = _super27.call(this, e, ct.buildKeyVerificationDetails(), ct.buildHeaders, t, {\n      audio: {}\n    }), _this29.insertKeyPlaceholderText = \"AssemblyAI API Key\", _this29.getKeyLink = \"https://www.assemblyai.com/app/account\", _this29.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>AssemblyAI Audio</b></div>\\n    <p><b>Upload an audio file</b> to transcribe it into text.\\n    <p>\\n      Click <a href=\\\"https://www.assemblyai.com/docs/Guides/transcribing_an_audio_file#get-started\\\">here</a> for more info.\\n    </p>\", _this29.url = \"https://api.assemblyai.com/v2/upload\", _this29.isTextInputDisabled = !0, _this29.textInputPlaceholderText = \"Upload an audio file\", _this29.permittedErrorPrefixes = [\"Authentication\", \"Invalid\"], _this29.canSendMessage = Xi.canFileSendMessage;\n    return _this29;\n  }\n  _createClass(Xi, [{\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee68(e, t, i) {\n        var n;\n        return _regeneratorRuntime().wrap(function _callee68$(_context68) {\n          while (1) switch (_context68.prev = _context68.next) {\n            case 0:\n              if ((n = this.requestSettings) != null && n.headers) {\n                _context68.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i != null && i[0]) {\n                _context68.next = 4;\n                break;\n              }\n              throw new Error(\"No file was added\");\n            case 4:\n              _.request(this, i[0], e, !1);\n            case 5:\n            case \"end\":\n              return _context68.stop();\n          }\n        }, _callee68, this);\n      }));\n      function callServiceAPI(_x126, _x127, _x128) {\n        return _callServiceAPI14.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee69(e) {\n        var n, r, t;\n        return _regeneratorRuntime().wrap(function _callee69$(_context69) {\n          while (1) switch (_context69.prev = _context69.next) {\n            case 0:\n              if (!e.error) {\n                _context69.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              t = (r = (n = this.requestSettings) == null ? void 0 : n.headers) == null ? void 0 : r.Authorization;\n              _context69.next = 5;\n              return ct.poll(t, e.upload_url);\n            case 5:\n              _context69.t0 = _context69.sent.text;\n              return _context69.abrupt(\"return\", {\n                text: _context69.t0\n              });\n            case 7:\n            case \"end\":\n              return _context69.stop();\n          }\n        }, _callee69, this);\n      }));\n      function extractResultData(_x129) {\n        return _extractResultData17.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"canFileSendMessage\",\n    value: function canFileSendMessage(e, t) {\n      return !!(t != null && t[0]);\n    }\n  }]);\n  return Xi;\n}(U);\nvar as = /*#__PURE__*/function (_U8) {\n  _inherits(as, _U8);\n  var _super28 = _createSuper(as);\n  // prettier-ignore\n  function as(e, t, i, n, r) {\n    var _this30;\n    _classCallCheck(this, as);\n    _this30 = _super28.call(this, e, Z.buildSpeechKeyVerificationDetails(i), t, n, r), _this30.insertKeyPlaceholderText = \"Azure Speech Subscription Key\", _this30.getKeyLink =\n    // eslint-disable-next-line max-len\n    \"https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal\";\n    return _this30;\n  }\n  return _createClass(as);\n}(U);\nvar ls = /*#__PURE__*/function (_as) {\n  _inherits(cs, _as);\n  var _super29 = _createSuper(cs);\n  // prettier-ignore\n  function cs(e) {\n    var _a$lang, _l$name, _c$gender;\n    var _this31;\n    _classCallCheck(this, cs);\n    var n, r, o, a, l, c;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.azure) == null ? void 0 : r.textToSpeech,\n      i = (o = e.directConnection) == null ? void 0 : o.azure;\n    _this31 = _super29.call(this, e, Z.buildTextToSpeechHeaders.bind({}, (t == null ? void 0 : t.outputFormat) || \"audio-16khz-128kbitrate-mono-mp3\"), t.region, i), _this31.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Azure Text To Speech</b></div>\\n    <p>Insert text to synthesize it to audio.\\n    <p>\\n      Click <a href=\\\"\".concat(cs.HELP_LINK, \"\\\">here</a> for more info.\\n    </p>\"), _this31.url = \"\", Object.assign(_this31.rawBody, t), (_a$lang = (a = _this31.rawBody).lang) !== null && _a$lang !== void 0 ? _a$lang : a.lang = \"en-US\", (_l$name = (l = _this31.rawBody).name) !== null && _l$name !== void 0 ? _l$name : l.name = \"en-US-JennyNeural\", (_c$gender = (c = _this31.rawBody).gender) !== null && _c$gender !== void 0 ? _c$gender : c.gender = \"Female\", _this31.url = \"https://\".concat(t.region, \".tts.speech.microsoft.com/cognitiveservices/v1\");\n    return _this31;\n  }\n  _createClass(cs, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = t[t.length - 1].text;\n      if (i) return \"<speak version='1.0' xml:lang='\".concat(e.lang, \"'>\\n      <voice xml:lang='\").concat(e.lang, \"' xml:gender='\").concat(e.gender, \"' name='\").concat(e.name, \"'>\\n        \").concat(i, \"\\n      </voice>\\n    </speak>\");\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee70(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee70$(_context70) {\n          while (1) switch (_context70.prev = _context70.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context70.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e, !1);\n            case 4:\n            case \"end\":\n              return _context70.stop();\n          }\n        }, _callee70, this);\n      }));\n      function callServiceAPI(_x130, _x131) {\n        return _callServiceAPI15.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee71(e) {\n        return _regeneratorRuntime().wrap(function _callee71$(_context71) {\n          while (1) switch (_context71.prev = _context71.next) {\n            case 0:\n              return _context71.abrupt(\"return\", new Promise(function (t) {\n                var i = new FileReader();\n                i.readAsDataURL(e), i.onload = function (n) {\n                  t({\n                    files: [{\n                      src: n.target.result,\n                      type: \"audio\"\n                    }]\n                  });\n                };\n              }));\n            case 1:\n            case \"end\":\n              return _context71.stop();\n          }\n        }, _callee71);\n      }));\n      function extractResultData(_x132) {\n        return _extractResultData18.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return cs;\n}(as);\nls.HELP_LINK =\n// eslint-disable-next-line max-len\n\"https://learn.microsoft.com/en-GB/azure/cognitive-services/speech-service/get-started-text-to-speech?tabs=windows%2Cterminal&pivots=programming-language-rest\";\nvar jo = ls;\nvar ds = /*#__PURE__*/function (_as2) {\n  _inherits(Bi, _as2);\n  var _super30 = _createSuper(Bi);\n  function Bi(e) {\n    var _this32;\n    _classCallCheck(this, Bi);\n    var o, a, l;\n    var t = (a = (o = e.directConnection) == null ? void 0 : o.azure) == null ? void 0 : a.speechToText,\n      i = (l = e.directConnection) == null ? void 0 : l.azure,\n      n = {\n        audio: {\n          files: {\n            acceptedFormats: \".wav,.ogg\"\n          }\n        }\n      };\n    _this32 = _super30.call(this, e, Z.buildSpeechToTextHeaders, t.region, i, n), _this32.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Azure Speech To Text</b></div>\\n    <p><b>Upload a .wav or .ogg audio file</b> to transcribe it into text.\\n    <p>\\n      Click <a href=\\\"\".concat(Bi.HELP_LINK, \"\\\">here</a> for more info.\\n    </p>\"), _this32.url = \"\", _this32.isTextInputDisabled = !0, _this32.textInputPlaceholderText = \"Upload an audio file\", _this32.canSendMessage = Bi.canFileSendMessage;\n    var r = t.lang || \"en-US\";\n    _this32.url = \"https://\".concat(t.region, \".stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1?language=\").concat(r, \"&format=detailed\"), _this32.recordAudio = void 0;\n    return _this32;\n  }\n  _createClass(Bi, [{\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee72(e, t, i) {\n        var n, r;\n        return _regeneratorRuntime().wrap(function _callee72$(_context72) {\n          while (1) switch (_context72.prev = _context72.next) {\n            case 0:\n              if ((n = this.requestSettings) != null && n.headers) {\n                _context72.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i != null && i[0]) {\n                _context72.next = 4;\n                break;\n              }\n              throw new Error(\"No file was added\");\n            case 4:\n              (r = this.requestSettings) != null && r.headers && (this.requestSettings.headers[\"Content-Type\"] = i[0].name.toLocaleLowerCase().endsWith(\".wav\") ? \"audio/wav; codecs=audio/pcm; samplerate=16000\" : \"audio/ogg; codecs=opus\"), _.request(this, i[0], e, !1);\n            case 5:\n            case \"end\":\n              return _context72.stop();\n          }\n        }, _callee72, this);\n      }));\n      function callServiceAPI(_x133, _x134, _x135) {\n        return _callServiceAPI16.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee73(e) {\n        return _regeneratorRuntime().wrap(function _callee73$(_context73) {\n          while (1) switch (_context73.prev = _context73.next) {\n            case 0:\n              if (!e.error) {\n                _context73.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context73.abrupt(\"return\", {\n                text: e.DisplayText || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context73.stop();\n          }\n        }, _callee73);\n      }));\n      function extractResultData(_x136) {\n        return _extractResultData19.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"canFileSendMessage\",\n    value: function canFileSendMessage(e, t) {\n      return !!(t != null && t[0]);\n    }\n  }]);\n  return Bi;\n}(as);\nds.HELP_LINK =\n// eslint-disable-next-line max-len\n\"https://learn.microsoft.com/en-GB/azure/cognitive-services/speech-service/get-started-text-to-speech?tabs=windows%2Cterminal&pivots=programming-language-rest\";\nvar Fo = ds;\nvar Bo = /*#__PURE__*/function (_U9) {\n  _inherits(Bo, _U9);\n  var _super31 = _createSuper(Bo);\n  // prettier-ignore\n  function Bo(e) {\n    var _this33;\n    _classCallCheck(this, Bo);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.azure) == null ? void 0 : r.translation,\n      i = (o = e.directConnection) == null ? void 0 : o.azure;\n    _this33 = _super31.call(this, e, Z.buildTranslationKeyVerificationDetails(t.region), Z.buildTranslationHeaders.bind({}, t == null ? void 0 : t.region), i), _this33.insertKeyPlaceholderText = \"Azure Translate Subscription Key\", _this33.getKeyLink =\n    // eslint-disable-next-line max-len\n    \"https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal\", _this33.url = \"\", _this33.url = \"https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=\".concat(t.language || \"es\");\n    return _this33;\n  }\n  _createClass(Bo, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e) {\n      var t = e[e.length - 1].text;\n      if (t) return [{\n        Text: t\n      }];\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee74(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee74$(_context74) {\n          while (1) switch (_context74.prev = _context74.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context74.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(t);\n              _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context74.stop();\n          }\n        }, _callee74, this);\n      }));\n      function callServiceAPI(_x137, _x138) {\n        return _callServiceAPI17.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee75(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee75$(_context75) {\n          while (1) switch (_context75.prev = _context75.next) {\n            case 0:\n              if (!Array.isArray(e)) {\n                _context75.next = 2;\n                break;\n              }\n              return _context75.abrupt(\"return\", {\n                text: ((t = e[0].translations) == null ? void 0 : t[0].text) || \"\"\n              });\n            case 2:\n              throw e.error;\n            case 3:\n            case \"end\":\n              return _context75.stop();\n          }\n        }, _callee75);\n      }));\n      function extractResultData(_x139) {\n        return _extractResultData20.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Bo;\n}(U);\nvar Qi = /*#__PURE__*/function (_U10) {\n  _inherits(ae, _U10);\n  var _super32 = _createSuper(ae);\n  function ae(e) {\n    var _l$headers, _c$OpenAIBeta;\n    var _this34;\n    _classCallCheck(this, ae);\n    var r, o, a, l, c;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t.openAI;\n    _this34 = _super32.call(this, e, O.buildKeyVerificationDetails(), O.buildHeaders, i), _this34.insertKeyPlaceholderText = \"OpenAI API Key\", _this34.getKeyLink = \"https://platform.openai.com/account/api-keys\", _this34.url = \"\", _this34.permittedErrorPrefixes = [\"Incorrect\"], _this34.searchedForThreadId = !1;\n    var n = (r = t.openAI) == null ? void 0 : r.assistant;\n    if (_typeof(n) == \"object\") {\n      _this34.rawBody.assistant_id = n.assistant_id;\n      var _ref9 = (a = (o = e.directConnection) == null ? void 0 : o.openAI) == null ? void 0 : a.assistant,\n        d = _ref9.function_handler;\n      d && (_this34._functionHandler = d);\n    }\n    (_l$headers = (l = _this34.requestSettings).headers) !== null && _l$headers !== void 0 ? _l$headers : l.headers = {}, (_c$OpenAIBeta = (c = _this34.requestSettings.headers)[\"OpenAI-Beta\"]) !== null && _c$OpenAIBeta !== void 0 ? _c$OpenAIBeta : c[\"OpenAI-Beta\"] = \"assistants=v1\", _this34.maxMessages = 1;\n    return _this34;\n  }\n  _createClass(ae, [{\n    key: \"processMessage\",\n    value: function processMessage(e, t) {\n      var i = this.totalMessagesMaxCharLength || -1;\n      return {\n        content: Xe.getCharacterLimitMessages(e, i)[0].text || \"\",\n        role: \"user\",\n        file_ids: t\n      };\n    }\n  }, {\n    key: \"createNewThreadMessages\",\n    value: function createNewThreadMessages(e, t, i) {\n      var n = JSON.parse(JSON.stringify(e)),\n        r = this.processMessage(t, i);\n      return n.thread = {\n        messages: [r]\n      }, n;\n    }\n  }, {\n    key: \"callService\",\n    value: function callService(e, t, i) {\n      if (this.sessionId) {\n        this.url = \"\".concat(ae.THREAD_PREFIX, \"/\").concat(this.sessionId, \"/messages\");\n        var n = this.processMessage(t, i);\n        _.request(this, n, e);\n      } else {\n        this.url = \"\".concat(ae.THREAD_PREFIX, \"/runs\");\n        var _n2 = this.createNewThreadMessages(this.rawBody, t, i);\n        _.request(this, _n2, e);\n      }\n      this.messages = e;\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee76(e, t, i) {\n        var n;\n        return _regeneratorRuntime().wrap(function _callee76$(_context76) {\n          while (1) switch (_context76.prev = _context76.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context76.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              this.searchedForThreadId || this.searchPreviousMessagesForThreadId(e.messages);\n              if (!i) {\n                _context76.next = 9;\n                break;\n              }\n              _context76.next = 6;\n              return O.storeFiles(this, e, i);\n            case 6:\n              _context76.t0 = _context76.sent;\n              _context76.next = 10;\n              break;\n            case 9:\n              _context76.t0 = void 0;\n            case 10:\n              n = _context76.t0;\n              this.requestSettings.method = \"POST\", this.callService(e, t, n);\n            case 12:\n            case \"end\":\n              return _context76.stop();\n          }\n        }, _callee76, this);\n      }));\n      function callServiceAPI(_x140, _x141, _x142) {\n        return _callServiceAPI18.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"searchPreviousMessagesForThreadId\",\n    value: function searchPreviousMessagesForThreadId(e) {\n      var t = e.find(function (i) {\n        return i._sessionId;\n      });\n      t && (this.sessionId = t._sessionId), this.searchedForThreadId = !0;\n    }\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee77(e) {\n        var n, t, i;\n        return _regeneratorRuntime().wrap(function _callee77$(_context77) {\n          while (1) switch (_context77.prev = _context77.next) {\n            case 0:\n              if (!e.error) {\n                _context77.next = 2;\n                break;\n              }\n              throw e.error.message;\n            case 2:\n              _context77.next = 4;\n              return this.assignThreadAndRun(e);\n            case 4:\n              t = \"\".concat(ae.THREAD_PREFIX, \"/\").concat(this.sessionId, \"/runs/\").concat(this.run_id), i = {\n                method: \"GET\",\n                headers: (n = this.requestSettings) == null ? void 0 : n.headers\n              };\n              return _context77.abrupt(\"return\", (_.executePollRequest(this, t, i, this.messages), {\n                makingAnotherRequest: !0\n              }));\n            case 6:\n            case \"end\":\n              return _context77.stop();\n          }\n        }, _callee77, this);\n      }));\n      function extractResultData(_x143) {\n        return _extractResultData21.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }, {\n    key: \"assignThreadAndRun\",\n    value: function () {\n      var _assignThreadAndRun = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee78(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee78$(_context78) {\n          while (1) switch (_context78.prev = _context78.next) {\n            case 0:\n              if (!this.sessionId) {\n                _context78.next = 8;\n                break;\n              }\n              this.url = \"\".concat(ae.THREAD_PREFIX, \"/\").concat(this.sessionId, \"/runs\");\n              _context78.next = 4;\n              return O.directFetch(this, JSON.parse(JSON.stringify(this.rawBody)), \"POST\");\n            case 4:\n              t = _context78.sent;\n              this.run_id = t.id;\n              _context78.next = 9;\n              break;\n            case 8:\n              this.sessionId = e.thread_id, this.run_id = e.id, this.messages && (this.messages.messages[this.messages.messages.length - 1]._sessionId = this.sessionId);\n            case 9:\n            case \"end\":\n              return _context78.stop();\n          }\n        }, _callee78, this);\n      }));\n      function assignThreadAndRun(_x144) {\n        return _assignThreadAndRun.apply(this, arguments);\n      }\n      return assignThreadAndRun;\n    }()\n  }, {\n    key: \"extractPollResultData\",\n    value: function () {\n      var _extractPollResultData5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee79(e) {\n        var r, o, t, i, l, c, d, u, n;\n        return _regeneratorRuntime().wrap(function _callee79$(_context79) {\n          while (1) switch (_context79.prev = _context79.next) {\n            case 0:\n              t = e.status, i = e.required_action;\n              if (!(t === \"queued\" || t === \"in_progress\")) {\n                _context79.next = 3;\n                break;\n              }\n              return _context79.abrupt(\"return\", {\n                timeoutMS: ae.POLLING_TIMEOUT_MS\n              });\n            case 3:\n              if (!(t === \"completed\" && this.messages)) {\n                _context79.next = 19;\n                break;\n              }\n              this.url = \"\".concat(ae.THREAD_PREFIX, \"/\").concat(e.thread_id, \"/messages\");\n              _context79.next = 7;\n              return O.directFetch(this, {}, \"GET\");\n            case 7:\n              l = _context79.sent.data[0];\n              c = l.content.find(function (p) {\n                return !!p.text;\n              });\n              d = l.content.filter(function (p) {\n                var h;\n                return (h = p.image_file) == null ? void 0 : h.file_id;\n              }).map(function (p) {\n                var h;\n                return (h = p.image_file) == null ? void 0 : h.file_id;\n              });\n              if (!(d && d.length > 0)) {\n                _context79.next = 16;\n                break;\n              }\n              _context79.next = 13;\n              return this.getFiles(d);\n            case 13:\n              _context79.t0 = _context79.sent;\n              _context79.next = 17;\n              break;\n            case 16:\n              _context79.t0 = void 0;\n            case 17:\n              u = _context79.t0;\n              return _context79.abrupt(\"return\", {\n                text: ((r = c == null ? void 0 : c.text) == null ? void 0 : r.value) || \"\",\n                _sessionId: this.sessionId,\n                files: u\n              });\n            case 19:\n              n = (o = i == null ? void 0 : i.submit_tool_outputs) == null ? void 0 : o.tool_calls;\n              if (!(t === \"requires_action\" && n)) {\n                _context79.next = 24;\n                break;\n              }\n              _context79.next = 23;\n              return this.handleTools(n);\n            case 23:\n              return _context79.abrupt(\"return\", _context79.sent);\n            case 24:\n              throw Error(\"Thread run status: \".concat(t));\n            case 25:\n            case \"end\":\n              return _context79.stop();\n          }\n        }, _callee79, this);\n      }));\n      function extractPollResultData(_x145) {\n        return _extractPollResultData5.apply(this, arguments);\n      }\n      return extractPollResultData;\n    }()\n  }, {\n    key: \"getFiles\",\n    value: function () {\n      var _getFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee80(e) {\n        var _this35 = this;\n        var t, n;\n        return _regeneratorRuntime().wrap(function _callee80$(_context80) {\n          while (1) switch (_context80.prev = _context80.next) {\n            case 0:\n              t = e.map(function (r) {\n                return _this35.url = \"https://api.openai.com/v1/files/\".concat(r, \"/content\"), new Promise(function (o) {\n                  o(O.directFetch(_this35, void 0, \"GET\", !1));\n                });\n              });\n              _context80.next = 3;\n              return Promise.all(t);\n            case 3:\n              n = _context80.sent.map(function (r) {\n                return new Promise(function (o) {\n                  var a = new FileReader();\n                  a.readAsDataURL(r), a.onload = function (l) {\n                    o({\n                      src: l.target.result,\n                      type: \"image\"\n                    });\n                  };\n                });\n              });\n              _context80.next = 6;\n              return Promise.all(n);\n            case 6:\n              return _context80.abrupt(\"return\", _context80.sent);\n            case 7:\n            case \"end\":\n              return _context80.stop();\n          }\n        }, _callee80);\n      }));\n      function getFiles(_x146) {\n        return _getFiles.apply(this, arguments);\n      }\n      return getFiles;\n    }() // prettier-ignore\n  }, {\n    key: \"handleTools\",\n    value: function () {\n      var _handleTools = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee81(e) {\n        var t, i, n;\n        return _regeneratorRuntime().wrap(function _callee81$(_context81) {\n          while (1) switch (_context81.prev = _context81.next) {\n            case 0:\n              if (this._functionHandler) {\n                _context81.next = 2;\n                break;\n              }\n              throw Error(\"Please define the `function_handler` property inside the [openAI](https://deepchat.dev/docs/directConnection/openAI#Assistant) object.\");\n            case 2:\n              t = e.map(function (r) {\n                return {\n                  name: r[\"function\"].name,\n                  arguments: r[\"function\"].arguments\n                };\n              });\n              _context81.next = 5;\n              return this._functionHandler(t);\n            case 5:\n              i = _context81.sent;\n              if (!(!Array.isArray(i) || i.find(function (r) {\n                return typeof r != \"string\";\n              }) || e.length !== i.length)) {\n                _context81.next = 8;\n                break;\n              }\n              throw Error(\"Response must contain an array of strings for each individual function/tool_call, see https://deepchat.dev/docs/directConnection/OpenAI/#assistant-functions.\");\n            case 8:\n              n = i.map(function (r, o) {\n                return {\n                  tool_call_id: e[o].id,\n                  output: r\n                };\n              });\n              this.url = \"\".concat(ae.THREAD_PREFIX, \"/\").concat(this.sessionId, \"/runs/\").concat(this.run_id, \"/submit_tool_outputs\");\n              _context81.next = 12;\n              return O.directFetch(this, {\n                tool_outputs: n\n              }, \"POST\");\n            case 12:\n              return _context81.abrupt(\"return\", {\n                timeoutMS: ae.POLLING_TIMEOUT_MS\n              });\n            case 13:\n            case \"end\":\n              return _context81.stop();\n          }\n        }, _callee81, this);\n      }));\n      function handleTools(_x147) {\n        return _handleTools.apply(this, arguments);\n      }\n      return handleTools;\n    }()\n  }]);\n  return ae;\n}(U);\nQi.THREAD_PREFIX = \"https://api.openai.com/v1/threads\";\nQi.POLLING_TIMEOUT_MS = 800;\nvar zo = Qi;\nvar ri = /*#__PURE__*/function (_U11) {\n  _inherits(Se, _U11);\n  var _super33 = _createSuper(Se);\n  function Se(e) {\n    var _this36;\n    _classCallCheck(this, Se);\n    var o;\n    var t = e.directConnection,\n      i = t == null ? void 0 : t.openAI,\n      n = {\n        images: {\n          files: {\n            acceptedFormats: \".png\",\n            maxNumberOfFiles: 2\n          }\n        }\n      };\n    _this36 = _super33.call(this, e, O.buildKeyVerificationDetails(), O.buildHeaders, i, n), _this36.insertKeyPlaceholderText = \"OpenAI API Key\", _this36.getKeyLink = \"https://platform.openai.com/account/api-keys\", _this36.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>OpenAI DALL\\xB7E</b></div>\\n    <p><b>Insert text</b> to generate an image.</p>\\n    <p><b>Upload 1</b> PNG image to generate its variation and optionally insert text to specify the change.</p>\\n    <p><b>Upload 2</b> PNG images where the second is a copy of the first with a transparent area where the edit should\\n      take place and text to specify the edit.</p>\\n    <p>Click <a href=\\\"https://platform.openai.com/docs/guides/images/introduction\\\">here</a> for more info.</p>\", _this36.url = \"\", _this36.permittedErrorPrefixes = [\"Incorrect\", \"Invalid input image\"];\n    var r = (o = t == null ? void 0 : t.openAI) == null ? void 0 : o.images;\n    if (_this36.camera) {\n      var a = _typeof(r) == \"object\" && r.size ? Number.parseInt(r.size) : 1024;\n      _this36.camera.files = {\n        dimensions: {\n          width: a,\n          height: a\n        }\n      };\n    }\n    _typeof(r) == \"object\" && Object.assign(_this36.rawBody, r), _this36.canSendMessage = Se.canFileSendMessage;\n    return _this36;\n  }\n  _createClass(Se, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = JSON.parse(JSON.stringify(e));\n      return t && t !== \"\" && (i.prompt = t), i;\n    }\n    // prettier-ignore\n  }, {\n    key: \"callApiWithImage\",\n    value: function callApiWithImage(e, t, i) {\n      var o, a;\n      var n;\n      var r = (a = (o = t[t.length - 1]) == null ? void 0 : o.text) == null ? void 0 : a.trim();\n      if (i[1] || r && r !== \"\") {\n        this.url = Se.IMAGE_EDIT_URL;\n        var l = this.preprocessBody(this.rawBody, r);\n        n = Se.createFormDataBody(l, i[0], i[1]);\n      } else this.url = Se.IMAGE_VARIATIONS_URL, n = Se.createFormDataBody(this.rawBody, i[0]);\n      E.tempRemoveContentHeader(this.requestSettings, _.request.bind(this, this, n, e), !1);\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee82(e, t, i) {\n        var n, r;\n        return _regeneratorRuntime().wrap(function _callee82$(_context82) {\n          while (1) switch (_context82.prev = _context82.next) {\n            case 0:\n              if ((n = this.requestSettings) != null && n.headers) {\n                _context82.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (!(i != null && i[0])) {\n                _context82.next = 6;\n                break;\n              }\n              this.callApiWithImage(e, t, i);\n              _context82.next = 11;\n              break;\n            case 6:\n              if (this.requestSettings) {\n                _context82.next = 8;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 8:\n              this.url = Se.IMAGE_GENERATION_URL;\n              r = this.preprocessBody(this.rawBody, t[t.length - 1].text);\n              _.request(this, r, e);\n            case 11:\n            case \"end\":\n              return _context82.stop();\n          }\n        }, _callee82, this);\n      }));\n      function callServiceAPI(_x148, _x149, _x150) {\n        return _callServiceAPI19.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData22 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee83(e) {\n        return _regeneratorRuntime().wrap(function _callee83$(_context83) {\n          while (1) switch (_context83.prev = _context83.next) {\n            case 0:\n              if (!e.error) {\n                _context83.next = 2;\n                break;\n              }\n              throw e.error.message;\n            case 2:\n              return _context83.abrupt(\"return\", {\n                files: e.data.map(function (i) {\n                  return i.url ? {\n                    src: i.url,\n                    type: \"image\"\n                  } : {\n                    src: \"\".concat(Et).concat(i.b64_json),\n                    type: \"image\"\n                  };\n                })\n              });\n            case 3:\n            case \"end\":\n              return _context83.stop();\n          }\n        }, _callee83);\n      }));\n      function extractResultData(_x151) {\n        return _extractResultData22.apply(this, arguments);\n      }\n      return extractResultData;\n    }() // private static readonly MODAL_MARKDOWN = `\n    // 1 image:\n    // - With text - edits image based on the text\n    // - No text - creates a variation of the image\n    // 2 images:\n    // - The second image needs to be a copy of the first with a transparent area where the edit should take place.\n    // Add text to describe the required modification.\n    // Click here for [more info](https://platform.openai.com/docs/guides/images/introduction).\n    //   `;\n  }], [{\n    key: \"canFileSendMessage\",\n    value: function canFileSendMessage(e, t) {\n      return !!(t != null && t[0]) || !!(e && e.trim() !== \"\");\n    }\n  }, {\n    key: \"createFormDataBody\",\n    value: function createFormDataBody(e, t, i) {\n      var n = new FormData();\n      return n.append(\"image\", t), i && n.append(\"mask\", i), Object.keys(e).forEach(function (r) {\n        n.append(r, String(e[r]));\n      }), n;\n    }\n  }]);\n  return Se;\n}(U);\nri.IMAGE_GENERATION_URL = \"https://api.openai.com/v1/images/generations\";\nri.IMAGE_VARIATIONS_URL = \"https://api.openai.com/v1/images/variations\";\nri.IMAGE_EDIT_URL = \"https://api.openai.com/v1/images/edits\";\nvar Uo = ri;\nvar dt = /*#__PURE__*/function (_U12) {\n  _inherits(dt, _U12);\n  var _super34 = _createSuper(dt);\n  function dt(e) {\n    var _this37$maxMessages, _l$model;\n    var _this37;\n    _classCallCheck(this, dt);\n    var r, o, a, l;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t.openAI;\n    _this37 = _super34.call(this, e, O.buildKeyVerificationDetails(), O.buildHeaders, i), _this37.insertKeyPlaceholderText = \"OpenAI API Key\", _this37.getKeyLink = \"https://platform.openai.com/account/api-keys\", _this37.url = \"https://api.openai.com/v1/chat/completions\", _this37.permittedErrorPrefixes = [\"Incorrect\"], _this37._systemMessage = dt.generateSystemMessage(\"You are a helpful assistant.\");\n    var n = (r = t.openAI) == null ? void 0 : r.chat;\n    if (_typeof(n) == \"object\") {\n      n.system_prompt && (_this37._systemMessage = dt.generateSystemMessage(n.system_prompt));\n      var _ref10 = (a = (o = e.directConnection) == null ? void 0 : o.openAI) == null ? void 0 : a.chat,\n        c = _ref10.function_handler;\n      c && (_this37._functionHandler = c), _this37.cleanConfig(n), Object.assign(_this37.rawBody, n);\n    }\n    (_this37$maxMessages = _this37.maxMessages) !== null && _this37$maxMessages !== void 0 ? _this37$maxMessages : _this37.maxMessages = -1, (_l$model = (l = _this37.rawBody).model) !== null && _l$model !== void 0 ? _l$model : l.model = \"gpt-3.5-turbo\";\n    return _this37;\n  }\n  _createClass(dt, [{\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.system_prompt, delete e.function_handler;\n    }\n  }, {\n    key: \"preprocessBody\",\n    value:\n    // prettier-ignore\n    function preprocessBody(e, t) {\n      var _i$max_tokens;\n      var i = JSON.parse(JSON.stringify(e)),\n        n = Xe.getCharacterLimitMessages(t, this.totalMessagesMaxCharLength ? this.totalMessagesMaxCharLength - this._systemMessage.content.length : -1).map(function (r) {\n          return {\n            content: dt.getContent(r),\n            role: r.role === v.USER_ROLE ? \"user\" : \"assistant\"\n          };\n        });\n      return t.find(function (r) {\n        return r.files && r.files.length > 0;\n      }) && ((_i$max_tokens = i.max_tokens) !== null && _i$max_tokens !== void 0 ? _i$max_tokens : i.max_tokens = 300), i.messages = [this._systemMessage].concat(_toConsumableArray(n)), i;\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee84(e, t) {\n        var i, n;\n        return _regeneratorRuntime().wrap(function _callee84$(_context84) {\n          while (1) switch (_context84.prev = _context84.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context84.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t), n = this.deepChat.stream;\n              n && (_typeof(n) != \"object\" || !n.simulation) || i.stream ? (i.stream = !0, I.request(this, i, e)) : _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context84.stop();\n          }\n        }, _callee84, this);\n      }));\n      function callServiceAPI(_x152, _x153) {\n        return _callServiceAPI20.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }() // prettier-ignore\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData23 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee85(e, t, i) {\n        return _regeneratorRuntime().wrap(function _callee85$(_context85) {\n          while (1) switch (_context85.prev = _context85.next) {\n            case 0:\n              if (!e.error) {\n                _context85.next = 2;\n                break;\n              }\n              throw e.error.message;\n            case 2:\n              return _context85.abrupt(\"return\", e.choices[0].delta ? {\n                text: e.choices[0].delta.content || \"\"\n              } : e.choices[0].message ? e.choices[0].message.tool_calls ? this.handleTools(e.choices[0].message, t, i) : {\n                text: e.choices[0].message.content\n              } : {\n                text: \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context85.stop();\n          }\n        }, _callee85, this);\n      }));\n      function extractResultData(_x154, _x155, _x156) {\n        return _extractResultData23.apply(this, arguments);\n      }\n      return extractResultData;\n    }() // prettier-ignore\n  }, {\n    key: \"handleTools\",\n    value: function () {\n      var _handleTools2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee86(e, t, i) {\n        var a, n, r, o, l;\n        return _regeneratorRuntime().wrap(function _callee86$(_context86) {\n          while (1) switch (_context86.prev = _context86.next) {\n            case 0:\n              if (!(!e.tool_calls || !t || !i || !this._functionHandler)) {\n                _context86.next = 2;\n                break;\n              }\n              throw Error(\"Please define the `function_handler` property inside the [openAI](https://deepchat.dev/docs/directConnection/openAI#Chat) object.\");\n            case 2:\n              n = JSON.parse(JSON.stringify(i));\n              r = e.tool_calls.map(function (l) {\n                return {\n                  name: l[\"function\"].name,\n                  arguments: l[\"function\"].arguments\n                };\n              });\n              _context86.next = 6;\n              return (a = this._functionHandler) == null ? void 0 : a.call(this, r);\n            case 6:\n              o = _context86.sent;\n              if (!o.text) {\n                _context86.next = 9;\n                break;\n              }\n              return _context86.abrupt(\"return\", {\n                text: o.text\n              });\n            case 9:\n              if (!(n.messages.push(e), Array.isArray(o) && !o.find(function (l) {\n                return typeof l != \"string\";\n              }) || r.length === o.length)) {\n                _context86.next = 17;\n                break;\n              }\n              o.forEach(function (c, d) {\n                var p;\n                var u = (p = e.tool_calls) == null ? void 0 : p[d];\n                n == null || n.messages.push({\n                  role: \"tool\",\n                  tool_call_id: u == null ? void 0 : u.id,\n                  name: u == null ? void 0 : u[\"function\"].name,\n                  content: c.response\n                });\n              }), delete n.tools, delete n.tool_choice;\n              _context86.next = 13;\n              return t == null ? void 0 : t(n).then(function (c) {\n                return E.processResponseByType(c);\n              });\n            case 13:\n              l = _context86.sent;\n              if (!l.error) {\n                _context86.next = 16;\n                break;\n              }\n              throw l.error.message;\n            case 16:\n              return _context86.abrupt(\"return\", {\n                text: l.choices[0].message.content || \"\"\n              });\n            case 17:\n              throw Error(\"Response object must either be {response: string}[] for each individual function or {text: string} for a direct response, see https://deepchat.dev/docs/directConnection/OpenAI#FunctionHandler.\");\n            case 18:\n            case \"end\":\n              return _context86.stop();\n          }\n        }, _callee86, this);\n      }));\n      function handleTools(_x157, _x158, _x159) {\n        return _handleTools2.apply(this, arguments);\n      }\n      return handleTools;\n    }()\n  }], [{\n    key: \"generateSystemMessage\",\n    value: function generateSystemMessage(e) {\n      return {\n        role: \"system\",\n        content: e\n      };\n    }\n  }, {\n    key: \"getContent\",\n    value: function getContent(e) {\n      if (e.files && e.files.length > 0) {\n        var t = e.files.map(function (i) {\n          return {\n            type: \"image_url\",\n            image_url: {\n              url: i.src\n            }\n          };\n        });\n        return e.text && e.text.trim().length > 0 && t.unshift({\n          type: \"text\",\n          text: e.text\n        }), t;\n      }\n      return e.text;\n    }\n  }]);\n  return dt;\n}(U);\nvar qo = /*#__PURE__*/function (_Yi3) {\n  _inherits(qo, _Yi3);\n  var _super35 = _createSuper(qo);\n  function qo(e) {\n    var _this38$maxMessages;\n    var _this38;\n    _classCallCheck(this, qo);\n    var r;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = (r = t.cohere) == null ? void 0 : r.chat,\n      n = t.cohere;\n    _this38 = _super35.call(this, e, \"https://api.cohere.ai/v1/chat\", \"Ask me anything!\", i, n), _typeof(i) == \"object\" && Object.assign(_this38.rawBody, i), (_this38$maxMessages = _this38.maxMessages) !== null && _this38$maxMessages !== void 0 ? _this38$maxMessages : _this38.maxMessages = -1;\n    return _this38;\n  }\n  _createClass(qo, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = JSON.parse(JSON.stringify(e)),\n        n = t.filter(function (r) {\n          return r.text;\n        });\n      return i.query = n[n.length - 1].text, i.chat_history = n.slice(0, n.length - 1).map(function (r) {\n        return {\n          text: r.text,\n          user_name: r.role === \"ai\" ? \"CHATBOT\" : \"USER\"\n        };\n      }), i;\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee87(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee87$(_context87) {\n          while (1) switch (_context87.prev = _context87.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context87.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context87.stop();\n          }\n        }, _callee87, this);\n      }));\n      function callServiceAPI(_x160, _x161) {\n        return _callServiceAPI21.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData24 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee88(e) {\n        return _regeneratorRuntime().wrap(function _callee88$(_context88) {\n          while (1) switch (_context88.prev = _context88.next) {\n            case 0:\n              if (!e.message) {\n                _context88.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context88.abrupt(\"return\", {\n                text: e.text\n              });\n            case 3:\n            case \"end\":\n              return _context88.stop();\n          }\n        }, _callee88);\n      }));\n      function extractResultData(_x162) {\n        return _extractResultData24.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return qo;\n}(Yi);\nvar Ho = /*#__PURE__*/function () {\n  function Ho() {\n    _classCallCheck(this, Ho);\n  }\n  _createClass(Ho, null, [{\n    key: \"create\",\n    value:\n    // this should only be called when no _activeService is set or is demo as otherwise we don't want to reconnect\n    function create(e) {\n      var t = e.directConnection,\n        i = e.request,\n        n = e.demo,\n        r = e.webModel;\n      if (r) return new $i(e);\n      if (t) {\n        if (t.openAI) return t.openAI.images ? new Uo(e) : t.openAI.speechToText ? new No(e) : t.openAI.textToSpeech ? new Oo(e) : t.openAI.assistant ? new zo(e) : new dt(e);\n        if (t.assemblyAI) return new Xi(e);\n        if (t.cohere) return t.cohere.textGeneration ? new Lo(e) : t.cohere.summarization ? new Ro(e) : new qo(e);\n        if (t.huggingFace) return t.huggingFace.textGeneration ? new Mo(e) : t.huggingFace.summarization ? new Co(e) : t.huggingFace.translation ? new ko(e) : t.huggingFace.fillMask ? new Io(e) : t.huggingFace.questionAnswer ? new To(e) : t.huggingFace.audioSpeechRecognition ? new _o(e) : t.huggingFace.audioClassification ? new So(e) : t.huggingFace.imageClassification ? new wo(e) : new Ao(e);\n        if (t.azure) {\n          if (t.azure.speechToText) return new Fo(e);\n          if (t.azure.textToSpeech) return new jo(e);\n          if (t.azure.summarization) return new Do(e);\n          if (t.azure.translation) return new Bo(e);\n        }\n        if (t.stabilityAI) return t.stabilityAI.imageToImage ? new qt(e) : t.stabilityAI.imageToImageUpscale ? new zt(e) : t.stabilityAI.imageToImageMasking ? new Ut(e) : new Ht(e);\n      }\n      return i ? new Le(e) : new Le(e, void 0, n || !0);\n    }\n  }]);\n  return Ho;\n}();\nvar us = /*#__PURE__*/function () {\n  function zi() {\n    _classCallCheck(this, zi);\n  }\n  _createClass(zi, null, [{\n    key: \"appendStyleSheetToHead\",\n    value: function appendStyleSheetToHead() {\n      var e = document.getElementsByTagName(\"head\")[0];\n      if (!Array.from(e.getElementsByTagName(\"link\")).some(function (i) {\n        return i.getAttribute(\"href\") === zi.FONT_URL;\n      })) {\n        var _i11 = document.createElement(\"link\");\n        _i11.rel = \"stylesheet\", _i11.href = zi.FONT_URL, e.appendChild(_i11);\n      }\n    }\n  }]);\n  return zi;\n}();\nus.FONT_URL = \"https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap\";\nvar Go = us;\nvar hs = /*#__PURE__*/_createClass(function hs() {\n  _classCallCheck(this, hs);\n});\nhs.attibutes = {\n  string: function string(s) {\n    return s;\n  },\n  number: function number(s) {\n    return parseFloat(s);\n  },\n  \"boolean\": function boolean(s) {\n    return s === \"true\";\n  },\n  object: function object(s) {\n    return JSON.parse(s);\n  },\n  array: function array(s) {\n    return JSON.parse(s);\n  },\n  \"function\": function _function(s) {\n    return new Function(\"return \".concat(s))();\n  }\n};\nfunction y(s) {\n  return function (e, t) {\n    Object.defineProperty(e, t, {});\n    var i = e.constructor,\n      n = t.toLocaleLowerCase();\n    i._attributes_[n] = hs.attibutes[s], i._attributeToProperty_[n] = t;\n  };\n}\nvar en = /*#__PURE__*/function () {\n  function en() {\n    _classCallCheck(this, en);\n  }\n  _createClass(en, null, [{\n    key: \"colorToHex\",\n    value: function colorToHex(e) {\n      var t = document.createElement(\"div\");\n      return t.style.color = e, document.body.appendChild(t), \"#\".concat(window.getComputedStyle(t).color.match(/\\d+/g).map(function (r) {\n        return parseInt(r).toString(16).padStart(2, \"0\");\n      }).join(\"\"));\n    }\n  }, {\n    key: \"set\",\n    value: function set(e, t) {\n      var i, n, r, o;\n      if ((n = (i = t == null ? void 0 : t.loading) == null ? void 0 : i.bubble) != null && n.color) {\n        var a = en.colorToHex((o = (r = t == null ? void 0 : t.loading) == null ? void 0 : r.bubble) == null ? void 0 : o.color);\n        e.style.setProperty(\"--message-dots-color\", a), e.style.setProperty(\"--message-dots-color-fade\", \"\".concat(a, \"33\"));\n      } else e.style.setProperty(\"--message-dots-color\", \"#848484\"), e.style.setProperty(\"--message-dots-color-fade\", \"#55555533\");\n    }\n  }]);\n  return en;\n}();\nvar Vt = /*#__PURE__*/function () {\n  function Vt(e, t, i) {\n    _classCallCheck(this, Vt);\n    this._isDisplayed = !1, e ? (this._elementRef = this.createIntroPanelWithChild(e, i), this._isDisplayed = !0) : t && (this._elementRef = this.createInternalIntroPanel(t, i), this._isDisplayed = !0);\n  }\n  _createClass(Vt, [{\n    key: \"createIntroPanelWithChild\",\n    value: function createIntroPanelWithChild(e, t) {\n      var i = Vt.createIntroPanel(t);\n      return e.style.display === \"none\" && (e.style.display = \"block\"), i.appendChild(e), i;\n    }\n  }, {\n    key: \"createInternalIntroPanel\",\n    value: function createInternalIntroPanel(e, t) {\n      var i = Vt.createIntroPanel(t);\n      return i.id = \"internal-intro-panel\", i.innerHTML = e, i;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this._isDisplayed && this._elementRef && (this._elementRef.style.display = \"none\", this._isDisplayed = !1);\n    }\n  }, {\n    key: \"display\",\n    value: function display() {\n      !this._isDisplayed && this._elementRef && (this._elementRef.style.display = \"\", this._isDisplayed = !0);\n    }\n  }], [{\n    key: \"createIntroPanel\",\n    value: function createIntroPanel(e) {\n      var t = document.createElement(\"div\");\n      return t.classList.add(\"intro-panel\"), Object.assign(t.style, e), t;\n    }\n  }]);\n  return Vt;\n}();\nvar Vo = /*#__PURE__*/function () {\n  function Vo() {\n    _classCallCheck(this, Vo);\n  }\n  _createClass(Vo, null, [{\n    key: \"getText\",\n    value: function getText(e, t) {\n      var i, n;\n      if (!e.directConnection && !e.request && !e.webModel && !e.demo) return \"Connect to any API using the [request](https://deepchat.dev/docs/connect#Request)\\n        property or a popular service via\\n        [directConnection](https://deepchat.dev/docs/directConnection/#directConnection).\\n        \\n Host AI entirely on your browser via a [webModel](WORK).\\n        \\n To get started checkout the [Start](https://deepchat.dev/start) page and\\n        live code [examples](https://deepchat.dev/examples/frameworks).\\n        \\n To remove this message set the [demo](https://deepchat.dev/docs/demo#demo) property to true.\";\n      if (e.directConnection) {\n        if (!t.isDirectConnection()) return \"Please define a valid service inside\\n          the [directConnection](https://deepchat.dev/docs/directConnection/#directConnection) object.\";\n        var r = (i = e.directConnection.openAI) == null ? void 0 : i.chat;\n        if (_typeof(r) == \"object\" && r.tools && !r.function_handler) return \"Please define the `function_handler` property inside the openAI [chat](https://deepchat.dev/docs/directConnection/openAI#Chat) object.\";\n        var o = (n = e.directConnection.openAI) == null ? void 0 : n.assistant;\n        if (typeof o == \"boolean\" || o && !o.assistant_id) return \"Please define the `assistant_id` property inside the openAI [assistant](https://deepchat.dev/docs/directConnection/openAI#Assistant) object.\";\n      } else if (e.request && !e.request.url && !e.request.handler) return \"Please define a `url` or a `handler` property inside the [request](https://deepchat.dev/docs/connect#Request) object.\";\n      return null;\n    }\n  }]);\n  return Vo;\n}();\nvar Wo = \"<?xml version=\\\"1.0\\\" encoding=\\\"iso-8859-1\\\"?>\\n<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" \\n\\t viewBox=\\\"50 30 420 450\\\" xml:space=\\\"preserve\\\">\\n<g filter=\\\"brightness(0) saturate(100%) invert(16%) sepia(0%) saturate(1942%) hue-rotate(215deg) brightness(99%) contrast(93%)\\\">\\n\\t<g>\\n\\t\\t<path d=\\\"M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008\\n\\t\\t\\tC350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237\\n\\t\\t\\th333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931\\n\\t\\t\\tl50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278\\n\\t\\t\\tc-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239\\n\\t\\t\\th66.527V486.763z\\\"/>\\n\\t</g>\\n</g>\\n<g>\\n\\t<g>\\n\\t\\t<path d=\\\"M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175\\n\\t\\t\\tc6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z\\\"/>\\n\\t</g>\\n</g>\\n<g>\\n\\t<g>\\n\\t\\t<path d=\\\"M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175\\n\\t\\t\\tc6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z\\\"/>\\n\\t</g>\\n</g>\\n<g>\\n\\t<g>\\n\\t\\t<path d=\\\"M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175\\n\\t\\t\\tc6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z\\\"/>\\n\\t</g>\\n</g>\\n<g>\\n\\t<g>\\n\\t\\t<path d=\\\"M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256\\n\\t\\t\\tc6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z\\\"/>\\n\\t</g>\\n</g>\\n</svg>\";\nvar fe = /*#__PURE__*/function () {\n  function fe() {\n    _classCallCheck(this, fe);\n  }\n  _createClass(fe, null, [{\n    key: \"createImage\",\n    value: function createImage(e, t) {\n      var i = new Image();\n      return i.src = e.src, ne.scrollDownOnImageLoad(i.src, t), ne.processContent(i, i.src);\n    }\n    // WORK - should base64 images be clickable?\n    // WORK - image still does not scroll down when loaded\n  }, {\n    key: \"addNewImageMessage\",\n    value: function () {\n      var _addNewImageMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee89(e, t, i) {\n        var n, r;\n        return _regeneratorRuntime().wrap(function _callee89$(_context89) {\n          while (1) switch (_context89.prev = _context89.next) {\n            case 0:\n              n = fe.createImage(t, e.elementRef), r = e.createNewMessageElement(\"\", i);\n              r.bubbleElement.appendChild(n), r.bubbleElement.classList.add(\"image-message\"), ne.addMessage(e, r, \"image\", i);\n            case 2:\n            case \"end\":\n              return _context89.stop();\n          }\n        }, _callee89);\n      }));\n      function addNewImageMessage(_x163, _x164, _x165) {\n        return _addNewImageMessage.apply(this, arguments);\n      }\n      return addNewImageMessage;\n    }()\n  }, {\n    key: \"createAudioElement\",\n    value: function createAudioElement(e, t) {\n      var i = document.createElement(\"audio\");\n      return i.src = e.src, i.classList.add(\"audio-player\"), i.controls = !0, ge.IS_SAFARI && (i.classList.add(\"audio-player-safari\"), i.classList.add(t === v.USER_ROLE ? \"audio-player-safari-right\" : \"audio-player-safari-left\")), i;\n    }\n  }, {\n    key: \"addNewAudioMessage\",\n    value: function addNewAudioMessage(e, t, i) {\n      var n = fe.createAudioElement(t, i),\n        r = e.createNewMessageElement(\"\", i);\n      r.bubbleElement.appendChild(n), r.bubbleElement.classList.add(\"audio-message\"), ne.addMessage(e, r, \"audio\", i);\n    }\n  }, {\n    key: \"createAnyFile\",\n    value: function createAnyFile(e) {\n      var t = document.createElement(\"div\");\n      t.classList.add(\"any-file-message-contents\");\n      var i = document.createElement(\"div\");\n      i.classList.add(\"any-file-message-icon-container\");\n      var n = q.createSVGElement(Wo);\n      n.classList.add(\"any-file-message-icon\"), i.appendChild(n);\n      var r = document.createElement(\"div\");\n      return r.classList.add(\"any-file-message-text\"), r.textContent = e.name || ne.DEFAULT_FILE_NAME, t.appendChild(i), t.appendChild(r), ne.processContent(t, e.src);\n    }\n  }, {\n    key: \"addNewAnyFileMessage\",\n    value: function addNewAnyFileMessage(e, t, i) {\n      var n = e.createNewMessageElement(\"\", i),\n        r = fe.createAnyFile(t);\n      n.bubbleElement.classList.add(\"any-file-message-bubble\"), n.bubbleElement.appendChild(r), ne.addMessage(e, n, \"file\", i);\n    }\n    // no overwrite previous message logic as it is complex to track which files are to be overwritten\n  }, {\n    key: \"addMessages\",\n    value: function addMessages(e, t, i) {\n      t.forEach(function (n) {\n        var r, o;\n        n.ref && (n = ne.removeFileRef(n)), n.type === \"audio\" || (r = n.src) != null && r.startsWith(\"data:audio\") ? fe.addNewAudioMessage(e, n, i) : n.type === \"image\" || (o = n.src) != null && o.startsWith(\"data:image\") ? fe.addNewImageMessage(e, n, i) : fe.addNewAnyFileMessage(e, n, i);\n      });\n    }\n  }]);\n  return fe;\n}();\nvar me = /*#__PURE__*/function (_Ke) {\n  _inherits(me, _Ke);\n  var _super36 = _createSuper(me);\n  function me(e, t, i) {\n    var _this39;\n    _classCallCheck(this, me);\n    var a, l;\n    _this39 = _super36.call(this, e);\n    var n = t.permittedErrorPrefixes,\n      r = t.introPanelMarkUp,\n      o = t.demo;\n    _this39._errorMessageOverrides = (a = e.errorMessages) == null ? void 0 : a.overrides, _this39._onClearMessages = jt.onClearMessages.bind(_assertThisInitialized(_this39), e), _this39._onError = jt.onError.bind(_assertThisInitialized(_this39), e), _this39._displayLoadingMessage = me.getDisplayLoadingMessage(e, t), _this39._permittedErrorPrefixes = n, _this39.addSetupMessageIfNeeded(e, t) || _this39.populateIntroPanel(i, r, e.introPanelStyle), _this39.addIntroductoryMessage(e, t), e.initialMessages && _this39.populateInitialMessages(e.initialMessages), _this39._displayServiceErrorMessages = (l = e.errorMessages) == null ? void 0 : l.displayServiceErrorMessages, e.getMessages = function () {\n      return JSON.parse(JSON.stringify(_this39.messages));\n    }, e.clearMessages = _this39.clearMessages.bind(_assertThisInitialized(_this39), t), e.refreshMessages = _this39.refreshTextMessages.bind(_assertThisInitialized(_this39)), e.scrollToBottom = Y.scrollToBottom.bind(_assertThisInitialized(_this39), _this39.elementRef), e._addMessage = function (c, d) {\n      _this39.addNewMessage(_objectSpread(_objectSpread({}, c), {}, {\n        sendUpdate: !!d\n      }), !d);\n    }, t.isWebModel() && t.setUpMessages(_assertThisInitialized(_this39)), o && _this39.prepareDemo(o), e.textToSpeech && Nt.processConfig(e.textToSpeech, function (c) {\n      _this39.textToSpeech = c;\n    });\n    return _this39;\n  }\n  _createClass(me, [{\n    key: \"prepareDemo\",\n    value: function prepareDemo(e) {\n      _typeof(e) == \"object\" && (e.response && (this.customDemoResponse = e.response), e.displayErrors && (e.displayErrors[\"default\"] && this.addNewErrorMessage(\"\", \"\"), e.displayErrors.service && this.addNewErrorMessage(\"service\", \"\"), e.displayErrors.speechToText && this.addNewErrorMessage(\"speechToText\", \"\")), e.displayLoadingBubble && this.addLoadingMessage());\n    }\n  }, {\n    key: \"addSetupMessageIfNeeded\",\n    value: function addSetupMessageIfNeeded(e, t) {\n      var i = Vo.getText(e, t);\n      if (i) {\n        var n = this.createAndAppendNewMessageElement(i, v.AI_ROLE);\n        this.applyCustomStyles(n, v.AI_ROLE, !1);\n      }\n      return !!i;\n    }\n    // WORK - const file for deep chat classes\n  }, {\n    key: \"addIntroductoryMessage\",\n    value: function addIntroductoryMessage(e, t) {\n      var _i12;\n      var n;\n      e != null && e.shadowRoot && (this._introMessage = e.introMessage);\n      var i = this._introMessage;\n      if (t != null && t.isWebModel() && ((_i12 = i) !== null && _i12 !== void 0 ? _i12 : i = t.getIntroMessage(i)), i) {\n        var r;\n        i != null && i.text ? r = this.createAndAppendNewMessageElement(i.text, v.AI_ROLE) : i != null && i.html && (r = Ye.add(this, i.html, v.AI_ROLE, this.messageElementRefs)), r && (this.applyCustomStyles(r, v.AI_ROLE, !1, (n = this.messageStyles) == null ? void 0 : n.intro), r.outerContainer.classList.add(\"deep-chat-intro\"));\n      }\n    }\n  }, {\n    key: \"removeIntroductoryMessage\",\n    value: function removeIntroductoryMessage() {\n      var e = this.messageElementRefs[0];\n      e.outerContainer.classList.contains(\"deep-chat-intro\") && (e.outerContainer.remove(), this.messageElementRefs.shift());\n    }\n  }, {\n    key: \"populateInitialMessages\",\n    value: function populateInitialMessages(e) {\n      var _this40 = this;\n      e.forEach(function (t) {\n        ke.processInitialMessageFile(t), _this40.addNewMessage(t, !0);\n      }), setTimeout(function () {\n        return Y.scrollToBottom(_this40.elementRef);\n      }, 0);\n    }\n    // this should not be activated by streamed messages\n  }, {\n    key: \"addNewMessage\",\n    value: function addNewMessage(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n      var i = me.createMessageContent(e),\n        n = {\n          status: e.overwrite\n        };\n      if (!e.ignoreText && i.text !== void 0 && e.text !== null && (this.addNewTextMessage(i.text, i.role, n), !t && this.textToSpeech && i.role !== v.USER_ROLE && Nt.speak(i.text, this.textToSpeech)), i.files && Array.isArray(i.files) && fe.addMessages(this, i.files, i.role), i.html !== void 0 && i.html !== null) {\n        var r = Ye.add(this, i.html, i.role, this.messageElementRefs, n);\n        be.isElementTemporary(r) && delete i.html;\n      }\n      this.isValidMessageContent(i) && this.updateStateOnMessage(i, e.overwrite, e.sendUpdate, t);\n    }\n  }, {\n    key: \"isValidMessageContent\",\n    value: function isValidMessageContent(e) {\n      return e.text || e.html || e.files && e.files.length > 0;\n    }\n  }, {\n    key: \"updateStateOnMessage\",\n    value: function updateStateOnMessage(e, t) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n      var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n      t || this.messages.push(e), i && this.sendClientUpdate(e, n);\n    }\n    // prettier-ignore\n  }, {\n    key: \"removeMessageOnError\",\n    value: function removeMessageOnError() {\n      var e = this.messageElementRefs[this.messageElementRefs.length - 1],\n        t = e == null ? void 0 : e.bubbleElement;\n      (t != null && t.classList.contains(Ze.MESSAGE_CLASS) && t.textContent === \"\" || me.isTemporaryElement(e)) && this.removeLastMessage();\n    }\n    // prettier-ignore\n  }, {\n    key: \"addNewErrorMessage\",\n    value: function addNewErrorMessage(e, t) {\n      var l, c, d, u, p;\n      this.removeMessageOnError();\n      var i = me.createBaseElements(),\n        n = i.outerContainer,\n        r = i.bubbleElement;\n      r.classList.add(\"error-message-text\");\n      var o = this.getPermittedMessage(t) || ((l = this._errorMessageOverrides) == null ? void 0 : l[e]) || ((c = this._errorMessageOverrides) == null ? void 0 : c[\"default\"]) || \"Error, please try again.\";\n      this.renderText(r, o);\n      var a = D.extractParticularSharedStyles([\"fontSize\", \"fontFamily\"], (d = this.messageStyles) == null ? void 0 : d[\"default\"]);\n      D.applyCustomStylesToElements(i, !1, a), D.applyCustomStylesToElements(i, !1, (u = this.messageStyles) == null ? void 0 : u.error), this.elementRef.appendChild(n), Y.scrollToBottom(this.elementRef), this.textToSpeech && Nt.speak(o, this.textToSpeech), (p = this._onError) == null || p.call(this, o);\n    }\n  }, {\n    key: \"getPermittedMessage\",\n    value: function getPermittedMessage(e) {\n      if (e) {\n        if (this._displayServiceErrorMessages) return e;\n        if (typeof e == \"string\" && this._permittedErrorPrefixes) {\n          var t = me.checkPermittedErrorPrefixes(this._permittedErrorPrefixes, e);\n          if (t) return t;\n        } else if (Array.isArray(e) && this._permittedErrorPrefixes) for (var _t3 = 0; _t3 < e.length; _t3 += 1) {\n          var _i13 = me.checkPermittedErrorPrefixes(this._permittedErrorPrefixes, e[_t3]);\n          if (_i13) return _i13;\n        }\n      }\n    }\n  }, {\n    key: \"isLastMessageError\",\n    value: function isLastMessageError() {\n      var e;\n      return (e = v.getLastMessageBubbleElement(this.elementRef)) == null ? void 0 : e.classList.contains(\"error-message-text\");\n    }\n  }, {\n    key: \"removeError\",\n    value: function removeError() {\n      this.isLastMessageError() && v.getLastMessageElement(this.elementRef).remove();\n    }\n  }, {\n    key: \"addLoadingMessage\",\n    value: function addLoadingMessage() {\n      var r;\n      if (!this._displayLoadingMessage) return;\n      var e = this.createMessageElements(\"\", v.AI_ROLE),\n        t = e.outerContainer,\n        i = e.bubbleElement;\n      i.classList.add(\"loading-message-text\");\n      var n = document.createElement(\"div\");\n      n.classList.add(\"dots-flashing\"), i.appendChild(n), this.applyCustomStyles(e, v.AI_ROLE, !1, (r = this.messageStyles) == null ? void 0 : r.loading), en.set(i, this.messageStyles), this.elementRef.appendChild(t), Y.scrollToBottom(this.elementRef);\n    }\n  }, {\n    key: \"populateIntroPanel\",\n    value: function populateIntroPanel(e, t, i) {\n      (e || t) && (this._introPanel = new Vt(e, t, i), this._introPanel._elementRef && (se.apply(this, this._introPanel._elementRef), this.elementRef.appendChild(this._introPanel._elementRef)));\n    }\n  }, {\n    key: \"addMultipleFiles\",\n    value: function () {\n      var _addMultipleFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee90(e) {\n        return _regeneratorRuntime().wrap(function _callee90$(_context90) {\n          while (1) switch (_context90.prev = _context90.next) {\n            case 0:\n              return _context90.abrupt(\"return\", Promise.all((e || []).map(function (t) {\n                return new Promise(function (i) {\n                  if (!t.type || t.type === \"any\") {\n                    var n = t.file.name || ne.DEFAULT_FILE_NAME;\n                    i({\n                      name: n,\n                      type: \"any\",\n                      ref: t.file\n                    });\n                  } else {\n                    var _n3 = new FileReader();\n                    _n3.readAsDataURL(t.file), _n3.onload = function () {\n                      i({\n                        src: _n3.result,\n                        type: t.type,\n                        ref: t.file\n                      });\n                    };\n                  }\n                });\n              })));\n            case 1:\n            case \"end\":\n              return _context90.stop();\n          }\n        }, _callee90);\n      }));\n      function addMultipleFiles(_x166) {\n        return _addMultipleFiles.apply(this, arguments);\n      }\n      return addMultipleFiles;\n    }() // WORK - update all message classes to use deep-chat prefix\n  }, {\n    key: \"clearMessages\",\n    value: function clearMessages(e, t) {\n      var n, r;\n      var i = [];\n      this.messageElementRefs.forEach(function (o) {\n        var a = o.bubbleElement.classList;\n        a.contains(\"loading-message-text\") || a.contains(Ze.MESSAGE_CLASS) ? i.push(o) : o.outerContainer.remove();\n      }), Array.from(this.elementRef.children).forEach(function (o) {\n        var l;\n        var a = (l = o.children[0]) == null ? void 0 : l.children[0];\n        a != null && a.classList.contains(\"error-message-text\") && o.remove();\n      }), this.messageElementRefs = i, t !== !1 && ((n = this._introPanel) != null && n._elementRef && this._introPanel.display(), this.addIntroductoryMessage()), this.messages.splice(0, this.messages.length), this.textElementsToText.splice(0, this.textElementsToText.length), (r = this._onClearMessages) == null || r.call(this), delete e.sessionId;\n    }\n  }], [{\n    key: \"getDisplayLoadingMessage\",\n    value: function getDisplayLoadingMessage(e, t) {\n      var _e$displayLoadingBubb;\n      return t.websocket ? !1 : (_e$displayLoadingBubb = e.displayLoadingBubble) !== null && _e$displayLoadingBubb !== void 0 ? _e$displayLoadingBubb : !0;\n    }\n  }, {\n    key: \"checkPermittedErrorPrefixes\",\n    value: function checkPermittedErrorPrefixes(e, t) {\n      for (var _i14 = 0; _i14 < e.length; _i14 += 1) if (t.startsWith(e[_i14])) return t;\n    }\n  }]);\n  return me;\n}(Ke);\nvar St = /*#__PURE__*/function () {\n  function W() {\n    _classCallCheck(this, W);\n  }\n  _createClass(W, null, [{\n    key: \"adjustInputPadding\",\n    value: function adjustInputPadding(e, t) {\n      t[\"inside-left\"].length > 0 && e.classList.add(\"text-input-inner-left-adjustment\"), t[\"inside-right\"].length > 0 && e.classList.add(\"text-input-inner-right-adjustment\");\n    }\n  }, {\n    key: \"adjustForOutsideButton\",\n    value: function adjustForOutsideButton(e, t, i) {\n      i[\"outside-right\"].length === 0 && i[\"outside-left\"].length > 0 ? (e[0].classList.add(W.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS), t.classList.add(W.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS)) : i[\"outside-left\"].length === 0 && i[\"outside-right\"].length > 0 && (e[3].classList.add(W.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS), t.classList.add(W.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS));\n    }\n    // when submit is the only button\n    // when submit button is outside by itself - we increase the height for a better look\n  }, {\n    key: \"adjustOutsideSubmit\",\n    value: function adjustOutsideSubmit(e, t, i) {\n      if (!(i[\"inside-left\"].length > 0 || i[\"inside-right\"].length > 0)) {\n        if (i[\"outside-right\"].length === 0 && i[\"outside-left\"].length > 0) return e[0].classList.add(W.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS), t.classList.add(W.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS), i[\"outside-left\"].map(function (n) {\n          return n.button.elementRef.classList.add(\"submit-button-enlarged\");\n        });\n        if (i[\"outside-left\"].length === 0 && i[\"outside-right\"].length > 0) return e[3].classList.add(W.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS), t.classList.add(W.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS), i[\"outside-right\"].map(function (n) {\n          return n.button.elementRef.classList.add(\"submit-button-enlarged\");\n        });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(e, t, i, n) {\n      !!W.adjustOutsideSubmit(t, i, n) || W.adjustForOutsideButton(t, i, n), W.adjustInputPadding(e, n);\n    }\n  }]);\n  return W;\n}();\nSt.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS = \"text-input-container-left-adjustment\";\nSt.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS = \"text-input-container-right-adjustment\";\nSt.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS = \"text-input-container-left-small-adjustment\";\nSt.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS = \"text-input-container-right-small-adjustment\";\nvar Ko = St;\nvar Qe = /*#__PURE__*/function () {\n  function Qe() {\n    _classCallCheck(this, Qe);\n  }\n  _createClass(Qe, null, [{\n    key: \"create\",\n    value: function create() {\n      return Array.from({\n        length: 4\n      }).map(function (e, t) {\n        var i = document.createElement(\"div\");\n        return i.classList.add(\"input-button-container\"), (t === 0 || t === 3) && i.classList.add(\"outer-button-container\"), (t === 1 || t === 2) && i.classList.add(\"inner-button-container\"), i;\n      });\n    }\n  }, {\n    key: \"add\",\n    value: function add(e, t) {\n      e.insertBefore(t[1], e.firstChild), e.insertBefore(t[0], e.firstChild), e.appendChild(t[2]), e.appendChild(t[3]);\n    }\n  }, {\n    key: \"getContainerIndex\",\n    value: function getContainerIndex(e) {\n      return e === \"outside-left\" ? 0 : e === \"inside-left\" ? 1 : e === \"inside-right\" ? 2 : 3;\n    }\n  }, {\n    key: \"addButton\",\n    value: function addButton(e, t, i) {\n      t.classList.add(i);\n      var n = Qe.getContainerIndex(i);\n      e[n].appendChild(t), n === 3 && t.classList.add(\"outside-right\");\n    }\n  }]);\n  return Qe;\n}();\nvar Sn = [\"camera\", \"gifs\", \"images\", \"audio\", \"mixedFiles\", \"submit\", \"microphone\"];\nvar j = /*#__PURE__*/function () {\n  function j() {\n    _classCallCheck(this, j);\n  }\n  _createClass(j, null, [{\n    key: \"createTextElement\",\n    value: function createTextElement(e) {\n      var t = document.createElement(\"div\");\n      return t.classList.add(\"text-button\"), t.innerText = e, t;\n    }\n  }, {\n    key: \"createElement\",\n    value: function createElement(e, t) {\n      return t ? j.createTextElement(e) : q.createSVGElement(e);\n    }\n  }, {\n    key: \"createCustomElement\",\n    value: function createCustomElement(e, t) {\n      var n, r, o, a;\n      var i = t == null ? void 0 : t[e];\n      if ((n = i == null ? void 0 : i.text) != null && n.content) return j.createElement((r = i == null ? void 0 : i.text) == null ? void 0 : r.content, !0);\n      if ((o = i == null ? void 0 : i.svg) != null && o.content) return j.createElement((a = i == null ? void 0 : i.svg) == null ? void 0 : a.content, !1);\n    }\n  }, {\n    key: \"processElement\",\n    value: function processElement(e, t) {\n      t != null && t.classList.contains(\"text-button\") || e.classList.add(\"input-button-svg\");\n    }\n    // publicly used for creating elements that do not change state in a sequence\n    // prettier-ignore\n  }, {\n    key: \"createSpecificStateElement\",\n    value: function createSpecificStateElement(e, t, i) {\n      var n;\n      return i && (n = j.createCustomElement(t, i)), j.processElement(e, n), n;\n    }\n    // used for creating elements that change state in a sequence\n    // prettier-ignore\n  }, {\n    key: \"create\",\n    value: function create(e, t, i) {\n      var n = {};\n      if (!i) return j.processElement(e), n;\n      var r = j.createSpecificStateElement(e, t[0], i);\n      n[t[0]] = r;\n      var o = r;\n      return t.slice(1).forEach(function (a) {\n        o = j.createCustomElement(a, i) || o, n[a] = o;\n      }), n;\n    }\n  }]);\n  return j;\n}();\nvar Jo = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M16 0c-8.836 0-16 7.163-16 16s7.163 16 16 16c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 30.032c-7.72 0-14-6.312-14-14.032s6.28-14 14-14 14 6.28 14 14-6.28 14.032-14 14.032zM23 15h-6v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1v6h-6c-0.552 0-1 0.448-1 1s0.448 1 1 1h6v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6h6c0.552 0 1-0.448 1-1s-0.448-1-1-1z\\\"></path>\\n</svg>\";\nvar te = /*#__PURE__*/function () {\n  function te() {\n    _classCallCheck(this, te);\n  }\n  _createClass(te, null, [{\n    key: \"unsetAllCSS\",\n    value: function unsetAllCSS(e, t) {\n      var i, n;\n      t.container && T.unsetAllCSSMouseStates(e, t.container), (i = t.svg) != null && i.styles && T.unsetAllCSSMouseStates(e.children[0], t.svg.styles), (n = t.text) != null && n.styles && T.unsetAllCSSMouseStates(e.children[0], t.text.styles);\n    }\n  }, {\n    key: \"unsetActionCSS\",\n    value: function unsetActionCSS(e, t) {\n      var i, n;\n      t.container && T.unsetActivityCSSMouseStates(e, t.container), (i = t.svg) != null && i.styles && T.unsetActivityCSSMouseStates(e.children[0], t.svg.styles), (n = t.text) != null && n.styles && T.unsetActivityCSSMouseStates(e.children[0], t.text.styles);\n    }\n  }, {\n    key: \"setElementsCSS\",\n    value: function setElementsCSS(e, t, i) {\n      var n, r, o, a, l;\n      Object.assign(e.style, (n = t.container) == null ? void 0 : n[i]), Object.assign(e.children[0].style, (o = (r = t.svg) == null ? void 0 : r.styles) == null ? void 0 : o[i]), Object.assign(e.children[0].style, (l = (a = t.text) == null ? void 0 : a.styles) == null ? void 0 : l[i]);\n    }\n  }, {\n    key: \"setElementCssUpToState\",\n    value: function setElementCssUpToState(e, t, i) {\n      te.setElementsCSS(e, t, \"default\"), i !== \"default\" && (te.setElementsCSS(e, t, \"hover\"), i !== \"hover\" && te.setElementsCSS(e, t, \"click\"));\n    }\n  }]);\n  return te;\n}();\nvar wt = /*#__PURE__*/function () {\n  function wt(e, t, i, n) {\n    _classCallCheck(this, wt);\n    this._mouseState = {\n      state: \"default\"\n    }, this.elementRef = e, this._customStyles = i, this.position = t, this.dropupText = n;\n  }\n  _createClass(wt, [{\n    key: \"buttonMouseLeave\",\n    value: function buttonMouseLeave(e) {\n      this._mouseState.state = \"default\", e && (te.unsetAllCSS(this.elementRef, e), te.setElementsCSS(this.elementRef, e, \"default\"));\n    }\n  }, {\n    key: \"buttonMouseEnter\",\n    value: function buttonMouseEnter(e) {\n      this._mouseState.state = \"hover\", e && te.setElementsCSS(this.elementRef, e, \"hover\");\n    }\n  }, {\n    key: \"buttonMouseUp\",\n    value: function buttonMouseUp(e) {\n      e && te.unsetActionCSS(this.elementRef, e), this.buttonMouseEnter(e);\n    }\n  }, {\n    key: \"buttonMouseDown\",\n    value: function buttonMouseDown(e) {\n      this._mouseState.state = \"click\", e && te.setElementsCSS(this.elementRef, e, \"click\");\n    }\n    // be careful not to use onclick as that is used for button functionality\n  }, {\n    key: \"setEvents\",\n    value: function setEvents(e) {\n      this.elementRef.onmousedown = this.buttonMouseDown.bind(this, e), this.elementRef.onmouseup = this.buttonMouseUp.bind(this, e), this.elementRef.onmouseenter = this.buttonMouseEnter.bind(this, e), this.elementRef.onmouseleave = this.buttonMouseLeave.bind(this, e);\n    }\n  }, {\n    key: \"unsetCustomStateStyles\",\n    value: function unsetCustomStateStyles(e) {\n      if (this._customStyles) for (var t = 0; t < e.length; t += 1) {\n        var _i15 = e[t],\n          n = _i15 && this._customStyles[_i15];\n        n && te.unsetActionCSS(this.elementRef, n);\n      }\n    }\n  }, {\n    key: \"reapplyStateStyle\",\n    value: function reapplyStateStyle(e, t) {\n      if (!this._customStyles) return;\n      t && this.unsetCustomStateStyles(t);\n      var i = this._customStyles[e];\n      i && te.setElementCssUpToState(this.elementRef, i, this._mouseState.state), this.setEvents(i);\n    }\n  }]);\n  return wt;\n}();\nvar gt = /*#__PURE__*/function () {\n  function gt() {\n    _classCallCheck(this, gt);\n  }\n  _createClass(gt, null, [{\n    key: \"focusItemWhenOnEdge\",\n    value: function focusItemWhenOnEdge(e, t) {\n      var i = t ? e.children[0] : e.children[e.children.length - 1];\n      gt.focusSiblingItem(i, e, t, !0);\n    }\n    // isEdgeItem means is it a start or end item\n    // prettier-ignore\n  }, {\n    key: \"focusSiblingItem\",\n    value: function focusSiblingItem(e, t, i) {\n      var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n      var r = n ? e : e[i ? \"nextSibling\" : \"previousSibling\"];\n      r ? (e.dispatchEvent(new MouseEvent(\"mouseleave\")), r.dispatchEvent(new MouseEvent(\"mouseenter\"))) : (e.dispatchEvent(new MouseEvent(\"mouseleave\")), gt.focusItemWhenOnEdge(t, i));\n    }\n  }]);\n  return gt;\n}();\nvar _e = /*#__PURE__*/function () {\n  function _e() {\n    _classCallCheck(this, _e);\n  }\n  _createClass(_e, null, [{\n    key: \"addItemEvents\",\n    value: function addItemEvents(e, t, i, n) {\n      Te.add(t, n), t.addEventListener(\"click\", function () {\n        i.click();\n      }), t.addEventListener(\"mouseenter\", function (r) {\n        e.highlightedItem = r.target;\n      }), t.addEventListener(\"mouseleave\", function () {\n        e.highlightedItem = void 0;\n      });\n    }\n  }, {\n    key: \"createItemText\",\n    value: function createItemText(e, t) {\n      var i = document.createElement(\"div\");\n      return Object.assign(i.style, t), i.classList.add(\"dropup-menu-item-text\"), i.textContent = e || \"File\", i;\n    }\n  }, {\n    key: \"createItemIcon\",\n    value: function createItemIcon(e, t) {\n      var i = document.createElement(\"div\");\n      return Object.assign(i.style, t), i.classList.add(\"dropup-menu-item-icon\"), i.appendChild(e.children[0]), i;\n    }\n  }, {\n    key: \"populateItem\",\n    value: function populateItem(e, t, i, n) {\n      var r = e.children[0];\n      r.classList.contains(\"text-button\") ? t.appendChild(_e.createItemText(r.textContent, n == null ? void 0 : n.text)) : (t.appendChild(_e.createItemIcon(e, n == null ? void 0 : n.iconContainer)), t.appendChild(_e.createItemText(i, n == null ? void 0 : n.text)));\n    }\n    // prettier-ignore\n  }, {\n    key: \"createItem\",\n    value: function createItem(e, t, i) {\n      var l;\n      var n = t.elementRef,\n        r = t.dropupText,\n        o = document.createElement(\"div\");\n      Object.assign(o.style, (l = i == null ? void 0 : i.item) == null ? void 0 : l[\"default\"]), _e.populateItem(n, o, r, i), o.classList.add(\"dropup-menu-item\");\n      var a = T.processStateful((i == null ? void 0 : i.item) || {}, {\n        backgroundColor: \"#f3f3f3\"\n      }, {\n        backgroundColor: \"#ebebeb\"\n      });\n      return _e.addItemEvents(e, o, n, a), o;\n    }\n  }]);\n  return _e;\n}();\nvar tn = /*#__PURE__*/function () {\n  function tn(e, t) {\n    var _this41 = this;\n    _classCallCheck(this, tn);\n    var i;\n    this._isOpen = !0, this._styles = t, this.elementRef = tn.createElement((i = this._styles) == null ? void 0 : i.container), this.close(), setTimeout(function () {\n      return _this41.addWindowEvents(e);\n    });\n  }\n  _createClass(tn, [{\n    key: \"open\",\n    value: function open() {\n      this.elementRef.style.display = \"block\", this._isOpen = !0;\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this._isOpen && (this.elementRef.style.display = \"none\", this._isOpen = !1);\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      this._isOpen ? this.close() : this.open();\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(e) {\n      var t = _e.createItem(this, e, this._styles);\n      this.elementRef.appendChild(t);\n    }\n    // prettier-ignore\n  }, {\n    key: \"addWindowEvents\",\n    value: function addWindowEvents(e) {\n      this.clickEvent = this.windowClick.bind(this, e), window.addEventListener(\"click\", this.clickEvent), this.keyDownEvent = this.windowKeyDown.bind(this, e), window.addEventListener(\"keydown\", this.keyDownEvent);\n    }\n  }, {\n    key: \"windowClick\",\n    value: function windowClick(e, t) {\n      var i;\n      !e.isConnected && this.clickEvent ? window.removeEventListener(\"click\", this.clickEvent) : e.parentElement !== ((i = t.target.shadowRoot) == null ? void 0 : i.children[0]) && this.close();\n    }\n    // prettier-ignore\n  }, {\n    key: \"windowKeyDown\",\n    value: function windowKeyDown(e, t) {\n      var i, n, r;\n      !e.isConnected && this.keyDownEvent ? window.removeEventListener(\"keydown\", this.keyDownEvent) : this._isOpen && (t.key === R.ESCAPE ? (this.close(), (i = this.highlightedItem) == null || i.dispatchEvent(new MouseEvent(\"mouseleave\"))) : t.key === R.ENTER ? ((n = this.highlightedItem) == null || n.click(), (r = this.highlightedItem) == null || r.dispatchEvent(new MouseEvent(\"mouseleave\"))) : t.key === R.ARROW_DOWN ? gt.focusSiblingItem(this.highlightedItem || this.elementRef.children[this.elementRef.children.length - 1], this.elementRef, !0) : t.key === R.ARROW_UP && gt.focusSiblingItem(this.highlightedItem || this.elementRef.children[0], this.elementRef, !1));\n    }\n  }], [{\n    key: \"createElement\",\n    value: function createElement(e) {\n      var t = document.createElement(\"div\");\n      return t.id = \"dropup-menu\", Object.assign(t.style, e), t;\n    }\n  }]);\n  return tn;\n}();\nvar Je = /*#__PURE__*/function (_wt) {\n  _inherits(Je, _wt);\n  var _super37 = _createSuper(Je);\n  function Je(e, t) {\n    var _this42;\n    _classCallCheck(this, Je);\n    var n;\n    _this42 = _super37.call(this, Je.createButtonElement(), void 0, {\n      styles: (n = t == null ? void 0 : t.button) == null ? void 0 : n.styles\n    });\n    var i = _this42.createInnerElements(_this42._customStyles);\n    _this42._menu = new tn(e, t == null ? void 0 : t.menu), _this42.addClickEvent(), _this42.buttonContainer = Je.createButtonContainer(), _this42.elementRef.appendChild(i.styles), _this42.buttonContainer.appendChild(_this42.elementRef), _this42.elementRef.classList.add(\"dropup-icon\", \"upload-file-button\"), _this42.buttonContainer.appendChild(_this42._menu.elementRef), _this42.reapplyStateStyle(\"styles\"), _this42.addContainerEvents(e);\n    return _this42;\n  }\n  _createClass(Je, [{\n    key: \"createInnerElements\",\n    value: function createInnerElements(e) {\n      return {\n        styles: this.createInnerElement(Je.createSVGIconElement(), \"styles\", e)\n      };\n    }\n  }, {\n    key: \"createInnerElement\",\n    value: function createInnerElement(e, t, i) {\n      return j.createSpecificStateElement(this.elementRef, t, i) || e;\n    }\n  }, {\n    key: \"addClickEvent\",\n    value: function addClickEvent() {\n      this.elementRef.onclick = this._menu.toggle.bind(this._menu);\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(e) {\n      this._menu.addItem(e);\n    }\n  }, {\n    key: \"addContainerEvents\",\n    value: function addContainerEvents(e) {\n      var _this43 = this;\n      e.addEventListener(\"click\", function (t) {\n        t.target.classList.contains(\"dropup-icon\") || _this43._menu.close();\n      });\n    }\n  }], [{\n    key: \"createButtonElement\",\n    value: function createButtonElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"input-button\"), e;\n    }\n  }, {\n    key: \"createSVGIconElement\",\n    value: function createSVGIconElement() {\n      var e = q.createSVGElement(Jo);\n      return e.id = \"dropup-icon\", e;\n    }\n  }, {\n    key: \"createButtonContainer\",\n    value: function createButtonContainer() {\n      var e = document.createElement(\"div\");\n      return e.id = \"dropup-container\", e;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(e, t) {\n      var i, n;\n      return (i = t == null ? void 0 : t.button) != null && i.position ? (n = t == null ? void 0 : t.button) == null ? void 0 : n.position : e[\"outside-left\"].length > 0 && e[\"outside-right\"].length === 0 ? \"outside-right\" : \"outside-left\";\n    }\n  }]);\n  return Je;\n}(wt);\nvar F = /*#__PURE__*/function () {\n  function F() {\n    _classCallCheck(this, F);\n  }\n  _createClass(F, null, [{\n    key: \"addToDropup\",\n    value:\n    // prettier-ignore\n    function addToDropup(e, t, i, n) {\n      var r = new Je(i, n);\n      Sn.forEach(function (a) {\n        var l = t[\"dropup-menu\"].findIndex(function (d) {\n            return d.buttonType === a;\n          }),\n          c = t[\"dropup-menu\"][l];\n        c && (r.addItem(c.button), t[\"dropup-menu\"].splice(l, 1));\n      });\n      var o = Je.getPosition(t, n);\n      Qe.addButton(e, r.buttonContainer, o), t[o].push({});\n    }\n  }, {\n    key: \"addToSideContainer\",\n    value: function addToSideContainer(e, t) {\n      [\"inside-left\", \"inside-right\", \"outside-left\", \"outside-right\"].forEach(function (n) {\n        var r = n;\n        t[r].forEach(function (o) {\n          Qe.addButton(e, o.button.elementRef, r);\n        });\n      });\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(e, t, i) {\n      var n = _objectSpread(_objectSpread({}, e[t]), {}, {\n        buttonType: t\n      });\n      i.push(n), delete e[t];\n    }\n  }, {\n    key: \"createPositionsObj\",\n    value: function createPositionsObj() {\n      return {\n        \"dropup-menu\": [],\n        \"outside-left\": [],\n        \"inside-left\": [],\n        \"inside-right\": [],\n        \"outside-right\": []\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"generatePositions\",\n    value: function generatePositions(e) {\n      var t = F.createPositionsObj();\n      Object.keys(e).forEach(function (n) {\n        var o;\n        var r = (o = e[n]) == null ? void 0 : o.button.position;\n        r && F.setPosition(e, n, t[r]);\n      }), t[\"inside-right\"].length === 0 && e.submit && F.setPosition(e, \"submit\", t[\"inside-right\"]), t[\"outside-right\"].length === 0 && (e.submit ? F.setPosition(e, \"submit\", t[\"outside-right\"]) : e.microphone ? F.setPosition(e, \"microphone\", t[\"outside-right\"]) : e.camera && F.setPosition(e, \"camera\", t[\"outside-right\"])), e.submit && F.setPosition(e, \"submit\", t[\"outside-left\"].length === 0 ? t[\"outside-left\"] : t[\"inside-right\"]), e.microphone && F.setPosition(e, \"microphone\", t[\"outside-left\"].length === 0 ? t[\"outside-left\"] : t[\"inside-right\"]);\n      var i = Object.keys(e);\n      return i.length > 1 || t[\"dropup-menu\"].length > 0 ? Sn.forEach(function (n) {\n        e[n] && t[\"dropup-menu\"].push(_objectSpread(_objectSpread({}, e[n]), {}, {\n          buttonType: n\n        }));\n      }) : i.length === 1 && F.setPosition(e, i[0], t[\"outside-right\"].length === 0 ? t[\"outside-right\"] : t[\"outside-left\"]), t;\n    }\n    // prettier-ignore\n  }, {\n    key: \"addButtons\",\n    value: function addButtons(e, t, i, n) {\n      var r = F.generatePositions(t);\n      return F.addToSideContainer(e, r), r[\"dropup-menu\"].length > 0 && F.addToDropup(e, r, i, n), r;\n    }\n  }]);\n  return F;\n}();\nvar $o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n<title>file</title>\\n<path d=\\\"M20 10.9696L11.9628 18.5497C10.9782 19.4783 9.64274 20 8.25028 20C6.85782 20 5.52239 19.4783 4.53777 18.5497C3.55315 17.6211 3 16.3616 3 15.0483C3 13.7351 3.55315 12.4756 4.53777 11.547L12.575 3.96687C13.2314 3.34779 14.1217 3 15.05 3C15.9783 3 16.8686 3.34779 17.525 3.96687C18.1814 4.58595 18.5502 5.4256 18.5502 6.30111C18.5502 7.17662 18.1814 8.01628 17.525 8.63535L9.47904 16.2154C9.15083 16.525 8.70569 16.6989 8.24154 16.6989C7.77738 16.6989 7.33224 16.525 7.00403 16.2154C6.67583 15.9059 6.49144 15.4861 6.49144 15.0483C6.49144 14.6106 6.67583 14.1907 7.00403 13.8812L14.429 6.88674\\\" stroke=\\\"#000000\\\" stroke-width=\\\"1.5\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n</svg>\",\n  Yo = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path d=\\\"M20,15.2928932 L20,5.5 C20,4.67157288 19.3284271,4 18.5,4 L5.5,4 C4.67157288,4 4,4.67157288 4,5.5 L4,12.2928932 L7.14644661,9.14644661 C7.34170876,8.95118446 7.65829124,8.95118446 7.85355339,9.14644661 L13.5,14.7928932 L16.1464466,12.1464466 C16.3417088,11.9511845 16.6582912,11.9511845 16.8535534,12.1464466 L20,15.2928932 Z M20,16.7071068 L16.5,13.2071068 L13.8535534,15.8535534 C13.6582912,16.0488155 13.3417088,16.0488155 13.1464466,15.8535534 L7.5,10.2071068 L4,13.7071068 L4,18.5 C4,19.3284271 4.67157288,20 5.5,20 L18.5,20 C19.3284271,20 20,19.3284271 20,18.5 L20,16.7071068 Z M3,5.5 C3,4.11928813 4.11928813,3 5.5,3 L18.5,3 C19.8807119,3 21,4.11928813 21,5.5 L21,18.5 C21,19.8807119 19.8807119,21 18.5,21 L5.5,21 C4.11928813,21 3,19.8807119 3,18.5 L3,5.5 Z M15,6 L17,6 C17.5522847,6 18,6.44771525 18,7 L18,9 C18,9.55228475 17.5522847,10 17,10 L15,10 C14.4477153,10 14,9.55228475 14,9 L14,7 C14,6.44771525 14.4477153,6 15,6 Z M15,7 L15,9 L17,9 L17,7 L15,7 Z\\\"/>\\n</svg>\\n\",\n  Zo = \"<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"-49.49 -49.49 593.87 593.87\\\" stroke-width=\\\"3.95908\\\" transform=\\\"rotate(0)\\\">\\n  <g stroke-width=\\\"0\\\"></g>\\n  <g stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"0.98977\\\"></g>\\n  <g>\\n    <g>\\n      <g>\\n        <path d=\\\"M163.205,76.413v293.301c-3.434-3.058-7.241-5.867-11.486-8.339c-21.38-12.452-49.663-15.298-77.567-7.846 c-49.038,13.096-80.904,54.519-71.038,92.337c4.019,15.404,14.188,28.221,29.404,37.087c13.553,7.894,29.87,11.933,47.115,11.933 c9.962,0,20.231-1.356,30.447-4.087c42.74-11.406,72.411-44.344,72.807-77.654h0.011v-0.162c0.002-0.166,0-0.331,0-0.496V187.072 l290.971-67.3v178.082c-3.433-3.055-7.238-5.863-11.481-8.334c-21.385-12.452-49.654-15.308-77.567-7.846 c-49.038,13.087-80.904,54.519-71.038,92.356c4.019,15.385,14.183,28.212,29.404,37.067c13.548,7.894,29.875,11.933,47.115,11.933 c9.962,0,20.231-1.356,30.452-4.087c42.74-11.413,72.411-44.346,72.804-77.654h0.004v-0.065c0.003-0.236,0.001-0.469,0-0.704V0 L163.205,76.413z M104.999,471.779c-22.543,6.038-45.942,3.846-62.572-5.846c-10.587-6.163-17.591-14.817-20.255-25.038 c-7.144-27.375,18.452-58.029,57.062-68.346c8.409-2.25,16.938-3.346,25.188-3.346c13.87,0,26.962,3.115,37.389,9.192 c10.587,6.163,17.591,14.817,20.255,25.029c0.809,3.102,1.142,6.248,1.139,9.4v0.321h0.014 C162.99,437.714,139.082,462.678,104.999,471.779z M182.898,166.853V92.067l290.971-67.298v74.784L182.898,166.853z M415.677,399.923c-22.558,6.038-45.942,3.837-62.587-5.846c-10.587-6.163-17.587-14.817-20.25-25.019 c-7.144-27.385,18.452-58.058,57.058-68.365c8.414-2.25,16.942-3.346,25.192-3.346c13.875,0,26.962,3.115,37.385,9.192 c10.596,6.163,17.596,14.817,20.26,25.029v0.01c0.796,3.05,1.124,6.144,1.135,9.244v0.468h0.02 C473.668,365.851,449.763,390.814,415.677,399.923z\\\">\\n        </path>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\",\n  Xo = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 5.9266752 5.6408391\\\" height=\\\"21.31971\\\" width=\\\"22.4\\\">\\n  <g>\\n    <path d=\\\"m 5.2564627,1.548212 c -3.1136005,-0.4796804 -1.5568006,-0.2398402 0,0 z M 2.0001198,2.0922063 c 0.1556781,0 0.2657489,0.020893 0.3917849,0.080366 0.081154,0.038347 0.1153492,0.134065 0.076377,0.2138602 -0.038973,0.07979 -0.1363527,0.1134129 -0.2175069,0.075091 -0.078199,-0.036919 -0.1407455,-0.048792 -0.250655,-0.048792 -0.2260486,0 -0.3921482,0.2042182 -0.3921482,0.4801409 0,0.2761822 0.1663188,0.4810688 0.3921482,0.4810688 0.1117901,0 0.2064255,-0.046133 0.255659,-0.1284198 l 0.00162,-0.00389 V 3.0534032 l -0.098011,1.75e-4 c -0.081844,0 -0.1495979,-0.059305 -0.1612403,-0.1365887 l -0.00175,-0.023683 c 0,-0.08047 0.060311,-0.1470874 0.1389194,-0.1585331 l 0.024085,-0.00195 h 0.2612303 c 0.081842,0 0.149598,0.059305 0.1612404,0.1365891 l 0.00175,0.023683 -3.398e-4,0.3968809 v 0 l -0.00168,0.014211 v 0 l -0.00553,0.023034 v 0 l -0.00532,0.014145 c -0.098178,0.22826 -0.3236506,0.3528713 -0.5706303,0.3528713 -0.4240855,0 -0.7181621,-0.3622714 -0.7181621,-0.8016063 0,-0.4391857 0.2940275,-0.8006848 0.7181621,-0.8006848 z m 1.2034759,0.031275 c 0.081843,0 0.1495977,0.059305 0.1612403,0.1365891 l 0.00175,0.023683 v 1.2211775 c 0,0.088516 -0.07298,0.1602721 -0.1630073,0.1602721 -0.081841,0 -0.1495972,-0.059305 -0.1612397,-0.1365892 L 3.040589,3.5049308 V 2.2837527 c 0,-0.088516 0.07298,-0.1602721 0.1630067,-0.1602714 z m 0.7813442,0 0.5209469,0.00195 c 0.090025,3.048e-4 0.1627543,0.072306 0.1624458,0.1608234 -2.809e-4,0.08047 -0.06083,0.1468798 -0.1394772,0.158066 l -0.024092,0.00195 -0.3575326,-0.0013 v 0.4497782 l 0.2928918,2.27e-4 c 0.081842,0 0.1495979,0.059305 0.1612403,0.136589 l 0.00175,0.023683 c 0,0.080469 -0.06031,0.1470871 -0.1389193,0.1585393 l -0.024092,0.00195 -0.2928919,-2.336e-4 1.563e-4,0.2860316 c 0,0.080471 -0.06031,0.1470873 -0.1389193,0.1585395 l -0.024085,0.00195 c -0.081843,0 -0.1495979,-0.059305 -0.1612403,-0.1365826 l -0.00175,-0.023691 V 2.2841354 c 2.798e-4,-0.08047 0.060829,-0.1468797 0.1394758,-0.1580594 z\\\"/>\\n    <path d=\\\"m 5.0894191,1.0943261 c 0,-0.21918999 -0.177687,-0.39686999 -0.396876,-0.39686999 h -3.43959 c -0.2191879,0 -0.391262,0.1777519 -0.3968759,0.39686999 l -0.027082,3.4379266 c 0.040152,0.2939927 0.4235456,0.409415 0.4235456,0.409415 l 3.4785583,-0.00851 c 0,0 0.3008506,-0.1402998 0.3236271,-0.4201576 0.042911,-0.5272495 0.034693,-1.6106146 0.034693,-3.4186761 z m -4.49792494,0 c 0,-0.36530999 0.29614504,-0.66145999 0.66145894,-0.66145999 h 3.43959 c 0.365314,0 0.66146,0.29615 0.66146,0.66145999 v 3.43959 c 0,0.36532 -0.296146,0.66146 -0.66146,0.66146 h -3.43959 c -0.3653139,0 -0.66145894,-0.29614 -0.66145894,-0.66146 z\\\"/>\\n  </g>\\n</svg>\\n\",\n  Qo = {\n    images: {\n      id: \"upload-images-icon\",\n      svgString: Yo,\n      dropupText: \"Image\"\n    },\n    gifs: {\n      id: \"upload-gifs-icon\",\n      svgString: Xo,\n      dropupText: \"GIF\"\n    },\n    audio: {\n      id: \"upload-audio-icon\",\n      svgString: Zo,\n      dropupText: \"Audio\"\n    },\n    mixedFiles: {\n      id: \"upload-mixed-files-icon\",\n      svgString: $o,\n      dropupText: \"File\"\n    }\n  };\nvar ue = /*#__PURE__*/function () {\n  // prettier-ignore\n  function ue(e, t, i, n) {\n    var _this44 = this;\n    _classCallCheck(this, ue);\n    this._attachments = [], this._fileCountLimit = 99, this._acceptedFormat = \"\", t.maxNumberOfFiles && (this._fileCountLimit = t.maxNumberOfFiles), this._toggleContainerDisplay = i, this._fileAttachmentsContainerRef = n, t.acceptedFormats && (this._acceptedFormat = t.acceptedFormats), setTimeout(function () {\n      _this44._validationHandler = e._validationHandler;\n    });\n  }\n  _createClass(ue, [{\n    key: \"attemptAddFile\",\n    value: function attemptAddFile(e, t) {\n      return ue.isFileTypeValid(e, this._acceptedFormat) ? (this.addAttachmentBasedOnType(e, t, !0), !0) : !1;\n    }\n  }, {\n    key: \"addAttachmentBasedOnType\",\n    value: function addAttachmentBasedOnType(e, t, i) {\n      var n = ue.getTypeFromBlob(e);\n      if (n === \"image\") {\n        var r = ue.createImageAttachment(t);\n        this.addFileAttachment(e, \"image\", r, i);\n      } else if (n === \"audio\") {\n        var _r2 = Ui.createAudioAttachment(t);\n        this.addFileAttachment(e, \"audio\", _r2, i);\n      } else {\n        var _r3 = ue.createAnyFileAttachment(e.name);\n        this.addFileAttachment(e, \"any\", _r3, i);\n      }\n    }\n  }, {\n    key: \"addFileAttachment\",\n    value: function addFileAttachment(e, t, i, n) {\n      var a;\n      var r = ue.createContainer(i);\n      if (this._attachments.length >= this._fileCountLimit) {\n        var l = this._attachments[this._attachments.length - 1].removeButton;\n        l == null || l.click();\n        var c = this._fileAttachmentsContainerRef.children;\n        this._fileAttachmentsContainerRef.insertBefore(r, c[0]);\n      } else this._fileAttachmentsContainerRef.appendChild(r);\n      var o = {\n        file: e,\n        attachmentContainerElement: r,\n        fileType: t\n      };\n      return n && (o.removeButton = this.createRemoveAttachmentButton(o), r.appendChild(o.removeButton)), this._toggleContainerDisplay(!0), this._attachments.push(o), this._fileAttachmentsContainerRef.scrollTop = this._fileAttachmentsContainerRef.scrollHeight, (a = this._validationHandler) == null || a.call(this), o;\n    }\n  }, {\n    key: \"createRemoveAttachmentButton\",\n    value: function createRemoveAttachmentButton(e) {\n      var t = document.createElement(\"div\");\n      t.classList.add(\"remove-file-attachment-button\"), t.onclick = this.removeAttachment.bind(this, e);\n      var i = document.createElement(\"div\");\n      return i.classList.add(\"x-icon\"), i.innerText = \"\", t.appendChild(i), t;\n    }\n  }, {\n    key: \"removeAttachment\",\n    value: function removeAttachment(e) {\n      var n;\n      var t = this._attachments.findIndex(function (r) {\n          return r === e;\n        }),\n        i = this._attachments[t].attachmentContainerElement;\n      this._attachments.splice(t, 1), Ui.stopAttachmentPlayback(i), i.remove(), this._toggleContainerDisplay(!1), (n = this._validationHandler) == null || n.call(this);\n    }\n  }, {\n    key: \"getFiles\",\n    value: function getFiles() {\n      return Array.from(this._attachments).map(function (e) {\n        return {\n          file: e.file,\n          type: e.fileType\n        };\n      });\n    }\n  }, {\n    key: \"removeAllAttachments\",\n    value: function removeAllAttachments() {\n      this._attachments.forEach(function (e) {\n        setTimeout(function () {\n          var t;\n          return (t = e.removeButton) == null ? void 0 : t.click();\n        });\n      });\n    }\n  }], [{\n    key: \"isFileTypeValid\",\n    value: function isFileTypeValid(e, t) {\n      if (t === \"\") return !0;\n      var i = t.split(\",\");\n      for (var n = 0; n < i.length; n++) {\n        var r = i[n].trim();\n        if (e.type === r) return !0;\n        if (r.startsWith(\".\")) {\n          var o = r.slice(1);\n          if (e.name.endsWith(o)) return !0;\n        } else {\n          if (e.name.endsWith(r)) return !0;\n          if (r.endsWith(\"/*\") && e.type.startsWith(r.slice(0, -2))) return !0;\n        }\n      }\n      return !1;\n    }\n  }, {\n    key: \"getTypeFromBlob\",\n    value: function getTypeFromBlob(e) {\n      var t = e.type;\n      return t.startsWith(\"image\") ? \"image\" : t.startsWith(\"audio\") ? \"audio\" : \"any\";\n    }\n  }, {\n    key: \"createImageAttachment\",\n    value: function createImageAttachment(e) {\n      var t = new Image();\n      return t.src = e, t.classList.add(\"image-attachment\"), t;\n    }\n  }, {\n    key: \"createAnyFileAttachment\",\n    value: function createAnyFileAttachment(e) {\n      var t = document.createElement(\"div\");\n      t.classList.add(\"border-bound-attachment\"), ge.IS_SAFARI && t.classList.add(\"border-bound-attachment-safari\");\n      var i = document.createElement(\"div\");\n      i.classList.add(\"any-file-attachment-text\");\n      var n = document.createElement(\"div\");\n      return n.classList.add(\"file-attachment-text-container\"), n.appendChild(i), i.textContent = e, t.appendChild(n), t;\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer(e) {\n      var t = document.createElement(\"div\");\n      return t.classList.add(\"file-attachment\"), t.appendChild(e), t;\n    }\n  }]);\n  return ue;\n}();\nvar ea = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <title>play</title>\\n  <path d=\\\"M5.92 24.096q0 1.088 0.928 1.728 0.512 0.288 1.088 0.288 0.448 0 0.896-0.224l16.16-8.064q0.48-0.256 0.8-0.736t0.288-1.088-0.288-1.056-0.8-0.736l-16.16-8.064q-0.448-0.224-0.896-0.224-0.544 0-1.088 0.288-0.928 0.608-0.928 1.728v16.16z\\\"></path>\\n</svg>\",\n  wn = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n<title>stop</title>\\n<path d=\\\"M5.92 24.096q0 0.832 0.576 1.408t1.44 0.608h16.128q0.832 0 1.44-0.608t0.576-1.408v-16.16q0-0.832-0.576-1.44t-1.44-0.576h-16.128q-0.832 0-1.44 0.576t-0.576 1.44v16.16z\\\"></path>\\n</svg>\",\n  ps = /*#__PURE__*/function (_ue) {\n    _inherits(we, _ue);\n    var _super38 = _createSuper(we);\n    // prettier-ignore\n    function we(e, t, i, n) {\n      _classCallCheck(this, we);\n      return _super38.call(this, e, t, i, n);\n    }\n    _createClass(we, [{\n      key: \"createTimer\",\n      value: function createTimer(e, t) {\n        var _this45 = this;\n        var i = 0;\n        var n = t !== void 0 && t < we.TIMER_LIMIT_S ? t : we.TIMER_LIMIT_S;\n        return setInterval(function () {\n          var a;\n          i += 1, i === n && ((a = _this45.stopPlaceholderCallback) == null || a.call(_this45), _this45.clearTimer()), i === 600 && e.classList.add(\"audio-placeholder-text-4-digits\");\n          var r = Math.floor(i / 60),\n            o = (i % 60).toString().padStart(2, \"0\");\n          e.textContent = \"\".concat(r, \":\").concat(o);\n        }, 1e3);\n      }\n    }, {\n      key: \"createPlaceholderAudioAttachment\",\n      value: function createPlaceholderAudioAttachment(e) {\n        var t = we.createAudioContainer(),\n          i = document.createElement(\"div\");\n        i.classList.add(\"audio-placeholder-text-3-digits\");\n        var n = document.createElement(\"div\");\n        n.classList.add(\"file-attachment-text-container\", \"audio-placeholder-text-3-digits-container\"), n.appendChild(i);\n        var r = q.createSVGElement(wn);\n        return r.classList.add(\"attachment-icon\", \"stop-icon\", \"not-removable-attachment-icon\"), i.textContent = \"0:00\", this._activePlaceholderTimer = this.createTimer(i, e), t.appendChild(n), this.addPlaceholderAudioAttachmentEvents(t, r, n), t;\n      }\n    }, {\n      key: \"addPlaceholderAudioAttachmentEvents\",\n      value: function addPlaceholderAudioAttachmentEvents(e, t, i) {\n        var _this46 = this;\n        var n = function n() {\n          return e.replaceChildren(t);\n        };\n        e.addEventListener(\"mouseenter\", n);\n        var r = function r() {\n          return e.replaceChildren(i);\n        };\n        e.addEventListener(\"mouseleave\", r);\n        var o = function o() {\n          var a;\n          return (a = _this46.stopPlaceholderCallback) == null ? void 0 : a.call(_this46);\n        };\n        e.addEventListener(\"click\", o);\n      }\n    }, {\n      key: \"addPlaceholderAttachment\",\n      value: function addPlaceholderAttachment(e, t) {\n        var i = this.createPlaceholderAudioAttachment(t);\n        this._activePlaceholderAttachment = this.addFileAttachment(new File([], \"\"), \"audio\", i, !1), this.stopPlaceholderCallback = e;\n      }\n      // prettier-ignore\n    }, {\n      key: \"completePlaceholderAttachment\",\n      value: function completePlaceholderAttachment(e, t) {\n        var i = this._activePlaceholderAttachment;\n        i && (i.file = e, we.addAudioElements(i.attachmentContainerElement.children[0], t), i.removeButton = this.createRemoveAttachmentButton(i), i.attachmentContainerElement.appendChild(i.removeButton), this._activePlaceholderAttachment = void 0, this.clearTimer());\n      }\n    }, {\n      key: \"removePlaceholderAttachment\",\n      value: function removePlaceholderAttachment() {\n        this._activePlaceholderAttachment && (this.removeAttachment(this._activePlaceholderAttachment), this._activePlaceholderAttachment = void 0, this.clearTimer());\n      }\n    }, {\n      key: \"clearTimer\",\n      value: function clearTimer() {\n        this._activePlaceholderTimer !== void 0 && (clearInterval(this._activePlaceholderTimer), this._activePlaceholderTimer = void 0, this.stopPlaceholderCallback = void 0);\n      }\n    }], [{\n      key: \"createAudioContainer\",\n      value: function createAudioContainer() {\n        var e = document.createElement(\"div\");\n        return e.classList.add(\"border-bound-attachment\", \"audio-attachment-icon-container\"), ge.IS_SAFARI && e.classList.add(\"border-bound-attachment-safari\"), e;\n      }\n    }, {\n      key: \"addAudioElements\",\n      value: function addAudioElements(e, t) {\n        var i = e.parentElement ? Y.cloneElement(e) : e,\n          n = document.createElement(\"audio\");\n        n.src = t;\n        var r = q.createSVGElement(ea);\n        r.classList.add(\"attachment-icon\", \"play-icon\");\n        var o = q.createSVGElement(wn);\n        o.classList.add(\"attachment-icon\", \"stop-icon\"), i.replaceChildren(r), n.onplay = function () {\n          i.replaceChildren(o);\n        }, n.onpause = function () {\n          i.replaceChildren(r), n.currentTime = 0;\n        }, n.onended = function () {\n          i.replaceChildren(r);\n        }, i.onclick = function () {\n          n.paused ? n.play() : n.pause();\n        };\n      }\n    }, {\n      key: \"createAudioAttachment\",\n      value: function createAudioAttachment(e) {\n        var t = we.createAudioContainer();\n        return we.addAudioElements(t, e), t;\n      }\n    }, {\n      key: \"stopAttachmentPlayback\",\n      value: function stopAttachmentPlayback(e) {\n        var t, i, n;\n        (n = (i = (t = e.children[0]) == null ? void 0 : t.children) == null ? void 0 : i[0]) != null && n.classList.contains(\"stop-icon\") && e.children[0].click();\n      }\n    }]);\n    return we;\n  }(ue);\nps.TIMER_LIMIT_S = 5999;\nvar Ui = ps;\nvar ta = /*#__PURE__*/function () {\n  function ta() {\n    _classCallCheck(this, ta);\n  }\n  _createClass(ta, null, [{\n    key: \"create\",\n    value:\n    // prettier-ignore\n    function create(e, t, i, n, r) {\n      return r === \"audio\" ? new Ui(e, t, i, n) : new ue(e, t, i, n);\n    }\n  }]);\n  return ta;\n}();\nvar _t = /*#__PURE__*/function () {\n  function _t(e, t, i) {\n    _classCallCheck(this, _t);\n    this._fileAttachmentsTypes = [], this.elementRef = this.createAttachmentContainer();\n    var n = _typeof(i) == \"object\" && !!i.displayFileAttachmentContainer;\n    this.toggleContainerDisplay(n), e.appendChild(this.elementRef), t && Object.assign(this.elementRef.style, t);\n  }\n  // prettier-ignore\n  _createClass(_t, [{\n    key: \"addType\",\n    value: function addType(e, t, i) {\n      var n = ta.create(e, t, this.toggleContainerDisplay.bind(this), this.elementRef, i);\n      return this._fileAttachmentsTypes.push(n), n;\n    }\n  }, {\n    key: \"createAttachmentContainer\",\n    value: function createAttachmentContainer() {\n      var e = document.createElement(\"div\");\n      return e.id = \"file-attachment-container\", e;\n    }\n  }, {\n    key: \"toggleContainerDisplay\",\n    value: function toggleContainerDisplay(e) {\n      e ? this.elementRef.style.display = \"block\" : this.elementRef.children.length === 0 && (this.elementRef.style.display = \"none\");\n    }\n  }, {\n    key: \"getAllFileData\",\n    value: function getAllFileData() {\n      var e = this._fileAttachmentsTypes.map(function (t) {\n        return t.getFiles();\n      }).flat();\n      return e.length > 0 ? e : void 0;\n    }\n  }, {\n    key: \"completePlaceholders\",\n    value: function () {\n      var _completePlaceholders = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee92() {\n        return _regeneratorRuntime().wrap(function _callee92$(_context92) {\n          while (1) switch (_context92.prev = _context92.next) {\n            case 0:\n              _context92.next = 2;\n              return Promise.all(this._fileAttachmentsTypes.map( /*#__PURE__*/function () {\n                var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee91(e) {\n                  var t;\n                  return _regeneratorRuntime().wrap(function _callee91$(_context91) {\n                    while (1) switch (_context91.prev = _context91.next) {\n                      case 0:\n                        return _context91.abrupt(\"return\", (t = e.stopPlaceholderCallback) == null ? void 0 : t.call(e));\n                      case 1:\n                      case \"end\":\n                        return _context91.stop();\n                    }\n                  }, _callee91);\n                }));\n                return function (_x167) {\n                  return _ref11.apply(this, arguments);\n                };\n              }()));\n            case 2:\n            case \"end\":\n              return _context92.stop();\n          }\n        }, _callee92, this);\n      }));\n      function completePlaceholders() {\n        return _completePlaceholders.apply(this, arguments);\n      }\n      return completePlaceholders;\n    }()\n  }, {\n    key: \"addFilesToAnyType\",\n    value: function addFilesToAnyType(e) {\n      _t.addFilesToType(e, this._fileAttachmentsTypes);\n    }\n  }, {\n    key: \"removeAllFiles\",\n    value: function removeAllFiles() {\n      this._fileAttachmentsTypes.forEach(function (e) {\n        return e.removeAllAttachments();\n      }), this.elementRef.replaceChildren(), this.toggleContainerDisplay(!1);\n    }\n  }, {\n    key: \"getNumberOfTypes\",\n    value: function getNumberOfTypes() {\n      return this._fileAttachmentsTypes.length;\n    }\n  }], [{\n    key: \"addFilesToType\",\n    value: function addFilesToType(e, t) {\n      e.forEach(function (i) {\n        var n = new FileReader();\n        n.readAsDataURL(i), n.onload = function (r) {\n          for (var o = 0; o < t.length && !t[o].attemptAddFile(i, r.target.result); o += 1);\n        };\n      });\n    }\n  }]);\n  return _t;\n}();\nvar fs = /*#__PURE__*/function () {\n  function le(e, t, i) {\n    _classCallCheck(this, le);\n    this._isOpen = !1, this._contentRef = le.createModalContent(t, i == null ? void 0 : i.backgroundColor), this._buttonPanel = le.createButtonPanel(i == null ? void 0 : i.backgroundColor), this._elementRef = le.createContainer(this._contentRef, i), this._elementRef.appendChild(this._buttonPanel), e.appendChild(this._elementRef), this._backgroundPanelRef = le.createDarkBackgroundPanel(), e.appendChild(this._backgroundPanelRef), this.addWindowEvents(e);\n  }\n  _createClass(le, [{\n    key: \"isOpen\",\n    value: function isOpen() {\n      return this._isOpen;\n    }\n  }, {\n    key: \"addButtons\",\n    value: function addButtons() {\n      var _this47 = this;\n      for (var _len2 = arguments.length, e = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        e[_key2] = arguments[_key2];\n      }\n      e.forEach(function (t) {\n        return _this47._buttonPanel.appendChild(t);\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this48 = this;\n      this._elementRef.classList.remove(\"show-modal\"), this._elementRef.classList.add(\"hide-modal\"), this._backgroundPanelRef.classList.remove(\"show-modal-background\"), this._backgroundPanelRef.classList.add(\"hide-modal-background\"), this._isOpen = !1, setTimeout(function () {\n        _this48._elementRef.style.display = \"none\", _this48._backgroundPanelRef.style.display = \"none\";\n      }, le.MODAL_CLOSE_TIMEOUT_MS);\n    }\n  }, {\n    key: \"displayModalElements\",\n    value: function displayModalElements() {\n      this._elementRef.style.display = \"flex\", this._elementRef.classList.remove(\"hide-modal\"), this._elementRef.classList.add(\"show-modal\"), this._backgroundPanelRef.style.display = \"block\", this._backgroundPanelRef.classList.remove(\"hide-modal-background\"), this._backgroundPanelRef.classList.add(\"show-modal-background\"), this._isOpen = !0;\n    }\n  }, {\n    key: \"openTextModal\",\n    value: function openTextModal(e) {\n      this._contentRef.innerHTML = e, this.displayModalElements();\n    }\n  }, {\n    key: \"addCloseButton\",\n    value: function addCloseButton(e, t, i) {\n      var _this49 = this;\n      var n = t ? le.createSVGButton(e) : le.createTextButton(e);\n      return this.addButtons(n), n.onclick = function () {\n        _this49.close(), setTimeout(function () {\n          i == null || i();\n        }, 140);\n      }, n;\n    }\n  }, {\n    key: \"addWindowEvents\",\n    value: function addWindowEvents(e) {\n      this.keyDownEvent = this.windowKeyDown.bind(this, e), window.addEventListener(\"keydown\", this.keyDownEvent);\n    }\n  }, {\n    key: \"windowKeyDown\",\n    value: function windowKeyDown(e, t) {\n      var i, n;\n      !e.isConnected && this.keyDownEvent ? window.removeEventListener(\"keydown\", this.keyDownEvent) : this._isOpen && (t.key === R.ESCAPE ? (this.close(), (i = this.extensionCloseCallback) == null || i.call(this)) : t.key === R.ENTER && (this.close(), (n = this.extensionCloseCallback) == null || n.call(this)));\n    }\n  }], [{\n    key: \"createContainer\",\n    value: function createContainer(e, t) {\n      var i = document.createElement(\"div\");\n      return i.classList.add(\"modal\"), i.appendChild(e), t && delete t.backgroundColor, Object.assign(i.style, t), i;\n    }\n  }, {\n    key: \"createModalContent\",\n    value: function createModalContent(e, t) {\n      var _i$classList;\n      var i = document.createElement(\"div\");\n      return (_i$classList = i.classList).add.apply(_i$classList, _toConsumableArray(e)), t && (i.style.backgroundColor = t), document.createElement(\"div\").appendChild(i), i;\n    }\n  }, {\n    key: \"createButtonPanel\",\n    value: function createButtonPanel(e) {\n      var t = document.createElement(\"div\");\n      return t.classList.add(\"modal-button-panel\"), e && (t.style.backgroundColor = e), t;\n    }\n  }, {\n    key: \"createDarkBackgroundPanel\",\n    value: function createDarkBackgroundPanel() {\n      var e = document.createElement(\"div\");\n      return e.id = \"modal-background-panel\", e;\n    }\n  }, {\n    key: \"createTextButton\",\n    value: function createTextButton(e) {\n      var t = document.createElement(\"div\");\n      return t.classList.add(\"modal-button\"), t.textContent = e, t;\n    }\n  }, {\n    key: \"createSVGButton\",\n    value: function createSVGButton(e) {\n      var t = document.createElement(\"div\");\n      t.classList.add(\"modal-button\", \"modal-svg-button\");\n      var i = q.createSVGElement(e);\n      return i.classList.add(\"modal-svg-button-icon\"), t.appendChild(i), t;\n    }\n  }, {\n    key: \"createTextModalFunc\",\n    value: function createTextModalFunc(e, t, i) {\n      var n;\n      if (_typeof(t) == \"object\" && (n = t.files) != null && n.infoModal) {\n        var r = new le(e, [\"modal-content\"], t.files.infoModal.containerStyle);\n        return r.addCloseButton(\"OK\", !1, i), r.openTextModal.bind(r, t.infoModalTextMarkUp || \"\");\n      }\n    }\n  }]);\n  return le;\n}();\nfs.MODAL_CLOSE_TIMEOUT_MS = 190;\nvar at = fs;\nvar ut = /*#__PURE__*/function (_wt2) {\n  _inherits(ut, _wt2);\n  var _super39 = _createSuper(ut);\n  // prettier-ignore\n  function ut(e, t, i, n, r, o) {\n    var _this50;\n    _classCallCheck(this, ut);\n    var l, c, d, u, p, h;\n    _this50 = _super39.call(this, ut.createButtonElement(), (l = i.button) == null ? void 0 : l.position, i.button, o);\n    var a = _this50.createInnerElements(n, r, _this50._customStyles);\n    _this50._inputElement = ut.createInputElement((c = i == null ? void 0 : i.files) == null ? void 0 : c.acceptedFormats), _this50.addClickEvent(e, i), _this50.elementRef.replaceChildren(a.styles), _this50.reapplyStateStyle(\"styles\"), _this50._fileAttachmentsType = t, _this50._openModalOnce = ((u = (d = i.files) == null ? void 0 : d.infoModal) == null ? void 0 : u.openModalOnce) === !1 || (h = (p = i.files) == null ? void 0 : p.infoModal) == null ? void 0 : h.openModalOnce;\n    return _this50;\n  }\n  _createClass(ut, [{\n    key: \"createInnerElements\",\n    value: function createInnerElements(e, t, i) {\n      var n = ut.createSVGIconElement(e, t);\n      return {\n        styles: this.createInnerElement(n, \"styles\", i)\n      };\n    }\n  }, {\n    key: \"triggerImportPrompt\",\n    value: function triggerImportPrompt(e) {\n      e.onchange = this[\"import\"].bind(this, e), e.click();\n    }\n  }, {\n    key: \"import\",\n    value: function _import(e) {\n      _t.addFilesToType(Array.from(e.files || []), [this._fileAttachmentsType]), e.value = \"\";\n    }\n  }, {\n    key: \"createInnerElement\",\n    value: function createInnerElement(e, t, i) {\n      return j.createSpecificStateElement(this.elementRef, t, i) || e;\n    }\n  }, {\n    key: \"addClickEvent\",\n    value: function addClickEvent(e, t) {\n      var i = this.triggerImportPrompt.bind(this, this._inputElement),\n        n = at.createTextModalFunc(e, t, i);\n      this.elementRef.onclick = this.click.bind(this, n);\n    }\n  }, {\n    key: \"click\",\n    value: function click(e) {\n      e && (this._openModalOnce === void 0 || this._openModalOnce === !0) ? (e(), this._openModalOnce === !0 && (this._openModalOnce = !1)) : this.triggerImportPrompt(this._inputElement);\n    }\n  }], [{\n    key: \"createInputElement\",\n    value: function createInputElement(e) {\n      var t = document.createElement(\"input\");\n      return t.type = \"file\", t.accept = e || \"\", t.hidden = !0, t.multiple = !0, t;\n    }\n  }, {\n    key: \"createButtonElement\",\n    value: function createButtonElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"input-button\", \"upload-file-button\"), e;\n    }\n  }, {\n    key: \"createSVGIconElement\",\n    value: function createSVGIconElement(e, t) {\n      var i = q.createSVGElement(t);\n      return i.id = e, i;\n    }\n  }]);\n  return ut;\n}(wt);\nvar de = /*#__PURE__*/function () {\n  function de() {\n    _classCallCheck(this, de);\n  }\n  _createClass(de, null, [{\n    key: \"create\",\n    value: function create(e, t, i) {\n      var n = de.createElement(i);\n      de.addEvents(n, e, t), e.appendChild(n);\n    }\n  }, {\n    key: \"createElement\",\n    value: function createElement(e) {\n      var t = document.createElement(\"div\");\n      return t.id = \"drag-and-drop\", _typeof(e) == \"object\" && Object.assign(t.style, e), t;\n    }\n  }, {\n    key: \"addEvents\",\n    value: function addEvents(e, t, i) {\n      t.ondragenter = function (n) {\n        n.preventDefault(), de.display(e);\n      }, e.ondragleave = function (n) {\n        n.preventDefault(), de.hide(e);\n      }, e.ondragover = function (n) {\n        n.preventDefault();\n      }, e.ondrop = function (n) {\n        n.preventDefault(), de.uploadFile(i, n), de.hide(e);\n      };\n    }\n  }, {\n    key: \"uploadFile\",\n    value: function uploadFile(e, t) {\n      var n;\n      var i = (n = t.dataTransfer) == null ? void 0 : n.files;\n      i && e.addFilesToAnyType(Array.from(i));\n    }\n  }, {\n    key: \"display\",\n    value: function display(e) {\n      e.style.display = \"block\";\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(e) {\n      e.style.display = \"none\";\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled(e, t) {\n      return t !== void 0 && t === !1 ? !1 : !!t || e.getNumberOfTypes() > 0;\n    }\n  }]);\n  return de;\n}();\nvar Me = /*#__PURE__*/function () {\n  function Me() {\n    _classCallCheck(this, Me);\n  }\n  _createClass(Me, null, [{\n    key: \"validate\",\n    value:\n    // prettier-ignore\n    function validate(e, t, i, n, r) {\n      var o = e(i, n, r);\n      return o ? t.changeToSubmitIcon() : t.changeToDisabledIcon(), o;\n    }\n    // prettier-ignore\n  }, {\n    key: \"useValidationFunc\",\n    value: function () {\n      var _useValidationFunc = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee93(e, t, i, n) {\n        var r, o, a, l;\n        return _regeneratorRuntime().wrap(function _callee93$(_context93) {\n          while (1) switch (_context93.prev = _context93.next) {\n            case 0:\n              r = t.inputElementRef, o = r.classList.contains(\"text-input-placeholder\") ? \"\" : r.textContent;\n              _context93.next = 3;\n              return i.completePlaceholders();\n            case 3:\n              a = i.getAllFileData(), l = a == null ? void 0 : a.map(function (c) {\n                return c.file;\n              });\n              return _context93.abrupt(\"return\", Me.validate(e, n, o, l));\n            case 5:\n            case \"end\":\n              return _context93.stop();\n          }\n        }, _callee93);\n      }));\n      function useValidationFunc(_x168, _x169, _x170, _x171) {\n        return _useValidationFunc.apply(this, arguments);\n      }\n      return useValidationFunc;\n    }() // prettier-ignore\n  }, {\n    key: \"useValidationFuncProgrammatic\",\n    value: function () {\n      var _useValidationFuncProgrammatic = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee94(e, t, i) {\n        var r, n;\n        return _regeneratorRuntime().wrap(function _callee94$(_context94) {\n          while (1) switch (_context94.prev = _context94.next) {\n            case 0:\n              n = (r = t.files) == null ? void 0 : r.map(function (o) {\n                return o.file;\n              });\n              return _context94.abrupt(\"return\", Me.validate(e, i, t.text, n, !0));\n            case 2:\n            case \"end\":\n              return _context94.stop();\n          }\n        }, _callee94);\n      }));\n      function useValidationFuncProgrammatic(_x172, _x173, _x174) {\n        return _useValidationFuncProgrammatic.apply(this, arguments);\n      }\n      return useValidationFuncProgrammatic;\n    }()\n  }, {\n    key: \"validateWebsocket\",\n    value: function validateWebsocket(e, t) {\n      return e.websocket && !$.canSendMessage(e.websocket) ? (t.changeToDisabledIcon(), !1) : !0;\n    }\n    // prettier-ignore\n  }, {\n    key: \"attach\",\n    value: function attach(e, t, i, n, r) {\n      var o = e.validateInput || ke.processValidateInput(e);\n      e._validationHandler = /*#__PURE__*/function () {\n        var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee95(a) {\n          var l;\n          return _regeneratorRuntime().wrap(function _callee95$(_context95) {\n            while (1) switch (_context95.prev = _context95.next) {\n              case 0:\n                if (!(r.status.loadingActive || r.status.requestInProgress || t.isSubmitProgrammaticallyDisabled === !0 || !Me.validateWebsocket(t, r))) {\n                  _context95.next = 2;\n                  break;\n                }\n                return _context95.abrupt(\"return\", !1);\n              case 2:\n                l = o || t.canSendMessage;\n                return _context95.abrupt(\"return\", l ? a ? Me.useValidationFuncProgrammatic(l, a, r) : Me.useValidationFunc(l, i, n, r) : null);\n              case 4:\n              case \"end\":\n                return _context95.stop();\n            }\n          }, _callee95);\n        }));\n        return function (_x175) {\n          return _ref12.apply(this, arguments);\n        };\n      }();\n    }\n  }]);\n  return Me;\n}();\nvar ia = \"<?xml version=\\\"1.0\\\" encoding=\\\"iso-8859-1\\\"?>\\n<svg height=\\\"1.4em\\\" width=\\\"1.4em\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n\\t viewBox=\\\"0 0 490.9 490.9\\\" xml:space=\\\"preserve\\\">\\n\\t<g>\\n\\t\\t<g>\\n\\t\\t\\t<path d=\\\"M245.5,322.9c53,0,96.2-43.2,96.2-96.2V96.2c0-53-43.2-96.2-96.2-96.2s-96.2,43.2-96.2,96.2v130.5\\n\\t\\t\\t\\tC149.3,279.8,192.5,322.9,245.5,322.9z M173.8,96.2c0-39.5,32.2-71.7,71.7-71.7s71.7,32.2,71.7,71.7v130.5\\n\\t\\t\\t\\tc0,39.5-32.2,71.7-71.7,71.7s-71.7-32.2-71.7-71.7V96.2z\\\"/>\\n\\t\\t\\t<path d=\\\"M94.4,214.5c-6.8,0-12.3,5.5-12.3,12.3c0,85.9,66.7,156.6,151.1,162.8v76.7h-63.9c-6.8,0-12.3,5.5-12.3,12.3\\n\\t\\t\\t\\ts5.5,12.3,12.3,12.3h152.3c6.8,0,12.3-5.5,12.3-12.3s-5.5-12.3-12.3-12.3h-63.9v-76.7c84.4-6.3,151.1-76.9,151.1-162.8\\n\\t\\t\\t\\tc0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3c0,76.6-62.3,138.9-138.9,138.9s-138.9-62.3-138.9-138.9\\n\\t\\t\\t\\tC106.6,220,101.2,214.5,94.4,214.5z\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</svg>\\n\";\nvar bt = /*#__PURE__*/function (_wt3) {\n  _inherits(bt, _wt3);\n  var _super40 = _createSuper(bt);\n  function bt(e) {\n    var _this51;\n    _classCallCheck(this, bt);\n    (e == null ? void 0 : e.position) === \"dropup-menu\" && (e.position = \"outside-right\"), _this51 = _super40.call(this, bt.createMicrophoneElement(), e == null ? void 0 : e.position, e), _this51.isActive = !1, _this51._innerElements = _this51.createInnerElements(_this51._customStyles), _this51.changeToDefault();\n    return _this51;\n  }\n  _createClass(bt, [{\n    key: \"createInnerElements\",\n    value: function createInnerElements(e) {\n      var t = bt.createSVGIconElement();\n      return {\n        \"default\": this.createInnerElement(t, \"default\", e),\n        active: this.createInnerElement(t, \"active\", e),\n        unsupported: this.createInnerElement(t, \"unsupported\", e),\n        commandMode: this.createInnerElement(t, \"commandMode\", e)\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"createInnerElement\",\n    value: function createInnerElement(e, t, i) {\n      return j.createSpecificStateElement(this.elementRef, t, i) || e;\n    }\n  }, {\n    key: \"changeToActive\",\n    value: function changeToActive() {\n      this.elementRef.replaceChildren(this._innerElements.active), this.toggleIconFilter(\"active\"), this.reapplyStateStyle(\"active\", [\"default\", \"commandMode\"]), this.isActive = !0;\n    }\n  }, {\n    key: \"changeToDefault\",\n    value: function changeToDefault() {\n      this.elementRef.replaceChildren(this._innerElements[\"default\"]), this.toggleIconFilter(\"default\"), this.reapplyStateStyle(\"default\", [\"active\", \"commandMode\"]), this.isActive = !1;\n    }\n  }, {\n    key: \"changeToCommandMode\",\n    value: function changeToCommandMode() {\n      this.elementRef.replaceChildren(this._innerElements.unsupported), this.toggleIconFilter(\"command\"), this.reapplyStateStyle(\"commandMode\", [\"active\"]);\n    }\n  }, {\n    key: \"changeToUnsupported\",\n    value: function changeToUnsupported() {\n      this.elementRef.replaceChildren(this._innerElements.unsupported), this.elementRef.classList.add(\"unsupported-microphone\"), this.reapplyStateStyle(\"unsupported\", [\"active\"]);\n    }\n  }, {\n    key: \"toggleIconFilter\",\n    value: function toggleIconFilter(e) {\n      var t = this.elementRef.children[0];\n      if (t.tagName.toLocaleLowerCase() === \"svg\") switch (e) {\n        case \"default\":\n          t.classList.remove(\"active-microphone-icon\", \"command-microphone-icon\"), t.classList.add(\"default-microphone-icon\");\n          break;\n        case \"active\":\n          t.classList.remove(\"default-microphone-icon\", \"command-microphone-icon\"), t.classList.add(\"active-microphone-icon\");\n          break;\n        case \"command\":\n          t.classList.remove(\"active-microphone-icon\", \"default-microphone-icon\"), t.classList.add(\"command-microphone-icon\");\n          break;\n      }\n    }\n  }], [{\n    key: \"createMicrophoneElement\",\n    value: function createMicrophoneElement() {\n      var e = document.createElement(\"div\");\n      return e.id = \"microphone-button\", e.classList.add(\"input-button\"), e;\n    }\n  }, {\n    key: \"createSVGIconElement\",\n    value: function createSVGIconElement() {\n      var e = q.createSVGElement(ia);\n      return e.id = \"microphone-icon\", e;\n    }\n  }]);\n  return bt;\n}(wt);\nvar ms = {},\n  oi = {},\n  ai = {},\n  Mt = {},\n  De = {};\nObject.defineProperty(De, \"__esModule\", {\n  value: !0\n});\nDe.Text = void 0;\nvar ye = /*#__PURE__*/function () {\n  function ye() {\n    _classCallCheck(this, ye);\n  }\n  _createClass(ye, null, [{\n    key: \"capitalize\",\n    value: function capitalize(e) {\n      return e.replace(ye.FIRST_CHAR_REGEX, function (t) {\n        return t.toUpperCase();\n      });\n    }\n  }, {\n    key: \"lineBreak\",\n    value: function lineBreak(e) {\n      return e.replace(ye.DOUBLE_LINE, \"<p></p>\").replace(ye.ONE_LINE, \"<br>\");\n    }\n  }, {\n    key: \"isCharDefined\",\n    value: function isCharDefined(e) {\n      return e !== void 0 && e !== \"\" && e !== \" \" && e !== \"\\n\" && e !== \"\";\n    }\n    // WORK - can optimize to not not have to do it multiple times\n  }, {\n    key: \"breakupIntoWordsArr\",\n    value: function breakupIntoWordsArr(e) {\n      return e.split(/(\\W+)/);\n    }\n  }]);\n  return ye;\n}();\nDe.Text = ye;\nye.FIRST_CHAR_REGEX = /\\S/;\nye.DOUBLE_LINE = /\\n\\n/g;\nye.ONE_LINE = /\\n/g;\nObject.defineProperty(Mt, \"__esModule\", {\n  value: !0\n});\nMt.Translate = void 0;\nvar na = De;\nvar sa = /*#__PURE__*/function () {\n  function sa() {\n    _classCallCheck(this, sa);\n  }\n  _createClass(sa, null, [{\n    key: \"translate\",\n    value: function translate(e, t) {\n      var i = na.Text.breakupIntoWordsArr(e);\n      for (var n = 0; n < i.length; n += 1) t[i[n]] && (i[n] = t[i[n]]);\n      return i.join(\"\");\n    }\n  }]);\n  return sa;\n}();\nMt.Translate = sa;\nObject.defineProperty(ai, \"__esModule\", {\n  value: !0\n});\nai.WebSpeechTranscript = void 0;\nvar _n = Mt;\nvar ra = /*#__PURE__*/function () {\n  function ra() {\n    _classCallCheck(this, ra);\n  }\n  _createClass(ra, null, [{\n    key: \"extract\",\n    value: function extract(e, t, i) {\n      var n = \"\";\n      for (var r = e.resultIndex; r < e.results.length; ++r) {\n        var o = e.results[r][0].transcript;\n        i && (o = _n.Translate.translate(o, i)), e.results[r].isFinal ? t += o : n += o;\n      }\n      return {\n        interimTranscript: n,\n        finalTranscript: t,\n        newText: n || t\n      };\n    }\n  }, {\n    key: \"extractSafari\",\n    value: function extractSafari(e, t, i) {\n      var n = \"\";\n      var r = \"\";\n      for (var o = e.resultIndex; o < e.results.length; ++o) {\n        var a = e.results[o][0].transcript;\n        i && (a = _n.Translate.translate(a, i)), n += a;\n      }\n      return {\n        interimTranscript: r,\n        finalTranscript: n,\n        newText: r || n\n      };\n    }\n  }]);\n  return ra;\n}();\nai.WebSpeechTranscript = ra;\nvar tt = {};\nObject.defineProperty(tt, \"__esModule\", {\n  value: !0\n});\ntt.Browser = void 0;\nvar lt = /*#__PURE__*/_createClass(function lt() {\n  _classCallCheck(this, lt);\n});\ntt.Browser = lt;\nlt.IS_SAFARI = function () {\n  return lt._IS_SAFARI === void 0 && (lt._IS_SAFARI = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)), lt._IS_SAFARI;\n};\nvar Tt = {},\n  li = {};\nObject.defineProperty(li, \"__esModule\", {\n  value: !0\n});\nli.EventListeners = void 0;\nvar J = /*#__PURE__*/function () {\n  function J() {\n    _classCallCheck(this, J);\n  }\n  _createClass(J, null, [{\n    key: \"getElementIfFocusedOnAvailable\",\n    value: function getElementIfFocusedOnAvailable(e, t) {\n      return Array.isArray(e) ? e.find(function (i) {\n        return t === i;\n      }) : t === e ? e : void 0;\n    }\n  }, {\n    key: \"keyDownWindow\",\n    value: function keyDownWindow(e) {\n      var _this52 = this;\n      e.element && J.getElementIfFocusedOnAvailable(e.element, document.activeElement) && (J.KEY_DOWN_TIMEOUT !== null && clearTimeout(J.KEY_DOWN_TIMEOUT), J.KEY_DOWN_TIMEOUT = setTimeout(function () {\n        J.KEY_DOWN_TIMEOUT = null, _this52.resetRecording(e);\n      }, 500));\n    }\n  }, {\n    key: \"mouseDownWindow\",\n    value: function mouseDownWindow(e, t) {\n      this.mouseDownElement = J.getElementIfFocusedOnAvailable(e, t.target);\n    }\n  }, {\n    key: \"mouseUpWindow\",\n    value: function mouseUpWindow(e) {\n      this.mouseDownElement && this.resetRecording(e), this.mouseDownElement = void 0;\n    }\n  }, {\n    key: \"add\",\n    value: function add(e, t) {\n      var i = (t == null ? void 0 : t.insertInCursorLocation) === void 0 || (t == null ? void 0 : t.insertInCursorLocation);\n      t != null && t.element && i && (e.mouseDownEvent = J.mouseDownWindow.bind(e, t.element), document.addEventListener(\"mousedown\", e.mouseDownEvent), e.mouseUpEvent = J.mouseUpWindow.bind(e, t), document.addEventListener(\"mouseup\", e.mouseUpEvent), e.keyDownEvent = J.keyDownWindow.bind(e, t), document.addEventListener(\"keydown\", e.keyDownEvent));\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(e) {\n      document.removeEventListener(\"mousedown\", e.mouseDownEvent), document.removeEventListener(\"mouseup\", e.mouseUpEvent), document.removeEventListener(\"keydown\", e.keyDownEvent);\n    }\n  }]);\n  return J;\n}();\nli.EventListeners = J;\nJ.KEY_DOWN_TIMEOUT = null;\nvar ci = {};\nObject.defineProperty(ci, \"__esModule\", {\n  value: !0\n});\nci.PreResultUtils = void 0;\nvar oa = /*#__PURE__*/function () {\n  function oa() {\n    _classCallCheck(this, oa);\n  }\n  _createClass(oa, null, [{\n    key: \"process\",\n    value: function process(e, t, i, n, r) {\n      var o = n == null ? void 0 : n(t, i);\n      return o ? (setTimeout(function () {\n        o.restart ? e.resetRecording(r) : o.stop && e.stop();\n      }), (o.stop || o.restart) && o.removeNewText) : !1;\n    }\n  }]);\n  return oa;\n}();\nci.PreResultUtils = oa;\nvar Ct = {},\n  At = {};\nObject.defineProperty(At, \"__esModule\", {\n  value: !0\n});\nAt.AutoScroll = void 0;\nvar nn = /*#__PURE__*/function () {\n  function nn() {\n    _classCallCheck(this, nn);\n  }\n  _createClass(nn, null, [{\n    key: \"changeStateIfNeeded\",\n    value: function changeStateIfNeeded(e, t) {\n      t && !e.isCursorAtEnd && (e.endPadding = \"\", e.scrollingSpan.innerHTML = \"&nbsp;\");\n    }\n  }, {\n    key: \"scrollGeneric\",\n    value: function scrollGeneric(e, t) {\n      e.isCursorAtEnd ? t.scrollTop = t.scrollHeight : e.scrollingSpan.scrollIntoView({\n        block: \"nearest\"\n      });\n    }\n    // primitives don't need to be scrolled except in safari\n    // they can only safely be scrolled to the end\n  }, {\n    key: \"scrollSafariPrimitiveToEnd\",\n    value: function scrollSafariPrimitiveToEnd(e) {\n      e.scrollLeft = e.scrollWidth, e.scrollTop = e.scrollHeight;\n    }\n  }, {\n    key: \"isElementOverflown\",\n    value: function isElementOverflown(e) {\n      return e.scrollHeight > e.clientHeight || e.scrollWidth > e.clientWidth;\n    }\n  }, {\n    key: \"isRequired\",\n    value: function isRequired(e, t) {\n      return e && nn.isElementOverflown(t);\n    }\n  }]);\n  return nn;\n}();\nAt.AutoScroll = nn;\nvar je = {};\nObject.defineProperty(je, \"__esModule\", {\n  value: !0\n});\nje.Elements = void 0;\nvar aa = /*#__PURE__*/function () {\n  function aa() {\n    _classCallCheck(this, aa);\n  }\n  _createClass(aa, null, [{\n    key: \"isPrimitiveElement\",\n    value: function isPrimitiveElement(e) {\n      return e.tagName === \"INPUT\" || e.tagName === \"TEXTAREA\";\n    }\n  }, {\n    key: \"createInterimSpan\",\n    value: function createInterimSpan() {\n      var e = document.createElement(\"span\");\n      return e.style.color = \"grey\", e.style.pointerEvents = \"none\", e;\n    }\n  }, {\n    key: \"createGenericSpan\",\n    value: function createGenericSpan() {\n      var e = document.createElement(\"span\");\n      return e.style.pointerEvents = \"none\", e;\n    }\n  }, {\n    key: \"appendSpans\",\n    value: function appendSpans(e, t) {\n      if (e.spansPopulated = !0, e.insertInCursorLocation && document.activeElement === t) {\n        var _i16 = window.getSelection();\n        if (_i16 != null && _i16.focusNode) {\n          var n = _i16.getRangeAt(0);\n          n.insertNode(e.scrollingSpan), n.insertNode(e.interimSpan), n.insertNode(e.finalSpan), n.collapse(!1), _i16.removeAllRanges(), _i16.addRange(n);\n          return;\n        }\n      }\n      t.appendChild(e.finalSpan), t.appendChild(e.interimSpan), t.appendChild(e.scrollingSpan);\n    }\n  }, {\n    key: \"applyCustomColors\",\n    value: function applyCustomColors(e, t) {\n      t.interim && (e.interimSpan.style.color = t.interim), t[\"final\"] && (e.finalSpan.style.color = t[\"final\"]);\n    }\n  }, {\n    key: \"isInsideShadowDOM\",\n    value: function isInsideShadowDOM(e) {\n      return e.getRootNode() instanceof ShadowRoot;\n    }\n  }]);\n  return aa;\n}();\nje.Elements = aa;\nvar Fe = {};\nObject.defineProperty(Fe, \"__esModule\", {\n  value: !0\n});\nFe.Cursor = void 0;\nvar ht = /*#__PURE__*/function () {\n  function ht() {\n    _classCallCheck(this, ht);\n  }\n  _createClass(ht, null, [{\n    key: \"setOffsetForGeneric\",\n    value: function setOffsetForGeneric(e, t) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var n = 0;\n      for (var r = 0; r < e.childNodes.length; r += 1) {\n        var o = e.childNodes[r];\n        if (o.childNodes.length > 0) {\n          var a = ht.setOffsetForGeneric(o, t, i);\n          if (a === -1) return -1;\n          i += a;\n        } else if (o.textContent !== null) {\n          if (i + o.textContent.length > t) {\n            var _a2 = document.createRange();\n            _a2.setStart(o, t - i), _a2.collapse(!0);\n            var l = window.getSelection();\n            return l == null || l.removeAllRanges(), l == null || l.addRange(_a2), e.focus(), -1;\n          }\n          i += o.textContent.length, n += o.textContent.length;\n        }\n      }\n      return n;\n    }\n  }, {\n    key: \"focusEndOfGeneric\",\n    value: function focusEndOfGeneric(e) {\n      var t = document.createRange();\n      t.selectNodeContents(e), t.collapse(!1);\n      var i = window.getSelection();\n      i && (i.removeAllRanges(), i.addRange(t));\n    }\n  }, {\n    key: \"setOffsetForSafariGeneric\",\n    value: function setOffsetForSafariGeneric(e, t) {\n      var i = window.getSelection();\n      if (i) {\n        var n = ht.getGenericElementCursorOffset(e, i, !0);\n        console.log(n), setTimeout(function () {}, 100), ht.setOffsetForGeneric(e, n + t);\n      }\n    }\n    // set to automatically scroll to cursor (scroll does not work in Safari)\n  }, {\n    key: \"setOffsetForPrimitive\",\n    value: function setOffsetForPrimitive(e, t, i) {\n      i && e.blur(), e.setSelectionRange(t, t), e.focus();\n    }\n    // Scroll Input in Safari - does not work for TextArea and uses span which can have a different style\n    // private static getCursorOffsetFromLeft(inputElement: HTMLInputElement, position: number) {\n    //   // Get the value of the input element up to the cursor position\n    //   const valueUpToCursor = inputElement.value.substring(0, position);\n    //   // Create a temporary span element to measure the width of the text\n    //   const tempSpan = document.createElement('span');\n    //   tempSpan.textContent = valueUpToCursor;\n    //   tempSpan.style.visibility = 'hidden';\n    //   tempSpan.style.position = 'absolute';\n    //   document.body.appendChild(tempSpan);\n    //   // Measure the width of the text up to the cursor position\n    //   const offsetWidth = tempSpan.offsetWidth;\n    //   const offsetHeight = tempSpan.offsetHeight;\n    //   // Clean up the temporary span element\n    //   document.body.removeChild(tempSpan);\n    //   return {left: offsetWidth, top: offsetHeight};\n    // }\n  }, {\n    key: \"getGenericElementCursorOffset\",\n    value: function getGenericElementCursorOffset(e, t, i) {\n      var n = 0;\n      if (t.rangeCount > 0) {\n        var r = t.getRangeAt(0),\n          o = r.cloneRange();\n        o.selectNodeContents(e), i ? o.setEnd(r.startContainer, r.startOffset) : o.setEnd(r.endContainer, r.endOffset), n = o.toString().length;\n      }\n      return n;\n    }\n  }]);\n  return ht;\n}();\nFe.Cursor = ht;\nObject.defineProperty(Ct, \"__esModule\", {\n  value: !0\n});\nCt.CommandUtils = void 0;\nvar Mn = At,\n  la = je,\n  ca = tt,\n  Tn = Fe,\n  Cn = De;\nvar K = /*#__PURE__*/function () {\n  function K() {\n    _classCallCheck(this, K);\n  }\n  _createClass(K, null, [{\n    key: \"processCommand\",\n    value: function processCommand(e, t) {\n      return (!t || !t.caseSensitive) && (e = e.toLowerCase()), (t == null ? void 0 : t.substrings) === !1 ? Cn.Text.breakupIntoWordsArr(e) : e;\n    }\n  }, {\n    key: \"process\",\n    value: function process(e) {\n      var t;\n      return ((t = e.settings) === null || t === void 0 ? void 0 : t.caseSensitive) === !0 ? e : Object.keys(e).reduce(function (n, r) {\n        var o = e[r];\n        return n[r] = typeof o == \"string\" ? K.processCommand(o, e.settings) : o, n;\n      }, {});\n    }\n  }, {\n    key: \"toggleCommandModeOn\",\n    value: function toggleCommandModeOn(e) {\n      var t;\n      e.isWaitingForCommand = !0, (t = e.onCommandModeTrigger) === null || t === void 0 || t.call(e, !0);\n    }\n  }, {\n    key: \"toggleCommandModeOff\",\n    value: function toggleCommandModeOff(e) {\n      var t;\n      e.isWaitingForCommand && ((t = e.onCommandModeTrigger) === null || t === void 0 || t.call(e, !1), e.isWaitingForCommand = !1);\n    }\n  }, {\n    key: \"setText\",\n    value: function setText(e, t, i, n) {\n      K.toggleCommandModeOff(e), la.Elements.isPrimitiveElement(n) ? (n.value = i, e.isTargetInShadow || Tn.Cursor.setOffsetForPrimitive(n, i.length, !0), ca.Browser.IS_SAFARI() && e.autoScroll && Mn.AutoScroll.scrollSafariPrimitiveToEnd(n)) : (n.textContent = i, e.isTargetInShadow || Tn.Cursor.focusEndOfGeneric(n), setTimeout(function () {\n        return Mn.AutoScroll.scrollGeneric(e, n);\n      })), e.resetRecording(t);\n    }\n  }, {\n    key: \"checkIfMatchesSubstring\",\n    value: function checkIfMatchesSubstring(e, t) {\n      return t.includes(e);\n    }\n  }, {\n    key: \"checkIfMatchesWord\",\n    value: function checkIfMatchesWord(e, t, i) {\n      var n = e;\n      for (var r = i.length - 1; r >= 0; r -= 1) {\n        var o = r,\n          a = n.length - 1;\n        for (; i[o] === n[a] && a >= 0;) o -= 1, a -= 1;\n        if (a < 0) return !0;\n      }\n      return !1;\n    }\n    // prettier-ignore\n  }, {\n    key: \"execCommand\",\n    value: function execCommand(e, t, i, n, r) {\n      var o, a, l;\n      var c = e.commands;\n      if (!c || !n || !i) return;\n      var d = ((o = c.settings) === null || o === void 0 ? void 0 : o.caseSensitive) === !0 ? t : t.toLowerCase(),\n        u = Cn.Text.breakupIntoWordsArr(d),\n        p = ((a = c.settings) === null || a === void 0 ? void 0 : a.substrings) === !1 ? K.checkIfMatchesWord : K.checkIfMatchesSubstring;\n      if (c.commandMode && p(c.commandMode, d, u)) return e.setInterimColorToFinal(), setTimeout(function () {\n        return K.toggleCommandModeOn(e);\n      }), {\n        doNotProcessTranscription: !1\n      };\n      if (!(c.commandMode && !e.isWaitingForCommand)) {\n        if (c.stop && p(c.stop, d, u)) return K.toggleCommandModeOff(e), setTimeout(function () {\n          return e.stop();\n        }), {\n          doNotProcessTranscription: !1\n        };\n        if (c.pause && p(c.pause, d, u)) return K.toggleCommandModeOff(e), e.setInterimColorToFinal(), setTimeout(function () {\n          var h;\n          e.isPaused = !0, (h = e.onPauseTrigger) === null || h === void 0 || h.call(e, !0);\n        }), {\n          doNotProcessTranscription: !1\n        };\n        if (c.resume && p(c.resume, d, u)) return e.isPaused = !1, (l = e.onPauseTrigger) === null || l === void 0 || l.call(e, !1), K.toggleCommandModeOff(e), e.resetRecording(i), {\n          doNotProcessTranscription: !0\n        };\n        if (c.reset && p(c.reset, d, u)) return r !== void 0 && K.setText(e, i, r, n), {\n          doNotProcessTranscription: !0\n        };\n        if (c.removeAllText && p(c.removeAllText, d, u)) return K.setText(e, i, \"\", n), {\n          doNotProcessTranscription: !0\n        };\n      }\n    }\n  }]);\n  return K;\n}();\nCt.CommandUtils = K;\nvar di = {};\nObject.defineProperty(di, \"__esModule\", {\n  value: !0\n});\ndi.Highlight = void 0;\nvar da = je,\n  it = Fe;\nvar Wt = /*#__PURE__*/function () {\n  function Wt() {\n    _classCallCheck(this, Wt);\n  }\n  _createClass(Wt, null, [{\n    key: \"setStateForPrimitive\",\n    value: function setStateForPrimitive(e, t) {\n      var i, n;\n      t.selectionStart !== null && (i = t.selectionStart), t.selectionEnd !== null && (n = t.selectionEnd), e.isHighlighted = i !== n;\n    }\n  }, {\n    key: \"setStateForGeneric\",\n    value: function setStateForGeneric(e, t) {\n      var i = window.getSelection();\n      if (i != null && i.focusNode) {\n        var n = it.Cursor.getGenericElementCursorOffset(t, i, !0),\n          r = it.Cursor.getGenericElementCursorOffset(t, i, !1);\n        e.isHighlighted = n !== r;\n      }\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(e, t) {\n      document.activeElement === t && (da.Elements.isPrimitiveElement(t) ? Wt.setStateForPrimitive(e, t) : Wt.setStateForGeneric(e, t));\n    }\n  }, {\n    key: \"removeForGeneric\",\n    value: function removeForGeneric(e, t) {\n      var i = window.getSelection();\n      if (i) {\n        var n = it.Cursor.getGenericElementCursorOffset(t, i, !0);\n        i.deleteFromDocument(), it.Cursor.setOffsetForGeneric(t, n), e.isHighlighted = !1;\n      }\n    }\n  }, {\n    key: \"removeForPrimitive\",\n    value: function removeForPrimitive(e, t) {\n      var i = t.selectionStart,\n        n = t.selectionEnd,\n        r = t.value;\n      if (i && n) {\n        var o = r.substring(0, i) + r.substring(n);\n        t.value = o, it.Cursor.setOffsetForPrimitive(t, i, e.autoScroll);\n      }\n      e.isHighlighted = !1;\n    }\n  }]);\n  return Wt;\n}();\ndi.Highlight = Wt;\nvar ui = {};\nObject.defineProperty(ui, \"__esModule\", {\n  value: !0\n});\nui.Padding = void 0;\nvar ua = je,\n  An = Fe,\n  Ue = De;\nvar Kt = /*#__PURE__*/function () {\n  function Kt() {\n    _classCallCheck(this, Kt);\n  }\n  _createClass(Kt, null, [{\n    key: \"setStateForPrimitiveElement\",\n    value: function setStateForPrimitiveElement(e, t) {\n      if (document.activeElement === t && t.selectionStart !== null) {\n        var n = t.selectionStart,\n          r = t.value[n - 1],\n          o = t.selectionEnd === null ? n : t.selectionEnd,\n          a = t.value[o];\n        Ue.Text.isCharDefined(r) && (e.startPadding = \" \", e.numberOfSpacesBeforeNewText = 1), Ue.Text.isCharDefined(a) && (e.endPadding = \" \", e.numberOfSpacesAfterNewText = 1), e.isCursorAtEnd = t.value.length === o;\n        return;\n      }\n      var i = t.value[t.value.length - 1];\n      Ue.Text.isCharDefined(i) && (e.startPadding = \" \", e.numberOfSpacesBeforeNewText = 1), e.isCursorAtEnd = !0;\n    }\n  }, {\n    key: \"setStateForGenericElement\",\n    value: function setStateForGenericElement(e, t) {\n      var i, n, r;\n      if (document.activeElement === t) {\n        var a = window.getSelection();\n        if (a != null && a.focusNode) {\n          var l = An.Cursor.getGenericElementCursorOffset(t, a, !0),\n            c = (i = t.textContent) === null || i === void 0 ? void 0 : i[l - 1],\n            d = An.Cursor.getGenericElementCursorOffset(t, a, !1),\n            u = (n = t.textContent) === null || n === void 0 ? void 0 : n[d];\n          Ue.Text.isCharDefined(c) && (e.startPadding = \" \"), Ue.Text.isCharDefined(u) && (e.endPadding = \" \"), e.isCursorAtEnd = ((r = t.textContent) === null || r === void 0 ? void 0 : r.length) === d;\n          return;\n        }\n      }\n      var o = t.innerText.charAt(t.innerText.length - 1);\n      Ue.Text.isCharDefined(o) && (e.startPadding = \" \"), e.isCursorAtEnd = !0;\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(e, t) {\n      ua.Elements.isPrimitiveElement(t) ? Kt.setStateForPrimitiveElement(e, t) : Kt.setStateForGenericElement(e, t);\n    }\n  }, {\n    key: \"adjustStateAfterRecodingPrimitiveElement\",\n    value: function adjustStateAfterRecodingPrimitiveElement(e, t) {\n      if (e.primitiveTextRecorded = !0, e.insertInCursorLocation && document.activeElement === t && (t.selectionEnd !== null && (e.endPadding = e.endPadding + t.value.slice(t.selectionEnd)), t.selectionStart !== null)) {\n        e.startPadding = t.value.slice(0, t.selectionStart) + e.startPadding;\n        return;\n      }\n      e.startPadding = t.value + e.startPadding;\n    }\n  }, {\n    key: \"adjustSateForNoTextPrimitiveElement\",\n    value: function adjustSateForNoTextPrimitiveElement(e) {\n      e.numberOfSpacesBeforeNewText === 1 && (e.startPadding = e.startPadding.substring(0, e.startPadding.length - 1), e.numberOfSpacesBeforeNewText = 0), e.numberOfSpacesAfterNewText === 1 && (e.endPadding = e.endPadding.substring(1), e.numberOfSpacesAfterNewText = 0);\n    }\n  }]);\n  return Kt;\n}();\nui.Padding = Kt;\nObject.defineProperty(Tt, \"__esModule\", {\n  value: !0\n});\nTt.Speech = void 0;\nvar kn = li,\n  ha = ci,\n  In = Ct,\n  Rt = At,\n  Ti = di,\n  ie = je,\n  Ci = ui,\n  Ln = tt,\n  Rn = Fe,\n  Ai = De;\nvar pa = /*#__PURE__*/function () {\n  function pa() {\n    _classCallCheck(this, pa);\n    this.finalTranscript = \"\", this.interimSpan = ie.Elements.createInterimSpan(), this.finalSpan = ie.Elements.createGenericSpan(), this.scrollingSpan = ie.Elements.createGenericSpan(), this.isCursorAtEnd = !1, this.spansPopulated = !1, this.startPadding = \"\", this.endPadding = \"\", this.numberOfSpacesBeforeNewText = 0, this.numberOfSpacesAfterNewText = 0, this.isHighlighted = !1, this.primitiveTextRecorded = !1, this.recognizing = !1, this._displayInterimResults = !0, this.insertInCursorLocation = !0, this.autoScroll = !0, this.isRestarting = !1, this.isPaused = !1, this.isWaitingForCommand = !1, this.isTargetInShadow = !1, this.cannotBeStopped = !1, this.resetState();\n  }\n  _createClass(pa, [{\n    key: \"prepareBeforeStart\",\n    value: function prepareBeforeStart(e) {\n      var t, i;\n      if (e != null && e.element) if (kn.EventListeners.add(this, e), Array.isArray(e.element)) {\n        var r = e.element.find(function (o) {\n          return o === document.activeElement;\n        }) || e.element[0];\n        if (!r) return;\n        this.prepare(r);\n      } else this.prepare(e.element);\n      (e == null ? void 0 : e.displayInterimResults) !== void 0 && (this._displayInterimResults = e.displayInterimResults), e != null && e.textColor && (this._finalTextColor = (t = e == null ? void 0 : e.textColor) === null || t === void 0 ? void 0 : t[\"final\"], ie.Elements.applyCustomColors(this, e.textColor)), (e == null ? void 0 : e.insertInCursorLocation) !== void 0 && (this.insertInCursorLocation = e.insertInCursorLocation), (e == null ? void 0 : e.autoScroll) !== void 0 && (this.autoScroll = e.autoScroll), this._onResult = e == null ? void 0 : e.onResult, this._onPreResult = e == null ? void 0 : e.onPreResult, this._onStart = e == null ? void 0 : e.onStart, this._onStop = e == null ? void 0 : e.onStop, this._onError = e == null ? void 0 : e.onError, this.onCommandModeTrigger = e == null ? void 0 : e.onCommandModeTrigger, this.onPauseTrigger = e == null ? void 0 : e.onPauseTrigger, this._options = e, !((i = this._options) === null || i === void 0) && i.commands && (this.commands = In.CommandUtils.process(this._options.commands));\n    }\n  }, {\n    key: \"prepare\",\n    value: function prepare(e) {\n      Ci.Padding.setState(this, e), Ti.Highlight.setState(this, e), this.isTargetInShadow = ie.Elements.isInsideShadowDOM(e), ie.Elements.isPrimitiveElement(e) ? (this._primitiveElement = e, this._originalText = this._primitiveElement.value) : (this._genericElement = e, this._originalText = this._genericElement.textContent);\n    }\n    // there was an attempt to optimize this by not having to restart the service and just reset state:\n    // unfortunately it did not work because the service would still continue firing the intermediate and final results\n    // into the new position\n  }, {\n    key: \"resetRecording\",\n    value: function resetRecording(e) {\n      this.isRestarting = !0, this.stop(!0), this.resetState(!0), this.start(e, !0);\n    }\n    // prettier-ignore\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(e, t, i) {\n      var n;\n      var r = Ai.Text.capitalize(t);\n      if (this.finalTranscript === r && e === \"\") return;\n      ha.PreResultUtils.process(this, i, e === \"\", this._onPreResult, this._options) && (e = \"\", i = \"\");\n      var o = this.commands && In.CommandUtils.execCommand(this, i, this._options, this._primitiveElement || this._genericElement, this._originalText);\n      if (o) {\n        if (o.doNotProcessTranscription) return;\n        e = \"\", i = \"\";\n      }\n      if (this.isPaused || this.isWaitingForCommand) return;\n      (n = this._onResult) === null || n === void 0 || n.call(this, i, e === \"\"), this.finalTranscript = r, this._displayInterimResults || (e = \"\");\n      var a = this.finalTranscript === \"\" && e === \"\";\n      this._primitiveElement ? this.updatePrimitiveElement(this._primitiveElement, e, a) : this._genericElement && this.updateGenericElement(this._genericElement, e, a);\n    }\n    // prettier-ignore\n    // remember that padding values here contain actual text left and right\n  }, {\n    key: \"updatePrimitiveElement\",\n    value: function updatePrimitiveElement(e, t, i) {\n      this.isHighlighted && Ti.Highlight.removeForPrimitive(this, e), this.primitiveTextRecorded || Ci.Padding.adjustStateAfterRecodingPrimitiveElement(this, e), i && Ci.Padding.adjustSateForNoTextPrimitiveElement(this);\n      var n = this.startPadding + this.finalTranscript + t;\n      if (e.value = n + this.endPadding, !this.isTargetInShadow) {\n        var r = n.length + this.numberOfSpacesAfterNewText;\n        Rn.Cursor.setOffsetForPrimitive(e, r, this.autoScroll);\n      }\n      this.autoScroll && Ln.Browser.IS_SAFARI() && this.isCursorAtEnd && Rt.AutoScroll.scrollSafariPrimitiveToEnd(e);\n    }\n  }, {\n    key: \"updateGenericElement\",\n    value: function updateGenericElement(e, t, i) {\n      this.isHighlighted && Ti.Highlight.removeForGeneric(this, e), this.spansPopulated || ie.Elements.appendSpans(this, e);\n      var n = (i ? \"\" : this.startPadding) + Ai.Text.lineBreak(this.finalTranscript);\n      this.finalSpan.innerHTML = n;\n      var r = Rt.AutoScroll.isRequired(this.autoScroll, e);\n      Rt.AutoScroll.changeStateIfNeeded(this, r);\n      var o = Ai.Text.lineBreak(t) + (i ? \"\" : this.endPadding);\n      this.interimSpan.innerHTML = o, Ln.Browser.IS_SAFARI() && this.insertInCursorLocation && Rn.Cursor.setOffsetForSafariGeneric(e, n.length + o.length), r && Rt.AutoScroll.scrollGeneric(this, e), i && (this.scrollingSpan.innerHTML = \"\");\n    }\n  }, {\n    key: \"finalise\",\n    value: function finalise(e) {\n      this._genericElement && (e ? (this.finalSpan = ie.Elements.createGenericSpan(), this.setInterimColorToFinal(), this.interimSpan = ie.Elements.createInterimSpan(), this.scrollingSpan = ie.Elements.createGenericSpan()) : this._genericElement.textContent = this._genericElement.textContent, this.spansPopulated = !1), kn.EventListeners.remove(this);\n    }\n  }, {\n    key: \"setInterimColorToFinal\",\n    value: function setInterimColorToFinal() {\n      this.interimSpan.style.color = this._finalTextColor || \"black\";\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState(e) {\n      this._primitiveElement = void 0, this._genericElement = void 0, this.finalTranscript = \"\", this.finalSpan.innerHTML = \"\", this.interimSpan.innerHTML = \"\", this.scrollingSpan.innerHTML = \"\", this.startPadding = \"\", this.endPadding = \"\", this.isHighlighted = !1, this.primitiveTextRecorded = !1, this.numberOfSpacesBeforeNewText = 0, this.numberOfSpacesAfterNewText = 0, e || (this.stopTimeout = void 0);\n    }\n  }, {\n    key: \"setStateOnStart\",\n    value: function setStateOnStart() {\n      var e;\n      this.recognizing = !0, this.isRestarting ? this.isRestarting = !1 : (e = this._onStart) === null || e === void 0 || e.call(this);\n    }\n  }, {\n    key: \"setStateOnStop\",\n    value: function setStateOnStop() {\n      var e;\n      this.recognizing = !1, this.isRestarting || (e = this._onStop) === null || e === void 0 || e.call(this);\n    }\n  }, {\n    key: \"setStateOnError\",\n    value: function setStateOnError(e) {\n      var t;\n      (t = this._onError) === null || t === void 0 || t.call(this, e), this.recognizing = !1;\n    }\n  }]);\n  return pa;\n}();\nTt.Speech = pa;\nObject.defineProperty(oi, \"__esModule\", {\n  value: !0\n});\noi.WebSpeech = void 0;\nvar On = ai,\n  Nn = tt,\n  fa = Tt;\nvar Jt = /*#__PURE__*/function (_fa$Speech) {\n  _inherits(Jt, _fa$Speech);\n  var _super41 = _createSuper(Jt);\n  function Jt() {\n    _classCallCheck(this, Jt);\n    return _super41.call(this);\n  }\n  _createClass(Jt, [{\n    key: \"start\",\n    value: function start(e) {\n      var t;\n      this._extractText === void 0 && (this._extractText = Nn.Browser.IS_SAFARI() ? On.WebSpeechTranscript.extractSafari : On.WebSpeechTranscript.extract), this.validate() && (this.prepareBeforeStart(e), this.instantiateService(e), (t = this._service) === null || t === void 0 || t.start(), this._translations = e == null ? void 0 : e.translations);\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      return Jt.getAPI() ? !0 : (this.error(\"Speech Recognition is unsupported\"), !1);\n    }\n  }, {\n    key: \"instantiateService\",\n    value: function instantiateService(e) {\n      var t, i;\n      var n = Jt.getAPI();\n      this._service = new n(), this._service.continuous = !0, this._service.interimResults = (t = e == null ? void 0 : e.displayInterimResults) !== null && t !== void 0 ? t : !0, this._service.lang = ((i = e == null ? void 0 : e.language) === null || i === void 0 ? void 0 : i.trim()) || \"en-US\", this.setEvents();\n    }\n  }, {\n    key: \"setEvents\",\n    value: function setEvents() {\n      var _this53 = this;\n      this._service && (this._service.onstart = function () {\n        _this53.setStateOnStart();\n      }, this._service.onerror = function (e) {\n        Nn.Browser.IS_SAFARI() && e.message === \"Another request is started\" || e.error === \"aborted\" && _this53.isRestarting || e.error !== \"no-speech\" && _this53.error(e.message || e.error);\n      }, this._service.onaudioend = function () {\n        _this53.setStateOnStop();\n      }, this._service.onend = function () {\n        _this53._stopping = !1;\n      }, this._service.onresult = function (e) {\n        if (_typeof(e.results) > \"u\" && _this53._service) _this53._service.onend = null, _this53._service.stop();else if (_this53._extractText && !_this53._stopping) {\n          var _this53$_extractText = _this53._extractText(e, _this53.finalTranscript, _this53._translations),\n            t = _this53$_extractText.interimTranscript,\n            _i17 = _this53$_extractText.finalTranscript,\n            n = _this53$_extractText.newText;\n          _this53.updateElements(t, _i17, n);\n        }\n      });\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(e) {\n      var t;\n      this._stopping = !0, (t = this._service) === null || t === void 0 || t.stop(), this.finalise(e);\n    }\n  }, {\n    key: \"error\",\n    value: function error(e) {\n      console.error(e), this.setStateOnError(e), this.stop();\n    }\n  }], [{\n    key: \"getAPI\",\n    value: function getAPI() {\n      return window.webkitSpeechRecognition || window.SpeechRecognition;\n    }\n  }]);\n  return Jt;\n}(fa.Speech);\noi.WebSpeech = Jt;\nvar hi = {};\nObject.defineProperty(hi, \"__esModule\", {\n  value: !0\n});\nhi.GlobalState = void 0;\nvar $e = /*#__PURE__*/function () {\n  function $e() {\n    _classCallCheck(this, $e);\n  }\n  _createClass($e, null, [{\n    key: \"doubleClickDetector\",\n    value: function doubleClickDetector() {\n      return $e.doubleClickPending ? !0 : ($e.doubleClickPending = !0, setTimeout(function () {\n        $e.doubleClickPending = !1;\n      }, 300), !1);\n    }\n  }]);\n  return $e;\n}();\nhi.GlobalState = $e;\n$e.doubleClickPending = !1;\nvar pi = {},\n  fi = {};\nObject.defineProperty(fi, \"__esModule\", {\n  value: !0\n});\nfi.PreventConnectionStop = void 0;\nvar ma = /*#__PURE__*/function () {\n  function ma() {\n    _classCallCheck(this, ma);\n  }\n  _createClass(ma, null, [{\n    key: \"applyPrevention\",\n    value: function applyPrevention(e) {\n      clearTimeout(e._manualConnectionStopPrevention), e.cannotBeStopped = !0, e._manualConnectionStopPrevention = setTimeout(function () {\n        e.cannotBeStopped = !1;\n      }, 800);\n    }\n  }, {\n    key: \"clearPrevention\",\n    value: function clearPrevention(e) {\n      clearTimeout(e._manualConnectionStopPrevention), e.cannotBeStopped = !1;\n    }\n  }]);\n  return ma;\n}();\nfi.PreventConnectionStop = ma;\nvar mi = {},\n  gi = {};\nObject.defineProperty(gi, \"__esModule\", {\n  value: !0\n});\ngi.README_URL = void 0;\ngi.README_URL = \"https://github.com/OvidijusParsiunas/speech-to-element\";\nObject.defineProperty(mi, \"__esModule\", {\n  value: !0\n});\nmi.AzureSpeechConfig = void 0;\nvar ki = gi;\nvar $t = /*#__PURE__*/function () {\n  function $t() {\n    _classCallCheck(this, $t);\n  }\n  _createClass($t, null, [{\n    key: \"validateOptions\",\n    value: function validateOptions(e, t) {\n      return t ? !t.subscriptionKey && !t.token && !t.retrieveToken ? (e(\"Please define a 'subscriptionKey', 'token' or 'retrieveToken' property - more info: \".concat(ki.README_URL)), !1) : t.region ? !0 : (e(\"Please define a 'region' property - more info: \".concat(ki.README_URL)), !1) : (e(\"Please provide subscription details - more info: \".concat(ki.README_URL)), !1);\n    }\n  }, {\n    key: \"getNewSpeechConfig\",\n    value: function () {\n      var _getNewSpeechConfig = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee96(e, t) {\n        return _regeneratorRuntime().wrap(function _callee96$(_context96) {\n          while (1) switch (_context96.prev = _context96.next) {\n            case 0:\n              if (!t.region) {\n                _context96.next = 2;\n                break;\n              }\n              return _context96.abrupt(\"return\", t.subscriptionKey ? e.fromSubscription(t.subscriptionKey.trim(), t.region.trim()) : t.token ? e.fromAuthorizationToken(t.token.trim(), t.region.trim()) : t.retrieveToken ? t.retrieveToken().then(function (i) {\n                return t.region ? e.fromAuthorizationToken((i == null ? void 0 : i.trim()) || \"\", t.region.trim()) : null;\n              })[\"catch\"](function (i) {\n                return console.error(i), null;\n              }) : null);\n            case 2:\n            case \"end\":\n              return _context96.stop();\n          }\n        }, _callee96);\n      }));\n      function getNewSpeechConfig(_x176, _x177) {\n        return _getNewSpeechConfig.apply(this, arguments);\n      }\n      return getNewSpeechConfig;\n    }()\n  }, {\n    key: \"process\",\n    value: function process(e, t) {\n      t.language && (e.speechRecognitionLanguage = t.language.trim());\n    }\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee97(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee97$(_context97) {\n          while (1) switch (_context97.prev = _context97.next) {\n            case 0:\n              _context97.next = 2;\n              return $t.getNewSpeechConfig(e, t);\n            case 2:\n              i = _context97.sent;\n              return _context97.abrupt(\"return\", (i && $t.process(i, t), i));\n            case 4:\n            case \"end\":\n              return _context97.stop();\n          }\n        }, _callee97);\n      }));\n      function get(_x178, _x179) {\n        return _get.apply(this, arguments);\n      }\n      return get;\n    }()\n  }]);\n  return $t;\n}();\nmi.AzureSpeechConfig = $t;\nvar bi = {};\nObject.defineProperty(bi, \"__esModule\", {\n  value: !0\n});\nbi.StopTimeout = void 0;\nvar vt = /*#__PURE__*/function () {\n  function vt() {\n    _classCallCheck(this, vt);\n  }\n  _createClass(vt, null, [{\n    key: \"set\",\n    value: function set(e) {\n      e.stopTimeout = setTimeout(function () {\n        return e.stop();\n      }, e.stopTimeoutMS);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(e, t) {\n      e.stopTimeoutMS = t || vt.DEFAULT_MS, e.stopTimeout && clearTimeout(e.stopTimeout), vt.set(e);\n    }\n  }]);\n  return vt;\n}();\nbi.StopTimeout = vt;\nvt.DEFAULT_MS = 2e4;\nvar vi = {};\nObject.defineProperty(vi, \"__esModule\", {\n  value: !0\n});\nvi.AzureTranscript = void 0;\nvar ga = Mt;\nvar ba = /*#__PURE__*/function () {\n  function ba() {\n    _classCallCheck(this, ba);\n  }\n  _createClass(ba, null, [{\n    key: \"extract\",\n    value:\n    // newText is used to only send new text in onResult as finalTranscript is continuously accumulated\n    function extract(e, t, i, n) {\n      return n && (e = ga.Translate.translate(e, n)), i ? {\n        interimTranscript: \"\",\n        finalTranscript: t + e,\n        newText: e\n      } : {\n        interimTranscript: e,\n        finalTranscript: t,\n        newText: e\n      };\n    }\n  }]);\n  return ba;\n}();\nvi.AzureTranscript = ba;\nObject.defineProperty(pi, \"__esModule\", {\n  value: !0\n});\npi.Azure = void 0;\nvar Pn = fi,\n  Dn = mi,\n  Ii = bi,\n  jn = vi,\n  va = Tt;\nvar Yt = /*#__PURE__*/function (_va$Speech) {\n  _inherits(Yt, _va$Speech);\n  var _super42 = _createSuper(Yt);\n  function Yt() {\n    var _this54;\n    _classCallCheck(this, Yt);\n    _this54 = _super42.apply(this, arguments), _this54._newTextPadding = \"\";\n    return _this54;\n  }\n  _createClass(Yt, [{\n    key: \"start\",\n    value: function start(e, t) {\n      this._newTextPadding = \"\", this.stopTimeout === void 0 && Ii.StopTimeout.reset(this, e == null ? void 0 : e.stopAfterSilenceMs), this.prepareBeforeStart(e), this.startAsync(e), t || Pn.PreventConnectionStop.applyPrevention(this);\n    }\n  }, {\n    key: \"startAsync\",\n    value: function () {\n      var _startAsync = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee98(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee98$(_context98) {\n          while (1) switch (_context98.prev = _context98.next) {\n            case 0:\n              _context98.t0 = this.validate(e);\n              if (!_context98.t0) {\n                _context98.next = 6;\n                break;\n              }\n              _context98.next = 4;\n              return this.instantiateService(e);\n            case 4:\n              this._translations = e == null ? void 0 : e.translations;\n              (t = this._service) === null || t === void 0 || t.startContinuousRecognitionAsync(function () {}, this.error);\n            case 6:\n            case \"end\":\n              return _context98.stop();\n          }\n        }, _callee98, this);\n      }));\n      function startAsync(_x180) {\n        return _startAsync.apply(this, arguments);\n      }\n      return startAsync;\n    }()\n  }, {\n    key: \"validate\",\n    value: function validate(e) {\n      return Yt.getAPI() ? Dn.AzureSpeechConfig.validateOptions(this.error.bind(this), e) : (this.moduleNotFound(), !1);\n    }\n  }, {\n    key: \"instantiateService\",\n    value: function () {\n      var _instantiateService = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee99(e) {\n        var t, i, n, r;\n        return _regeneratorRuntime().wrap(function _callee99$(_context99) {\n          while (1) switch (_context99.prev = _context99.next) {\n            case 0:\n              t = Yt.getAPI();\n              i = t.AudioConfig.fromDefaultMicrophoneInput();\n              _context99.next = 4;\n              return Dn.AzureSpeechConfig.get(t.SpeechConfig, e);\n            case 4:\n              n = _context99.sent;\n              if (n) {\n                r = new t.SpeechRecognizer(n, i);\n                this.setEvents(r), this._service = r, e.retrieveToken && this.retrieveTokenInterval(e.retrieveToken);\n              } else this.error(\"Unable to contact Azure server\");\n            case 6:\n            case \"end\":\n              return _context99.stop();\n          }\n        }, _callee99, this);\n      }));\n      function instantiateService(_x181) {\n        return _instantiateService.apply(this, arguments);\n      }\n      return instantiateService;\n    }()\n  }, {\n    key: \"setEvents\",\n    value: function setEvents(e) {\n      e.recognizing = this.onRecognizing.bind(this), e.recognized = this.onRecognized.bind(this), e.sessionStarted = this.onSessionStarted.bind(this), e.canceled = this.onCanceled.bind(this), e.sessionStopped = this.onSessionStopped.bind(this);\n    }\n    // prettier-ignore\n  }, {\n    key: \"onRecognizing\",\n    value: function onRecognizing(e, t) {\n      if (this._stopping) return;\n      var _jn$AzureTranscript$e = jn.AzureTranscript.extract(this._newTextPadding + t.result.text, this.finalTranscript, !1, this._translations),\n        i = _jn$AzureTranscript$e.interimTranscript,\n        n = _jn$AzureTranscript$e.finalTranscript,\n        r = _jn$AzureTranscript$e.newText;\n      Ii.StopTimeout.reset(this, this.stopTimeoutMS), this.updateElements(i, n, r);\n    }\n    // WORK - huge opportunity to fix this in the repo!!!!!\n    //   function onRecognized(sender, recognitionEventArgs) {\n    //     var result = recognitionEventArgs.result;\n    //     onRecognizedResult(recognitionEventArgs.result);\n    // }\n    // prettier-ignore\n  }, {\n    key: \"onRecognized\",\n    value: function onRecognized(e, t) {\n      var i = t.result;\n      switch (i.reason) {\n        case window.SpeechSDK.ResultReason.Canceled:\n          break;\n        case window.SpeechSDK.ResultReason.RecognizedSpeech:\n          if (i.text && !this._stopping) {\n            var _jn$AzureTranscript$e2 = jn.AzureTranscript.extract(this._newTextPadding + i.text, this.finalTranscript, !0, this._translations),\n              n = _jn$AzureTranscript$e2.interimTranscript,\n              r = _jn$AzureTranscript$e2.finalTranscript,\n              o = _jn$AzureTranscript$e2.newText;\n            Ii.StopTimeout.reset(this, this.stopTimeoutMS), this.updateElements(n, r, o), r !== \"\" && (this._newTextPadding = \" \");\n          }\n          break;\n      }\n    }\n  }, {\n    key: \"onCanceled\",\n    value: function onCanceled(e, t) {\n      t.reason === window.SpeechSDK.CancellationReason.Error && this.error(t.errorDetails);\n    }\n  }, {\n    key: \"onSessionStarted\",\n    value: function onSessionStarted() {\n      Pn.PreventConnectionStop.clearPrevention(this), this.setStateOnStart();\n    }\n  }, {\n    key: \"onSessionStopped\",\n    value: function onSessionStopped() {\n      this._retrieveTokenInterval || clearInterval(this._retrieveTokenInterval), this._stopping = !1, this.setStateOnStop();\n    }\n  }, {\n    key: \"retrieveTokenInterval\",\n    value: function retrieveTokenInterval(e) {\n      var _this55 = this;\n      this._retrieveTokenInterval = setInterval(function () {\n        e == null || e().then(function (t) {\n          _this55._service && (_this55._service.authorizationToken = (t == null ? void 0 : t.trim()) || \"\");\n        })[\"catch\"](function (t) {\n          _this55.error(t);\n        });\n      }, 1e4);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(e) {\n      var t;\n      !e && this._retrieveTokenInterval && clearInterval(this._retrieveTokenInterval), this._stopping = !0, (t = this._service) === null || t === void 0 || t.stopContinuousRecognitionAsync(), this.finalise(e);\n    }\n  }, {\n    key: \"moduleNotFound\",\n    value: function moduleNotFound() {\n      console.error(\"speech recognition module not found:\"), console.error(\"please install the 'microsoft-cognitiveservices-speech-sdk' npm package or add a script tag: <script src=\\\"https://aka.ms/csspeech/jsbrowserpackageraw\\\"></script>\"), this.setStateOnError(\"speech recognition module not found\");\n    }\n  }, {\n    key: \"error\",\n    value: function error(e) {\n      this._retrieveTokenInterval && clearInterval(this._retrieveTokenInterval), console.error(e), this.setStateOnError(e), this.stop();\n    }\n  }], [{\n    key: \"getAPI\",\n    value: function getAPI() {\n      return window.SpeechSDK;\n    }\n  }]);\n  return Yt;\n}(va.Speech);\npi.Azure = Yt;\nObject.defineProperty(ms, \"__esModule\", {\n  value: !0\n});\nvar Fn = oi,\n  ya = Ct,\n  ee = hi,\n  xa = pi;\nvar We = /*#__PURE__*/function () {\n  function We() {\n    _classCallCheck(this, We);\n  }\n  _createClass(We, null, [{\n    key: \"toggle\",\n    value: function toggle(e, t) {\n      var i, n;\n      var r = e.toLocaleLowerCase().trim();\n      !((i = ee.GlobalState.service) === null || i === void 0) && i.recognizing ? this.stop() : r === \"webspeech\" ? We.startWebSpeech(t) : r === \"azure\" ? We.startAzure(t) : (console.error(\"service not found - must be either 'webspeech' or 'azure'\"), (n = t == null ? void 0 : t.onError) === null || n === void 0 || n.call(t, \"service not found - must be either 'webspeech' or 'azure'\"));\n    }\n  }, {\n    key: \"startWebSpeech\",\n    value: function startWebSpeech(e) {\n      We.stop() || (ee.GlobalState.service = new Fn.WebSpeech(), ee.GlobalState.service.start(e));\n    }\n  }, {\n    key: \"isWebSpeechSupported\",\n    value: function isWebSpeechSupported() {\n      return !!Fn.WebSpeech.getAPI();\n    }\n  }, {\n    key: \"startAzure\",\n    value: function startAzure(e) {\n      var t;\n      We.stop() || !((t = ee.GlobalState.service) === null || t === void 0) && t.cannotBeStopped || (ee.GlobalState.service = new xa.Azure(), ee.GlobalState.service.start(e));\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var e;\n      return ee.GlobalState.doubleClickDetector() ? !0 : (!((e = ee.GlobalState.service) === null || e === void 0) && e.recognizing && ee.GlobalState.service.stop(), !1);\n    }\n  }, {\n    key: \"endCommandMode\",\n    value: function endCommandMode() {\n      ee.GlobalState.service && ya.CommandUtils.toggleCommandModeOff(ee.GlobalState.service);\n    }\n  }]);\n  return We;\n}();\nvar Li = ms[\"default\"] = We;\nvar Zt = /*#__PURE__*/function (_bt) {\n  _inherits(Zt, _bt);\n  var _super43 = _createSuper(Zt);\n  function Zt(e, t, i) {\n    var _this56;\n    _classCallCheck(this, Zt);\n    var o;\n    _this56 = _super43.call(this, _typeof(e.speechToText) == \"object\" ? (o = e.speechToText) == null ? void 0 : o.button : {});\n    var _Zt$processConfigurat = Zt.processConfiguration(t, e.speechToText),\n      n = _Zt$processConfigurat.serviceName,\n      r = _Zt$processConfigurat.processedConfig;\n    if (_this56._addErrorMessage = i, n === \"webspeech\" && !Li.isWebSpeechSupported()) _this56.changeToUnsupported();else {\n      var a = !e.textInput || !e.textInput.disabled;\n      _this56.elementRef.onclick = _this56.buttonClick.bind(_assertThisInitialized(_this56), t, a, n, r);\n    }\n    return _this56;\n  }\n  // prettier-ignore\n  _createClass(Zt, [{\n    key: \"buttonClick\",\n    value: function buttonClick(e, t, i, n) {\n      e.removeTextIfPlaceholder(), Li.toggle(i, _objectSpread({\n        insertInCursorLocation: !1,\n        element: t ? e.inputElementRef : void 0,\n        onError: this.onError.bind(this),\n        onStart: this.changeToActive.bind(this),\n        onStop: this.changeToDefault.bind(this),\n        onCommandModeTrigger: this.onCommandModeTrigger.bind(this)\n      }, n));\n    }\n  }, {\n    key: \"onCommandModeTrigger\",\n    value: function onCommandModeTrigger(e) {\n      e ? this.changeToCommandMode() : this.changeToActive();\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this._addErrorMessage(\"speechToText\", \"speech input error\");\n    }\n  }], [{\n    key: \"processConfiguration\",\n    value: function processConfiguration(e, t) {\n      var _i$displayInterimResu, _i$textColor, _i$translations, _i$commands;\n      var c;\n      var i = _typeof(t) == \"object\" ? t : {},\n        n = _typeof(i.webSpeech) == \"object\" ? i.webSpeech : {},\n        r = i.azure || {},\n        o = _objectSpread(_objectSpread({\n          displayInterimResults: (_i$displayInterimResu = i.displayInterimResults) !== null && _i$displayInterimResu !== void 0 ? _i$displayInterimResu : void 0,\n          textColor: (_i$textColor = i.textColor) !== null && _i$textColor !== void 0 ? _i$textColor : void 0,\n          translations: (_i$translations = i.translations) !== null && _i$translations !== void 0 ? _i$translations : void 0,\n          commands: (_i$commands = i.commands) !== null && _i$commands !== void 0 ? _i$commands : void 0\n        }, n), r),\n        a = (c = i.commands) == null ? void 0 : c.submit;\n      return a && (o.onPreResult = function (d) {\n        return d.toLowerCase().includes(a) ? (setTimeout(function () {\n          var u;\n          return (u = e.submit) == null ? void 0 : u.call(e);\n        }), Li.endCommandMode(), {\n          restart: !0,\n          removeNewText: !0\n        }) : null;\n      }), {\n        serviceName: Zt.getServiceName(i),\n        processedConfig: o\n      };\n    }\n  }, {\n    key: \"getServiceName\",\n    value: function getServiceName(e) {\n      return e.webSpeech ? \"webspeech\" : e.azure ? \"azure\" : \"webspeech\";\n    }\n  }]);\n  return Zt;\n}(bt);\nvar gs = /*#__PURE__*/function () {\n  function gs() {\n    _classCallCheck(this, gs);\n  }\n  _createClass(gs, null, [{\n    key: \"getFileName\",\n    value: function getFileName(e, t) {\n      var i = /* @__PURE__ */new Date(),\n        n = String(i.getHours()).padStart(2, \"0\"),\n        r = String(i.getMinutes()).padStart(2, \"0\"),\n        o = String(i.getSeconds()).padStart(2, \"0\");\n      return \"\".concat(e, \"-\").concat(n, \"-\").concat(r, \"-\").concat(o, \".\").concat(t);\n    }\n  }]);\n  return gs;\n}();\nvar Ea = /*#__PURE__*/function (_bt2) {\n  _inherits(Ea, _bt2);\n  var _super44 = _createSuper(Ea);\n  function Ea(e, t) {\n    var _this57;\n    _classCallCheck(this, Ea);\n    var i, n;\n    _this57 = _super44.call(this, t.button), _this57._waitingForBrowserApproval = !1, _this57._audioType = e, _this57._extension = ((i = t.files) == null ? void 0 : i.format) || \"mp3\", _this57._maxDurationSeconds = (n = t.files) == null ? void 0 : n.maxDurationSeconds, _this57.elementRef.onclick = _this57.buttonClick.bind(_assertThisInitialized(_this57));\n    return _this57;\n  }\n  _createClass(Ea, [{\n    key: \"buttonClick\",\n    value: function buttonClick() {\n      this._waitingForBrowserApproval || (this.isActive ? this.stop() : (this._waitingForBrowserApproval = !0, this.record()));\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var _this58 = this;\n      return new Promise(function (e) {\n        var t, i;\n        _this58.changeToDefault(), (t = _this58._mediaRecorder) == null || t.stop(), (i = _this58._mediaStream) == null || i.getTracks().forEach(function (n) {\n          return n.stop();\n        }), setTimeout(function () {\n          e();\n        }, 10);\n      });\n    }\n  }, {\n    key: \"record\",\n    value: function record() {\n      var _this59 = this;\n      navigator.mediaDevices.getUserMedia({\n        audio: !0\n      }).then(function (e) {\n        _this59.changeToActive(), _this59._mediaRecorder = new MediaRecorder(e), _this59._audioType.addPlaceholderAttachment(_this59.stop.bind(_this59), _this59._maxDurationSeconds), _this59._mediaStream = e, _this59._mediaRecorder.addEventListener(\"dataavailable\", function (t) {\n          _this59.createFile(t);\n        }), _this59._mediaRecorder.start();\n      })[\"catch\"](function (e) {\n        console.error(e), _this59.stop();\n      })[\"finally\"](function () {\n        _this59._waitingForBrowserApproval = !1;\n      });\n    }\n  }, {\n    key: \"createFile\",\n    value: function createFile(e) {\n      var _this60 = this;\n      var t = new Blob([e.data], {\n          type: \"audio/\".concat(this._extension)\n        }),\n        i = gs.getFileName(this._newFilePrefix || \"audio\", this._extension),\n        n = new File([t], i, {\n          type: t.type\n        }),\n        r = new FileReader();\n      r.readAsDataURL(n), r.onload = function (o) {\n        _this60._audioType.completePlaceholderAttachment(n, o.target.result);\n      };\n    }\n  }]);\n  return Ea;\n}(bt);\nvar Sa = \"<?xml version=\\\"1.0\\\" standalone=\\\"no\\\"?>\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.0//EN\\\" \\\"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\\\">\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-width=\\\"1\\\" viewBox=\\\"0 0 24 24\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n  <line x1=\\\"22\\\" y1=\\\"2\\\" x2=\\\"11\\\" y2=\\\"14\\\"></line>\\n  <polygon points=\\\"22 2 15 22 11 14 2 10 22 2\\\"></polygon>\\n</svg>\\n\";\nvar B = /*#__PURE__*/function () {\n  function B() {\n    _classCallCheck(this, B);\n  }\n  _createClass(B, null, [{\n    key: \"setPropertyValueIfDoesNotExist\",\n    value: function setPropertyValueIfDoesNotExist(e, t, i) {\n      var _e$n, _e$n2;\n      var n = t[0];\n      t.length === 1 ? (_e$n = e[n]) !== null && _e$n !== void 0 ? _e$n : e[n] = i : ((_e$n2 = e[n]) !== null && _e$n2 !== void 0 ? _e$n2 : e[n] = {}, t.shift(), B.setPropertyValueIfDoesNotExist(e[n], t, i));\n    }\n  }, {\n    key: \"setPropertyValue\",\n    value: function setPropertyValue(e, t, i) {\n      var _e$n3;\n      var n = t[0];\n      t.length === 1 ? e[n] = i : ((_e$n3 = e[n]) !== null && _e$n3 !== void 0 ? _e$n3 : e[n] = {}, t.shift(), B.setPropertyValue(e[n], t, i));\n    }\n  }, {\n    key: \"getObjectValue\",\n    value: function getObjectValue(e, t) {\n      var i = t[0],\n        n = e[i];\n      return n === void 0 || t.length === 1 ? n : B.getObjectValue(n, t.slice(1));\n    }\n  }, {\n    key: \"overwritePropertyObjectFromAnother\",\n    value: function overwritePropertyObjectFromAnother(e, t, i) {\n      var n = B.getObjectValue(t, i);\n      if (n) {\n        var r = _objectSpread(_objectSpread({}, n), B.getObjectValue(e, i) || {});\n        B.setPropertyValue(e, i, r);\n      }\n    }\n  }]);\n  return B;\n}();\nvar Ce = /*#__PURE__*/function () {\n  function Ce() {\n    _classCallCheck(this, Ce);\n  }\n  _createClass(Ce, null, [{\n    key: \"resetSubmit\",\n    value: function resetSubmit(e, t) {\n      t ? e.unsetCustomStateStyles([\"loading\", \"submit\"]) : e.unsetCustomStateStyles([\"stop\", \"loading\", \"submit\"]), e.reapplyStateStyle(\"submit\");\n    }\n  }, {\n    key: \"overwriteDefaultStyleWithSubmit\",\n    value: function overwriteDefaultStyleWithSubmit(e, t) {\n      if (!e.submit) return;\n      var i = JSON.parse(JSON.stringify(e[t] || {}));\n      B.overwritePropertyObjectFromAnother(i, e.submit, [\"container\", \"default\"]), B.overwritePropertyObjectFromAnother(i, e.submit, [\"text\", \"styles\", \"default\"]), B.overwritePropertyObjectFromAnother(i, e.submit, [\"svg\", \"styles\", \"default\"]), e[t] = i;\n    }\n    // prettier-ignore\n  }, {\n    key: \"setUpDisabledButton\",\n    value: function setUpDisabledButton(e) {\n      B.setPropertyValueIfDoesNotExist(e, [\"submit\", \"container\", \"default\", \"backgroundColor\"], \"\"), B.setPropertyValueIfDoesNotExist(e, [\"disabled\", \"container\", \"default\", \"backgroundColor\"], \"unset\"), B.setPropertyValueIfDoesNotExist(e.submit, [\"svg\", \"styles\", \"default\", \"filter\"], \"\"), B.setPropertyValueIfDoesNotExist(e.disabled, [\"svg\", \"styles\", \"default\", \"filter\"], \"brightness(0) saturate(100%) invert(70%) sepia(0%) saturate(5564%) hue-rotate(207deg) brightness(100%) contrast(97%)\"), Ce.overwriteDefaultStyleWithSubmit(e, \"disabled\");\n    }\n  }, {\n    key: \"process\",\n    value: function process(e) {\n      var t = JSON.parse(JSON.stringify(e || {}));\n      return Ce.overwriteDefaultStyleWithSubmit(t, \"loading\"), Ce.overwriteDefaultStyleWithSubmit(t, \"stop\"), e != null && e.alwaysEnabled || Ce.setUpDisabledButton(t), t;\n    }\n  }]);\n  return Ce;\n}();\nvar yi = /*#__PURE__*/function (_wt4) {\n  _inherits(k, _wt4);\n  var _super45 = _createSuper(k);\n  // prettier-ignore\n  function k(e, t, i, n, r) {\n    var _this61;\n    _classCallCheck(this, k);\n    var o = Ce.process(e.submitButtonStyles);\n    _this61 = _super45.call(this, k.createButtonContainerElement(), o == null ? void 0 : o.position, o), _this61._isSVGLoadingIconOverriden = !1, _this61.status = {\n      requestInProgress: !1,\n      loadingActive: !1\n    }, _this61._messages = i, _this61._inputElementRef = t, _this61._fileAttachments = r, _this61._innerElements = _this61.createInnerElements(), _this61._abortStream = new AbortController(), _this61._stopClicked = {\n      listener: function listener() {}\n    }, _this61._serviceIO = n, _this61._alwaysEnabled = !!(o != null && o.alwaysEnabled), e.disableSubmitButton = _this61.disableSubmitButton.bind(_assertThisInitialized(_this61), n), _this61.attemptOverwriteLoadingStyle(e), setTimeout(function () {\n      var a;\n      _this61._validationHandler = e._validationHandler, _this61.assignHandlers(_this61._validationHandler), (a = _this61._validationHandler) == null || a.call(_assertThisInitialized(_this61));\n    });\n    return _this61;\n  }\n  // prettier-ignore\n  _createClass(k, [{\n    key: \"createInnerElements\",\n    value: function createInnerElements() {\n      var _j$create = j.create(this.elementRef, [\"submit\", \"loading\", \"stop\"], this._customStyles),\n        e = _j$create.submit,\n        t = _j$create.loading,\n        i = _j$create.stop,\n        n = e || k.createSubmitIconElement();\n      return {\n        submit: n,\n        loading: t || k.createLoadingIconElement(),\n        stop: i || k.createStopIconElement(),\n        disabled: this.createDisabledIconElement(n)\n      };\n    }\n  }, {\n    key: \"createDisabledIconElement\",\n    value: function createDisabledIconElement(e) {\n      return j.createCustomElement(\"disabled\", this._customStyles) || e.cloneNode(!0);\n    }\n    // prettier-ignore\n  }, {\n    key: \"attemptOverwriteLoadingStyle\",\n    value: function attemptOverwriteLoadingStyle(e) {\n      var t, i, n, r, o, a, l, c, d;\n      if (!((i = (t = this._customStyles) == null ? void 0 : t.submit) != null && i.svg || (o = (r = (n = this._customStyles) == null ? void 0 : n.loading) == null ? void 0 : r.svg) != null && o.content || (c = (l = (a = this._customStyles) == null ? void 0 : a.loading) == null ? void 0 : l.text) != null && c.content) && (e.displayLoadingBubble === void 0 || e.displayLoadingBubble === !0)) {\n        var u = document.createElement(\"style\");\n        u.textContent = \"\\n        .loading-button > * {\\n          filter: brightness(0) saturate(100%) invert(72%) sepia(0%) saturate(3044%) hue-rotate(322deg) brightness(100%)\\n            contrast(96%) !important;\\n        }\", (d = e.shadowRoot) == null || d.appendChild(u), this._isSVGLoadingIconOverriden = !0;\n      }\n    }\n  }, {\n    key: \"assignHandlers\",\n    value: function assignHandlers(e) {\n      this._serviceIO.completionsHandlers = {\n        onFinish: this.resetSubmit.bind(this, e)\n      }, this._serviceIO.streamHandlers = {\n        onOpen: this.changeToStopIcon.bind(this),\n        onClose: this.resetSubmit.bind(this, e),\n        abortStream: this._abortStream,\n        stopClicked: this._stopClicked\n      };\n      var t = this._serviceIO.deepChat.stream;\n      _typeof(t) == \"object\" && typeof t.simulation == \"number\" && (this._serviceIO.streamHandlers.simulationInterim = t.simulation);\n    }\n  }, {\n    key: \"resetSubmit\",\n    value: function resetSubmit(e) {\n      this.status.requestInProgress = !1, this.status.loadingActive = !1, e();\n    }\n  }, {\n    key: \"submitFromInput\",\n    value: function () {\n      var _submitFromInput = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee100() {\n        var t, e, _i18;\n        return _regeneratorRuntime().wrap(function _callee100$(_context100) {\n          while (1) switch (_context100.prev = _context100.next) {\n            case 0:\n              _context100.next = 2;\n              return this._fileAttachments.completePlaceholders();\n            case 2:\n              e = this._fileAttachments.getAllFileData();\n              if (this._inputElementRef.classList.contains(\"text-input-placeholder\")) this.attemptSubmit({\n                text: \"\",\n                files: e\n              });else {\n                _i18 = (t = this._inputElementRef.textContent) == null ? void 0 : t.trim();\n                this.attemptSubmit({\n                  text: _i18,\n                  files: e\n                });\n              }\n            case 4:\n            case \"end\":\n              return _context100.stop();\n          }\n        }, _callee100, this);\n      }));\n      function submitFromInput() {\n        return _submitFromInput.apply(this, arguments);\n      }\n      return submitFromInput;\n    }()\n  }, {\n    key: \"programmaticSubmit\",\n    value: function () {\n      var _programmaticSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee101(e) {\n        var _this62 = this;\n        var t;\n        return _regeneratorRuntime().wrap(function _callee101$(_context101) {\n          while (1) switch (_context101.prev = _context101.next) {\n            case 0:\n              typeof e == \"string\" && (e = ke.processSubmitUserMessage(e));\n              t = {\n                text: e.text\n              };\n              e.files && (t.files = Array.from(e.files).map(function (i) {\n                return {\n                  file: i,\n                  type: ue.getTypeFromBlob(i)\n                };\n              })), setTimeout(function () {\n                return _this62.attemptSubmit(t, !0);\n              });\n            case 3:\n            case \"end\":\n              return _context101.stop();\n          }\n        }, _callee101);\n      }));\n      function programmaticSubmit(_x182) {\n        return _programmaticSubmit.apply(this, arguments);\n      }\n      return programmaticSubmit;\n    }() // TO-DO - should be disabled when loading history\n  }, {\n    key: \"attemptSubmit\",\n    value: function () {\n      var _attemptSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee102(e) {\n        var t,\n          r,\n          o,\n          a,\n          i,\n          n,\n          _args102 = arguments;\n        return _regeneratorRuntime().wrap(function _callee102$(_context102) {\n          while (1) switch (_context102.prev = _context102.next) {\n            case 0:\n              t = _args102.length > 1 && _args102[1] !== undefined ? _args102[1] : !1;\n              _context102.next = 3;\n              return (r = this._validationHandler) == null ? void 0 : r.call(this, t ? e : void 0);\n            case 3:\n              _context102.t0 = _context102.sent;\n              _context102.t1 = !1;\n              if (!(_context102.t0 === _context102.t1)) {\n                _context102.next = 7;\n                break;\n              }\n              return _context102.abrupt(\"return\");\n            case 7:\n              this.changeToLoadingIcon();\n              _context102.next = 10;\n              return this.addNewMessage(e);\n            case 10:\n              this._serviceIO.isWebModel() || this._messages.addLoadingMessage();\n              qi.clear(this._inputElementRef);\n              i = (o = e.files) == null ? void 0 : o.map(function (l) {\n                return l.file;\n              }), n = {\n                text: e.text === \"\" ? void 0 : e.text,\n                files: i\n              };\n              _context102.next = 15;\n              return this._serviceIO.callAPI(n, this._messages);\n            case 15:\n              (a = this._fileAttachments) == null || a.removeAllFiles();\n            case 16:\n            case \"end\":\n              return _context102.stop();\n          }\n        }, _callee102, this);\n      }));\n      function attemptSubmit(_x183) {\n        return _attemptSubmit.apply(this, arguments);\n      }\n      return attemptSubmit;\n    }()\n  }, {\n    key: \"addNewMessage\",\n    value: function () {\n      var _addNewMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee103(_ref13) {\n        var e, t, i;\n        return _regeneratorRuntime().wrap(function _callee103$(_context103) {\n          while (1) switch (_context103.prev = _context103.next) {\n            case 0:\n              e = _ref13.text, t = _ref13.files;\n              i = {\n                role: v.USER_ROLE\n              };\n              e && (i.text = e);\n              _context103.t0 = t;\n              if (!_context103.t0) {\n                _context103.next = 8;\n                break;\n              }\n              _context103.next = 7;\n              return this._messages.addMultipleFiles(t);\n            case 7:\n              i.files = _context103.sent;\n            case 8:\n              this._serviceIO.sessionId && (i._sessionId = this._serviceIO.sessionId);\n              Object.keys(i).length > 0 && this._messages.addNewMessage(i);\n            case 10:\n            case \"end\":\n              return _context103.stop();\n          }\n        }, _callee103, this);\n      }));\n      function addNewMessage(_x184) {\n        return _addNewMessage.apply(this, arguments);\n      }\n      return addNewMessage;\n    }()\n  }, {\n    key: \"stopStream\",\n    value: function stopStream() {\n      var e;\n      this._abortStream.abort(), (e = this._stopClicked) == null || e.listener(), this._validationHandler && this.resetSubmit(this._validationHandler);\n    }\n  }, {\n    key: \"changeToStopIcon\",\n    value: function changeToStopIcon() {\n      this._serviceIO.websocket || (this.elementRef.classList.remove(k.LOADING_CLASS, k.DISABLED_CLASS, k.SUBMIT_CLASS), this.elementRef.replaceChildren(this._innerElements.stop), this.reapplyStateStyle(\"stop\", [\"loading\", \"submit\"]), this.elementRef.onclick = this.stopStream.bind(this), this.status.loadingActive = !1);\n    }\n    // WORK - animation needs to be lowered\n  }, {\n    key: \"changeToLoadingIcon\",\n    value: function changeToLoadingIcon() {\n      this._serviceIO.websocket || (this._isSVGLoadingIconOverriden || this.elementRef.replaceChildren(this._innerElements.loading), this.elementRef.classList.remove(k.SUBMIT_CLASS, k.DISABLED_CLASS), this.elementRef.classList.add(k.LOADING_CLASS), this.reapplyStateStyle(\"loading\", [\"submit\"]), this.elementRef.onclick = function () {}, this.status.requestInProgress = !0, this.status.loadingActive = !0);\n    }\n    // called every time when user triggers an input via ValidationHandler - hence use class to check if not already present\n  }, {\n    key: \"changeToSubmitIcon\",\n    value: function changeToSubmitIcon() {\n      this.elementRef.classList.contains(k.SUBMIT_CLASS) || (this.elementRef.classList.remove(k.LOADING_CLASS, k.DISABLED_CLASS), this.elementRef.classList.add(k.SUBMIT_CLASS), this.elementRef.replaceChildren(this._innerElements.submit), Ce.resetSubmit(this, this.status.loadingActive), this.elementRef.onclick = this.submitFromInput.bind(this));\n    }\n    // called every time when user triggers an input via ValidationHandler - hence use class to check if not already present\n  }, {\n    key: \"changeToDisabledIcon\",\n    value: function changeToDisabledIcon() {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n      this._alwaysEnabled && !e ? this.changeToSubmitIcon() : this.elementRef.classList.contains(k.DISABLED_CLASS) || (this.elementRef.classList.remove(k.LOADING_CLASS, k.SUBMIT_CLASS), this.elementRef.classList.add(k.DISABLED_CLASS), this.elementRef.replaceChildren(this._innerElements.disabled), this.reapplyStateStyle(\"disabled\", [\"submit\"]), this.elementRef.onclick = function () {});\n    }\n  }, {\n    key: \"disableSubmitButton\",\n    value: function disableSubmitButton(e, t) {\n      var i;\n      e.isSubmitProgrammaticallyDisabled = t !== !1, !(this.status.requestInProgress || this.status.loadingActive) && (t === !1 ? (i = this._validationHandler) == null || i.call(this) : this.changeToDisabledIcon(!0));\n    }\n  }], [{\n    key: \"createButtonContainerElement\",\n    value: function createButtonContainerElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"input-button\"), e;\n    }\n  }, {\n    key: \"createSubmitIconElement\",\n    value: function createSubmitIconElement() {\n      var e = q.createSVGElement(Sa);\n      return e.id = \"submit-icon\", e;\n    }\n  }, {\n    key: \"createLoadingIconElement\",\n    value: function createLoadingIconElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"dots-jumping\"), e;\n    }\n  }, {\n    key: \"createStopIconElement\",\n    value: function createStopIconElement() {\n      var e = document.createElement(\"div\");\n      return e.id = \"stop-icon\", e;\n    }\n  }]);\n  return k;\n}(wt);\nyi.SUBMIT_CLASS = \"submit-button\";\nyi.LOADING_CLASS = \"loading-button\";\nyi.DISABLED_CLASS = \"disabled-button\";\nvar wa = yi;\nvar _a = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path d=\\\"M27.1 14.313V5.396L24.158 8.34c-2.33-2.325-5.033-3.503-8.11-3.503C9.902 4.837 4.901 9.847 4.899 16c.001 6.152 5.003 11.158 11.15 11.16 4.276 0 9.369-2.227 10.836-8.478l.028-.122h-3.23l-.022.068c-1.078 3.242-4.138 5.421-7.613 5.421a8 8 0 0 1-5.691-2.359A7.993 7.993 0 0 1 8 16.001c0-4.438 3.611-8.049 8.05-8.049 2.069 0 3.638.58 5.924 2.573l-3.792 3.789H27.1z\\\"/>\\n</svg>\\n\",\n  Ma = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <title>capture</title>\\n  <path d=\\\"M0 16q0 3.264 1.28 6.208t3.392 5.12 5.12 3.424 6.208 1.248 6.208-1.248 5.12-3.424 3.392-5.12 1.28-6.208-1.28-6.208-3.392-5.12-5.088-3.392-6.24-1.28q-3.264 0-6.208 1.28t-5.12 3.392-3.392 5.12-1.28 6.208zM4 16q0-3.264 1.6-6.016t4.384-4.352 6.016-1.632 6.016 1.632 4.384 4.352 1.6 6.016-1.6 6.048-4.384 4.352-6.016 1.6-6.016-1.6-4.384-4.352-1.6-6.048z\\\"></path>\\n</svg>\\n\",\n  Ta = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path d=\\\"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z\\\"/>\\n</svg>\",\n  Ca = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path d=\\\"M4.89163 13.2687L9.16582 17.5427L18.7085 8\\\" stroke=\\\"#000000\\\" stroke-width=\\\"2.5\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n</svg>\";\nvar sn = /*#__PURE__*/function (_at) {\n  _inherits(sn, _at);\n  var _super46 = _createSuper(sn);\n  // prettier-ignore\n  function sn(e, t, i, n) {\n    var _this63;\n    _classCallCheck(this, sn);\n    _this63 = _super46.call(this, e, [\"modal-content\", \"modal-camera-content\"], i), _this63._stopped = !1, _this63._format = \"image/png\", _this63._canvas = document.createElement(\"canvas\"), _this63._canvas.classList.add(\"camera-modal-canvas\");\n    var _this63$addButtonsAnd = _this63.addButtonsAndTheirEvents(t),\n      r = _this63$addButtonsAnd.captureButton,\n      o = _this63$addButtonsAnd.submitButton;\n    _this63._captureButton = r, _this63._submitButton = o, _this63._captureIcon = _this63._captureButton.children[0], _this63._refreshIcon = q.createSVGElement(_a), _this63._refreshIcon.classList.add(\"modal-svg-button-icon\", \"modal-svg-refresh-icon\"), (n == null ? void 0 : n.format) === \"jpeg\" && (_this63._format = \"image/jpeg\"), n != null && n.dimensions && (_this63._dimensions = n.dimensions), _this63._contentRef.appendChild(_this63._canvas), _this63.extensionCloseCallback = _this63.stop;\n    return _this63;\n  }\n  _createClass(sn, [{\n    key: \"addButtonsAndTheirEvents\",\n    value: function addButtonsAndTheirEvents(e) {\n      var t = at.createSVGButton(Ma);\n      t.classList.add(\"modal-svg-camera-button\"), t.children[0].classList.add(\"modal-svg-camera-icon\");\n      var i = this.addCloseButton(Ta, !0);\n      i.classList.add(\"modal-svg-close-button\"), i.children[0].classList.add(\"modal-svg-close-icon\");\n      var n = at.createSVGButton(Ca);\n      return n.classList.add(\"modal-svg-submit-button\"), this.addButtons(t, n), this.addButtonEvents(t, i, n, e), {\n        captureButton: t,\n        submitButton: n\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"addButtonEvents\",\n    value: function addButtonEvents(e, t, i, n) {\n      var _this64 = this;\n      e.onclick = function () {\n        _this64.capture();\n      }, t.addEventListener(\"click\", this.stop.bind(this)), i.onclick = function () {\n        var r = _this64.getFile();\n        r && _t.addFilesToType([r], [n]), _this64.stop(), _this64.close();\n      };\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var _this65 = this;\n      this._mediaStream && this._mediaStream.getTracks().forEach(function (e) {\n        return e.stop();\n      }), this._stopped = !0, setTimeout(function () {\n        _this65._captureButton.replaceChildren(_this65._captureIcon), _this65._captureButton.classList.replace(\"modal-svg-refresh-button\", \"modal-svg-camera-button\");\n        var e = _this65._canvas.getContext(\"2d\");\n        e == null || e.clearRect(0, 0, _this65._canvas.width, _this65._canvas.height);\n      }, at.MODAL_CLOSE_TIMEOUT_MS);\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this66 = this;\n      this._dataURL = void 0, this._submitButton.classList.add(\"modal-svg-submit-disabled\"), this._stopped = !1, navigator.mediaDevices.getUserMedia({\n        video: this._dimensions || !0\n      }).then(function (e) {\n        if (_this66._mediaStream = e, !_this66.isOpen()) return _this66.stop();\n        var t = document.createElement(\"video\");\n        t.srcObject = e, t.play(), requestAnimationFrame(_this66.updateCanvas.bind(_this66, t, _this66._canvas));\n      })[\"catch\"](function (e) {\n        console.error(e), _this66.stop(), _this66.close();\n      });\n    }\n  }, {\n    key: \"capture\",\n    value: function capture() {\n      this._dataURL ? (this._captureButton.replaceChildren(this._captureIcon), this._captureButton.classList.replace(\"modal-svg-refresh-button\", \"modal-svg-camera-button\"), this._submitButton.classList.add(\"modal-svg-submit-disabled\"), this._dataURL = void 0) : (this._captureButton.replaceChildren(this._refreshIcon), this._captureButton.classList.replace(\"modal-svg-camera-button\", \"modal-svg-refresh-button\"), this._submitButton.classList.remove(\"modal-svg-submit-disabled\"), this._dataURL = this._canvas.toDataURL());\n    }\n  }, {\n    key: \"getFile\",\n    value: function getFile() {\n      if (this._dataURL) {\n        var e = atob(this._dataURL.split(\",\")[1]),\n          t = new Array(e.length);\n        for (var a = 0; a < e.length; a++) t[a] = e.charCodeAt(a);\n        var _i19 = new Uint8Array(t),\n          n = new Blob([_i19], {\n            type: this._format\n          }),\n          r = this._format === \"image/jpeg\" ? \"jpeg\" : \"png\",\n          o = gs.getFileName(this._newFilePrefix || \"photo\", r);\n        return new File([n], o, {\n          type: n.type\n        });\n      }\n    }\n  }, {\n    key: \"updateCanvas\",\n    value: function updateCanvas(e, t) {\n      if (!this._stopped) {\n        if (!this._dataURL) {\n          t.width = e.videoWidth, t.height = e.videoHeight;\n          var _i20 = t.getContext(\"2d\");\n          _i20 == null || _i20.drawImage(e, 0, 0, t.width, t.height);\n        }\n        requestAnimationFrame(this.updateCanvas.bind(this, e, t));\n      }\n    }\n  }, {\n    key: \"openCameraModal\",\n    value: function openCameraModal(e) {\n      this.displayModalElements(), e.start();\n    }\n    // prettier-ignore\n  }], [{\n    key: \"createCameraModalFunc\",\n    value: function createCameraModalFunc(e, t, i, n) {\n      var r = new sn(e, t, i, n);\n      return r.openCameraModal.bind(r, r);\n    }\n  }]);\n  return sn;\n}(at);\nvar Aa = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path d=\\\"M29 7h-4.599l-2.401-4h-12l-2.4 4h-4.6c-1 0-3 1-3 2.969v16.031c0 1.657 1.5 3 2.792 3h26.271c1.313 0 2.938-1.406 2.938-2.968v-16.032c0-1-1-3-3-3zM30 26.032c0 0.395-0.639 0.947-0.937 0.969h-26.265c-0.232-0.019-0.797-0.47-0.797-1v-16.031c0-0.634 0.851-0.953 1-0.969h5.732l2.4-4h9.802l1.785 3.030 0.55 0.97h5.731c0.705 0 0.99 0.921 1 1v16.032zM16 10c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zM16 22c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z\\\"></path>\\n</svg>\";\nvar Xt = /*#__PURE__*/function (_wt5) {\n  _inherits(Xt, _wt5);\n  var _super47 = _createSuper(Xt);\n  function Xt(e, t, i) {\n    var _this67;\n    _classCallCheck(this, Xt);\n    var r;\n    _this67 = _super47.call(this, Xt.createButtonElement(), (r = i == null ? void 0 : i.button) == null ? void 0 : r.position, (i == null ? void 0 : i.button) || {}, \"Photo\");\n    var n = _this67.createInnerElements(_this67._customStyles);\n    i && _this67.addClickEvent(e, t, i.modalContainerStyle, i.files), _this67.elementRef.classList.add(\"upload-file-button\"), _this67.elementRef.appendChild(n.styles), _this67.reapplyStateStyle(\"styles\");\n    return _this67;\n  }\n  _createClass(Xt, [{\n    key: \"createInnerElements\",\n    value: function createInnerElements(e) {\n      return {\n        styles: this.createInnerElement(Xt.createSVGIconElement(), \"styles\", e)\n      };\n    }\n  }, {\n    key: \"createInnerElement\",\n    value: function createInnerElement(e, t, i) {\n      return j.createSpecificStateElement(this.elementRef, t, i) || e;\n    }\n  }, {\n    key: \"addClickEvent\",\n    value:\n    // prettier-ignore\n    function addClickEvent(e, t, i, n) {\n      var r = sn.createCameraModalFunc(e, t, i, n);\n      this.elementRef.onclick = r;\n    }\n  }], [{\n    key: \"createButtonElement\",\n    value: function createButtonElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"input-button\"), e;\n    }\n  }, {\n    key: \"createSVGIconElement\",\n    value: function createSVGIconElement() {\n      var e = q.createSVGElement(Aa);\n      return e.id = \"camera-icon\", e;\n    }\n  }]);\n  return Xt;\n}(wt);\nvar pt = /*#__PURE__*/function () {\n  function pt(e, t, i, n) {\n    _classCallCheck(this, pt);\n    this.elementRef = pt.createPanelElement(e.inputAreaStyle);\n    var r = new qi(e, i),\n      o = {},\n      a = this.createFileUploadComponents(e, i, n, o);\n    e.speechToText && !o.microphone && (o.microphone = {\n      button: new Zt(e, r, t.addNewErrorMessage.bind(t))\n    });\n    var l = new wa(e, r.inputElementRef, t, i, a);\n    r.submit = l.submitFromInput.bind(l), Me.attach(e, i, r, a, l), e.submitUserMessage = l.programmaticSubmit.bind(l), o.submit = {\n      button: l\n    }, pt.addElements(this.elementRef, r, o, n, a, e.dropupStyles);\n  }\n  _createClass(pt, [{\n    key: \"createFileUploadComponents\",\n    value:\n    // prettier-ignore\n    function createFileUploadComponents(e, t, i, n) {\n      var o, a, l, c;\n      var r = new _t(this.elementRef, e.attachmentContainerStyle, t.demo);\n      if (pt.createUploadButtons(e, t.fileTypes || {}, r, i, n), (o = t.camera) != null && o.files) {\n        var d = ((a = n.images) == null ? void 0 : a.fileType) || r.addType(e, t.camera.files, \"images\");\n        n.camera = {\n          button: new Xt(i, d, t.camera)\n        };\n      }\n      if ((l = t.recordAudio) != null && l.files) {\n        var _d = ((c = n.audio) == null ? void 0 : c.fileType) || r.addType(e, t.recordAudio.files, \"audio\");\n        n.microphone = {\n          button: new Ea(_d, t.recordAudio)\n        };\n      }\n      return de.isEnabled(r, e.dragAndDrop) && de.create(i, r, e.dragAndDrop), r;\n    }\n    // prettier-ignore\n  }], [{\n    key: \"createPanelElement\",\n    value: function createPanelElement(e) {\n      var t = document.createElement(\"div\");\n      return t.id = \"input\", Object.assign(t.style, e), t;\n    }\n  }, {\n    key: \"createUploadButtons\",\n    value: function createUploadButtons(e, t, i, n, r) {\n      Object.keys(t).forEach(function (o) {\n        var a = o,\n          l = t[a];\n        if (l.files) {\n          var c = i.addType(e, l.files, a),\n            _Qo$a = Qo[a],\n            d = _Qo$a.id,\n            u = _Qo$a.svgString,\n            p = _Qo$a.dropupText,\n            h = new ut(n, c, l, d, u, p);\n          r[a] = {\n            button: h,\n            fileType: c\n          };\n        }\n      });\n    }\n    // prettier-ignore\n  }, {\n    key: \"addElements\",\n    value: function addElements(e, t, i, n, r, o) {\n      Y.addElements(e, t.elementRef);\n      var a = Qe.create(),\n        l = F.addButtons(a, i, n, o);\n      Ko.set(t.inputElementRef, a, r.elementRef, l), Qe.add(e, a);\n    }\n  }]);\n  return pt;\n}();\nvar rn = /*#__PURE__*/function () {\n  function rn() {\n    _classCallCheck(this, rn);\n  }\n  _createClass(rn, null, [{\n    key: \"createElements\",\n    value: function createElements(e, t, i) {\n      var n = document.createElement(\"div\");\n      n.id = \"chat-view\";\n      var r = new me(e, t, i);\n      t.websocket && $.createConnection(t, r);\n      var o = new pt(e, r, t, n);\n      return Y.addElements(n, r.elementRef, o.elementRef), n;\n    }\n  }, {\n    key: \"render\",\n    value: function render(e, t, i, n) {\n      var r = rn.createElements(e, i, n);\n      t.replaceChildren(r);\n    }\n  }]);\n  return rn;\n}();\nvar ka = \"#validate-property-key-view{height:100%;position:relative;display:flex;justify-content:center;align-items:center;padding:8px}#large-loading-ring{display:inline-block;width:50px;height:50px}#large-loading-ring:after{content:\\\" \\\";display:block;width:38px;height:38px;margin:1px;border-radius:50%;border:5px solid #5fb2ff;border-color:#5fb2ff transparent #5fb2ff transparent;animation:large-loading-ring 1.4s linear infinite}@keyframes large-loading-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#insert-key-view{height:100%;position:relative}#insert-key-contents{text-align:center;position:absolute;top:44%;left:50%;transform:translate(-50%,-50%);width:82%;display:flex;max-width:700px}#insert-key-title{margin-bottom:15px}#insert-key-input-container{margin-right:2.7em;width:calc(100% - 80px)}#insert-key-input{padding:.3em 1.7em .3em .3em;border-width:1px;border-style:solid;border-radius:3px;width:100%;font-size:inherit}.insert-key-input-valid{border-color:gray}.insert-key-input-invalid{border-color:red}#visibility-icon-container{position:relative;float:right;cursor:pointer;-webkit-user-select:none;user-select:none}.visibility-icon{filter:brightness(0) saturate(100%) invert(63%) sepia(1%) saturate(9%) hue-rotate(43deg) brightness(98%) contrast(92%);position:absolute;right:-1.7em;top:-1.43em}#visible-icon{top:-1.4em}.visibility-icon:hover{filter:unset}.visibility-icon>*{pointer-events:none}#start-button{border:1px solid grey;color:#454545;border-radius:4px;width:3em;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:.28em .3em;-webkit-user-select:none;user-select:none;background-color:#fff}#start-button:hover{background-color:#f2f2f2}#start-button:active{background-color:#d2d2d2}#insert-key-help-text-container{width:100%;position:absolute;margin-top:32px;margin-bottom:20px}#insert-key-help-text-contents{width:100%;position:absolute}#insert-key-input-invalid-text{display:block;margin-top:1em;margin-bottom:.5em;color:red}.insert-key-input-help-text{display:block;margin-top:16px}#loading-ring{display:inline-block;width:16px;height:16px}#loading-ring:after{content:\\\" \\\";display:block;width:11px;height:11px;margin:1px;border-radius:50%;border:2px solid #0084ff;border-color:#0084ff transparent #0084ff transparent;animation:loading-ring 1.2s linear infinite}@keyframes loading-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#error-view{color:red;font-size:1.2em;line-height:1.3em;margin-top:-5px;text-align:center;height:100%;display:flex;justify-content:center;align-items:center;padding-left:8px;padding-right:8px}.intro-panel{position:absolute;display:flex;justify-content:center;right:0;bottom:0;left:0;margin:auto;height:fit-content;top:-2.5em}#internal-intro-panel{width:250px;height:min-content;display:block;border-radius:5px;overflow:auto;border:1px solid rgb(203,203,203);padding:10px;max-height:calc(100% - 6.8em)}#internal-intro-panel>p{margin-block-start:.8em;margin-block-end:.8em}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!\\n  Theme: a11y-dark\\n  Author: @ericwbailey\\n  Maintainer: @ericwbailey\\n\\n  Based on the Tomorrow Night Eighties theme: https://github.com/isagalaev/highlight.js/blob/master/src/styles/tomorrow-night-eighties.css\\n*/.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast: active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}#messages{overflow:auto}.outer-message-container:last-child{margin-bottom:5px}.inner-message-container{display:flex;margin-left:auto;margin-right:auto;width:calc(97.5% - 24px);max-width:100%}.message-bubble{margin-top:10px;word-wrap:break-word;width:fit-content;max-width:60%;border-radius:10px;padding:.42em .55em;height:fit-content;line-height:1.26em}.user-message-text{color:#fff;background-color:#0084ff;margin-right:0;margin-left:auto}.ai-message-text{color:#000;background-color:#e4e6eb;margin-left:0;margin-right:auto}.html-message{max-width:unset}.error-message-text{margin:14px auto 10px;background-color:#f4c0c0;color:#474747;text-align:center;max-width:95%}.loading-message-text{width:1em;padding:.6em .75em .6em 1.3em}.message-bubble>p:first-child{margin-top:0}.message-bubble>p:last-child{margin-bottom:0}pre{overflow:auto;display:block;word-break:break-all;word-wrap:break-word;border-radius:7px;background:#2b2b2b;color:#f8f8f2;margin-top:.8em;margin-bottom:.8em;padding:.6em;font-size:.9em;line-height:1.5em}.image-message{padding:0;display:flex;background-color:#ddd}.image-message>*,.image-message>*>*{width:100%;border-radius:8px;display:flex}.audio-message{width:60%;max-width:300px;height:2.2em;max-height:54px;padding:0;background-color:unset}.audio-player{width:100%;height:100%}.audio-player-safari{height:fit-content;width:40px}.audio-player-safari-left{float:left}.audio-player-safari-right{float:right}.any-file-message-bubble{padding:1px}.any-file-message-contents{display:flex}.any-file-message-icon-container{width:1.3em;min-width:1.3em;position:relative;border-radius:4px;margin-left:6px;margin-right:2px}.any-file-message-icon{background-color:#fff;border-radius:4px;position:absolute;width:1em;height:1.25em;padding:1px;margin-top:auto;margin-bottom:auto;top:0;bottom:0}.any-file-message-text{padding-top:5px;overflow-wrap:anywhere;padding-bottom:5px;padding-right:7px}.message-bubble>a{color:inherit}.left-item-position{margin-right:10px}.right-item-position{margin-left:10px}.deep-chat-web-model-button{margin-top:10px;margin-bottom:5px;margin-left:1px}.avatar{padding-top:5px;width:1.5em;height:1.5em;border-radius:1px}.avatar-container{margin-top:9px}.name{margin-top:16px;font-size:15px}#drag-and-drop{position:absolute;display:none;z-index:10;height:calc(100% - 10px);width:calc(100% - 10px);background-color:#70c6ff4d;border:5px dashed #6dafff}#file-attachment-container{position:absolute;height:3.6em;width:calc(80% - 4px);top:-2.5em;border-radius:5px;overflow:auto;text-align:left;background-color:#d7d7d73b;padding-left:4px}.file-attachment{width:2.85em;height:2.85em;display:inline-flex;margin-right:.6em;margin-bottom:.44em;margin-top:4px;position:relative;background-color:#fff;border-radius:5px}.image-attachment{width:100%;height:100%;object-fit:cover;border-radius:5px}.border-bound-attachment{width:calc(100% - 2px);height:calc(100% - 2px);border:1px solid #c3c3c3;border-radius:5px;overflow:hidden}.border-bound-attachment-safari{width:calc(100% - 1px);height:calc(100% - 1px)}.audio-attachment-icon-container{cursor:pointer}.audio-attachment-icon-container:hover{background-color:#f8f8f8}.attachment-icon{left:0;right:0;bottom:0;top:2px;margin:auto;position:absolute;width:25px;-webkit-user-select:none;user-select:none}.not-removable-attachment-icon{top:0;right:0;bottom:0;left:0}.play-icon{filter:brightness(0) saturate(100%) invert(17%) sepia(0%) saturate(1392%) hue-rotate(67deg) brightness(98%) contrast(97%)}.stop-icon{filter:brightness(0) saturate(100%) invert(29%) sepia(90%) saturate(1228%) hue-rotate(198deg) brightness(93%) contrast(98%)}.audio-placeholder-text-3-digits{padding-left:.26rem}.audio-placeholder-text-4-digits{padding-left:.1rem}.any-file-attachment{padding:2px 0}.file-attachment-text-container{position:absolute;width:inherit;display:flex;align-items:center;height:100%;top:-1px}.audio-placeholder-text-3-digits-container{padding-top:1px;cursor:default}.any-file-attachment-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-left:.13em;margin-left:auto;margin-right:auto}.remove-file-attachment-button{height:1.25em;width:1.25em;border:1px solid #cfcfcf;border-radius:25px;background-color:#fff;top:-4px;right:-5px;position:absolute;display:flex;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none}.remove-file-attachment-button:hover{background-color:#e4e4e4}.remove-file-attachment-button:active{background-color:#d7d7d7}.x-icon{color:#4e4e4e;top:-.075em;position:relative;font-size:1.05em}.modal{display:none;flex-direction:column;align-items:center;justify-content:center;position:absolute;width:80%;max-width:420px;max-height:80%;margin:auto;top:0;right:0;bottom:0;left:0;z-index:2}.modal-content{border-top:1px solid rgb(217,217,217);border-left:1px solid rgb(217,217,217);border-right:1px solid rgb(217,217,217);border-top-left-radius:inherit;border-top-right-radius:inherit;background-color:#fff;overflow-y:auto;height:fit-content;max-height:calc(100% - 3.3em);width:100%}.modal-content>p{margin-left:1em;margin-right:1em}.modal-content>ul{margin-right:1em}.modal-button-panel{height:3.3em;border:1px solid;border-color:rgb(223,223,223) rgb(217,217,217) rgb(217,217,217);border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;background-color:#fff;text-align:center;justify-content:center;display:flex;width:100%}.modal-button{min-width:2.5em;text-align:center;color:#fff;border-radius:5px;padding:.4em .4em .3em;height:1.25em;background-color:#3279b2;top:0;bottom:0;cursor:pointer;-webkit-user-select:none;user-select:none;margin:auto .31em}.modal-button:hover{background-color:#276da7}.modal-button:active{background-color:#1b5687}.modal-svg-button{padding:0 0 2px;width:2em;height:1.8em}.modal-svg-button-icon{width:100%;height:100%;filter:brightness(0) saturate(100%) invert(100%) sepia(15%) saturate(4%) hue-rotate(346deg) brightness(101%) contrast(102%)}#modal-background-panel{position:absolute;width:100%;height:100%;background-color:#00000042;z-index:1;display:none}.show-modal-background{animation:fadeInBackground .3s ease-in-out}@keyframes fadeInBackground{0%{opacity:0}to{opacity:1}}.show-modal{animation:fadeInModal .3s ease-in-out}@keyframes fadeInModal{0%{opacity:0;scale:.95}to{opacity:1;scale:1}}.hide-modal-background{animation:fadeOutBackground .2s ease-in-out}@keyframes fadeOutBackground{0%{opacity:1}to{opacity:0}}.hide-modal{animation:fadeOutModal .2s ease-in-out}@keyframes fadeOutModal{0%{opacity:1;scale:1}to{opacity:0;scale:.95}}.modal-camera-content{overflow:hidden;text-align:center;border:unset;height:100%;background-color:#2a2a2a;display:flex;justify-content:center}.camera-modal-canvas{max-width:100%;max-height:100%;margin-top:auto;margin-bottom:auto}.modal-svg-submit-button{background-color:green}.modal-svg-submit-button:hover{background-color:#007500}.modal-svg-submit-button:active{background-color:#006500}.modal-svg-submit-disabled{pointer-events:none;background-color:#747474}.modal-svg-close-button{height:1.56em;padding-top:.37em;padding-bottom:0;background-color:#c13e3e}.modal-svg-close-button:hover{background-color:#b43434}.modal-svg-close-button:active{background-color:#972929}.modal-svg-close-icon{width:80%;height:80%}.modal-svg-camera-button{height:1.6em;padding-top:.38em;padding-bottom:0}.modal-svg-camera-icon{height:76%}.modal-svg-refresh-icon{height:105%}.modal-svg-refresh-button{height:1.66em;padding-top:.11em;padding-bottom:.21em}.input-button-container{position:relative;z-index:1}.inside-right{position:absolute;right:calc(10% + .35em);bottom:.85em}.inside-left{position:absolute;left:calc(10% + .35em);bottom:.85em}.outside-left{position:absolute;right:calc(11px - .55em);bottom:.88em}.outside-right{position:absolute;left:calc(11px - .55em);bottom:.88em}#upload-images-icon{position:absolute;pointer-events:none;width:1.45em;height:1.45em;left:.11em;bottom:.08em;filter:brightness(0) saturate(100%) invert(43%) sepia(0%) saturate(740%) hue-rotate(77deg) brightness(99%) contrast(92%)}#upload-gifs-icon{position:absolute;pointer-events:none;width:1.5em;height:1.48em;left:.07em;bottom:.08em;filter:brightness(0) saturate(100%) invert(49%) sepia(0%) saturate(2586%) hue-rotate(12deg) brightness(93%) contrast(90%)}#upload-audio-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.17em;bottom:.2em;filter:brightness(0) saturate(100%) invert(15%) sepia(0%) saturate(337%) hue-rotate(125deg) brightness(91%) contrast(94%);transform:scaleX(.95)}#camera-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.23em;bottom:.2em;filter:brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(161%) hue-rotate(164deg) brightness(91%) contrast(92%);transform:scaleX(.95)}#upload-mixed-files-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.25em;bottom:.2em;filter:brightness(0) saturate(100%) invert(53%) sepia(0%) saturate(36%) hue-rotate(74deg) brightness(98%) contrast(93%);transform:scaleX(.95)}#interim-text{color:gray}#microphone-button{padding-top:.5px}.outer-button-container>#microphone-button{padding-bottom:1px}#microphone-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.25em;bottom:.25em}.default-microphone-icon{filter:brightness(0) saturate(100%) invert(32%) sepia(0%) saturate(924%) hue-rotate(46deg) brightness(95%) contrast(99%)}.active-microphone-icon{filter:brightness(0) saturate(100%) invert(10%) sepia(97%) saturate(7495%) hue-rotate(0deg) brightness(101%) contrast(107%);border-radius:10px}.command-microphone-icon{filter:brightness(0) saturate(100%) invert(42%) sepia(96%) saturate(1067%) hue-rotate(77deg) brightness(99%) contrast(102%)}.unsupported-microphone{display:none}#submit-icon{height:100%;filter:brightness(0) saturate(100%) invert(32%) sepia(0%) saturate(924%) hue-rotate(46deg) brightness(95%) contrast(99%);width:1.21em}#stop-icon{background-color:#acacac;position:absolute;width:.95em;height:.95em;left:.35em;bottom:.35em;border-radius:2px}.submit-button-enlarged{scale:1.1;margin-right:.3em;margin-left:.3em}.dots-jumping{position:relative;left:calc(-9990px + .275em);width:.22em;height:.22em;border-radius:5px;background-color:#848484;color:#848484;box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484;animation:dots-jumping 1.5s infinite linear;bottom:-.7em}@keyframes dots-jumping{0%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}16.667%{box-shadow:9990px -6px #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}33.333%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}50%{box-shadow:9990px 0 #848484,calc(9990px + .44em) -6px 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}66.667%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}83.333%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) -6px 0 0 #848484}to{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}}.dots-flashing{position:relative;width:.45em;height:.45em;border-radius:5px;background-color:var(--message-dots-color);color:var(--message-dots-color);animation:dots-flashing 1s infinite linear alternate;animation-delay:.5s}.dots-flashing:before,.dots-flashing:after{content:\\\"\\\";display:inline-block;position:absolute;top:0}.dots-flashing:before{left:-.7em;width:.45em;height:.45em;border-radius:5px;background-color:var(--message-dots-color);color:var(--message-dots-color);animation:dots-flashing 1s infinite alternate;animation-delay:0s}.dots-flashing:after{left:.7em;width:.45em;height:.45em;border-radius:5px;background-color:var(--message-dots-color);color:var(--message-dots-color);animation:dots-flashing 1s infinite alternate;animation-delay:1s}@keyframes dots-flashing{0%{background-color:var(--message-dots-color)}50%,to{background-color:var(--message-dots-color-fade)}}.input-button{border-radius:4px;cursor:pointer;margin-bottom:.2em;-webkit-user-select:none;user-select:none}.input-button-svg{width:1.65em;height:1.65em}.input-button:hover{background-color:#9c9c9c2e}.input-button:active{background-color:#9c9c9c5e}.loading-button{cursor:auto}.loading-button:hover{background-color:unset}.text-button{filter:unset!important;display:flex;justify-content:center;align-items:center;margin-left:4px;margin-right:4px;height:1.6em}#text-input-container{background-color:#fff;width:80%;display:flex;border:1px solid #0000001a;border-radius:5px;margin-top:.8em;margin-bottom:.8em;box-shadow:#959da533 0 1px 12px;overflow-y:auto;max-height:200px;position:relative}.text-input-container-left-adjustment{margin-left:1.5em}.text-input-container-right-adjustment{margin-right:1.5em}.text-input-container-left-small-adjustment{margin-left:1.1em}.text-input-container-left-small-adjustment>.outside-left{right:calc(14px - .55em)}.text-input-container-right-small-adjustment{margin-right:1.1em}.text-input-container-right-small-adjustment>.outside-right{left:calc(14px - .55em)}#text-input{text-align:left;outline:none;word-wrap:break-word;line-break:auto}.text-input-styling{padding:.4em .5em;overflow:overlay;width:100%}.text-input-inner-left-adjustment{padding-left:2.2em}.text-input-inner-right-adjustment{padding-right:2em}.text-input-disabled{pointer-events:none;-webkit-user-select:none;user-select:none}.text-input-placeholder{color:gray}.outside-right>#dropup-menu,.inside-right>#dropup-menu{right:0}#dropup-icon{position:absolute;pointer-events:none;width:1.16em;height:1.2em;left:.265em;bottom:.43em;filter:brightness(0) saturate(100%) invert(54%) sepia(0%) saturate(724%) hue-rotate(6deg) brightness(92%) contrast(90%)}#dropup-menu{background-color:#fff;position:absolute;transform:translateY(-100%);border-radius:5px;z-index:1;top:-.49em;box-shadow:#0003 -1px 2px 10px,#0000001a 0 2px 4px;cursor:pointer;-webkit-user-select:none;user-select:none}.dropup-menu-item{height:1.4em;padding:.28em .84em .28em .35em;display:flex;position:relative}.dropup-menu-item:first-child{padding-top:.49em;border-top-left-radius:inherit;border-top-right-radius:inherit}.dropup-menu-item:last-child{padding-bottom:.45em;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.dropup-menu-item-icon{width:1.39em;position:relative;margin-right:.56em}.dropup-menu-item-icon>svg{bottom:0!important;top:0!important;margin-bottom:auto;margin-top:auto}.dropup-menu-item-text{margin-top:.08em;width:max-content}#input{width:100%;display:inline-flex;text-align:center;margin-left:auto;margin-right:auto;margin-top:auto;position:relative;justify-content:center}#chat-view{height:100%;display:grid;grid-template-columns:100%}::-webkit-scrollbar{width:9px;height:9px}::-webkit-scrollbar-thumb{background-color:#d0d0d0;border-radius:5px}::-webkit-scrollbar-track{background-color:#f2f2f2}:host{all:initial;display:table-cell}#container{height:inherit;width:inherit;overflow:hidden}\\n\";\nvar Ia = Object.defineProperty,\n  La = Object.getOwnPropertyDescriptor,\n  x = function x(s, e, t, i) {\n    for (var n = i > 1 ? void 0 : i ? La(e, t) : e, r = s.length - 1, o; r >= 0; r--) (o = s[r]) && (n = (i ? o(e, t, n) : o(n)) || n);\n    return i && n && Ia(e, t, n), n;\n  };\nvar b = /*#__PURE__*/function (_vo) {\n  _inherits(b, _vo);\n  var _super48 = _createSuper(b);\n  function b() {\n    var _this68;\n    _classCallCheck(this, b);\n    _this68 = _super48.call(this), _this68.getMessages = function () {\n      return [];\n    }, _this68.submitUserMessage = function () {\n      return console.warn(\"submitUserMessage failed - please wait for chat view to render before calling this property.\");\n    }, _this68.focusInput = function () {\n      return Qt.focusFromParentElement(_this68._elementRef);\n    }, _this68.refreshMessages = function () {}, _this68.clearMessages = function () {}, _this68.scrollToBottom = function () {}, _this68.disableSubmitButton = function () {}, _this68._hasBeenRendered = !1, _this68._auxiliaryStyleApplied = !1, _this68._addMessage = function () {\n      return console.warn(\"addMessage failed - please wait for chat view to render before calling this property.\");\n    }, Go.appendStyleSheetToHead(), _this68._elementRef = document.createElement(\"div\"), _this68._elementRef.id = \"container\", _this68.attachShadow({\n      mode: \"open\"\n    }).appendChild(_this68._elementRef), Ei.apply(ka, _this68.shadowRoot), setTimeout(function () {\n      _this68._hasBeenRendered || _this68.onRender();\n    }, 20);\n    return _this68;\n  }\n  _createClass(b, [{\n    key: \"changeToChatView\",\n    value: function changeToChatView() {\n      this._activeService && (this._activeService.validateConfigKey = !1), this.onRender();\n    }\n    // prettier-ignore\n  }, {\n    key: \"onRender\",\n    value: function onRender() {\n      var _this$_childElement;\n      (!this._activeService || this._activeService.demo) && (this._activeService = Ho.create(this)), this.auxiliaryStyle && !this._auxiliaryStyleApplied && (Ei.apply(this.auxiliaryStyle, this.shadowRoot), this._auxiliaryStyleApplied = !0), Ei.applyDefaultStyleToComponent(this.style, this.chatStyle), ke.checkForContainerStyles(this, this._elementRef), this._activeService.key && this._activeService.validateConfigKey ? Dt.render(this._elementRef, this.changeToChatView.bind(this), this._activeService) : !(this._activeService instanceof U) || this._activeService.key ? ((_this$_childElement = this._childElement) !== null && _this$_childElement !== void 0 ? _this$_childElement : this._childElement = this.children[0], rn.render(this, this._elementRef, this._activeService, this._childElement)) : this._activeService instanceof U && P.render(this._elementRef, this.changeToChatView.bind(this), this._activeService), this._hasBeenRendered = !0, jt.onRender(this);\n    }\n  }, {\n    key: \"disconnectedCallback\",\n    value: function disconnectedCallback() {\n      $i.chat = void 0;\n    }\n  }]);\n  return b;\n}(vo);\nx([y(\"object\")], b.prototype, \"directConnection\", 2);\nx([y(\"object\")], b.prototype, \"request\", 2);\nx([y(\"object\")], b.prototype, \"webModel\", 2);\nx([y(\"object\")], b.prototype, \"stream\", 2);\nx([y(\"object\")], b.prototype, \"requestBodyLimits\", 2);\nx([y(\"function\")], b.prototype, \"requestInterceptor\", 2);\nx([y(\"function\")], b.prototype, \"responseInterceptor\", 2);\nx([y(\"function\")], b.prototype, \"validateInput\", 2);\nx([y(\"object\")], b.prototype, \"chatStyle\", 2);\nx([y(\"object\")], b.prototype, \"attachmentContainerStyle\", 2);\nx([y(\"object\")], b.prototype, \"dropupStyles\", 2);\nx([y(\"object\")], b.prototype, \"inputAreaStyle\", 2);\nx([y(\"object\")], b.prototype, \"textInput\", 2);\nx([y(\"object\")], b.prototype, \"submitButtonStyles\", 2);\nx([y(\"string\")], b.prototype, \"auxiliaryStyle\", 2);\nx([y(\"array\")], b.prototype, \"initialMessages\", 2);\nx([y(\"object\")], b.prototype, \"introMessage\", 2);\nx([y(\"object\")], b.prototype, \"avatars\", 2);\nx([y(\"object\")], b.prototype, \"names\", 2);\nx([y(\"boolean\")], b.prototype, \"displayLoadingBubble\", 2);\nx([y(\"object\")], b.prototype, \"errorMessages\", 2);\nx([y(\"object\")], b.prototype, \"messageStyles\", 2);\nx([y(\"object\")], b.prototype, \"textToSpeech\", 2);\nx([y(\"object\")], b.prototype, \"speechToText\", 2);\nx([y(\"object\")], b.prototype, \"images\", 2);\nx([y(\"object\")], b.prototype, \"gifs\", 2);\nx([y(\"object\")], b.prototype, \"camera\", 2);\nx([y(\"object\")], b.prototype, \"audio\", 2);\nx([y(\"object\")], b.prototype, \"microphone\", 2);\nx([y(\"object\")], b.prototype, \"mixedFiles\", 2);\nx([y(\"object\")], b.prototype, \"dragAndDrop\", 2);\nx([y(\"object\")], b.prototype, \"introPanelStyle\", 2);\nx([y(\"object\")], b.prototype, \"htmlClassUtilities\", 2);\nx([y(\"function\")], b.prototype, \"onNewMessage\", 2);\nx([y(\"function\")], b.prototype, \"onClearMessages\", 2);\nx([y(\"function\")], b.prototype, \"onComponentRender\", 2);\nx([y(\"function\")], b.prototype, \"onError\", 2);\nx([y(\"object\")], b.prototype, \"demo\", 2);\nx([y(\"object\")], b.prototype, \"_insertKeyViewStyles\", 2);\ncustomElements.define(\"deep-chat\", b);\nexport { b as DeepChat };\n","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.8';\nexport const PUBLIC_VERSION = '4';\n","<!-- This is an example for a Svelte browser app, if you are using SvelteKit, please see the following example:\n  https://codesandbox.io/p/sandbox/deep-chat-sveltekit-fn8h6x -->\n\n  <script>\n    import { DeepChat } from \"deep-chat-dev\";\n    import { onMount } from 'svelte';\n  \n    const initialMessages = [\n      { role: \"ai\", text: \"Hi, I'm **BIDARA**, bio-inspired design and research assisant. I'm an OpenAI [GPT-4](https://openai.com/research/gpt-4) [assistant](https://platform.openai.com/docs/assistants/how-it-works), that was instructed by [NASA's PeTaL initiative](https://www1.grc.nasa.gov/research-and-engineering/vine/petal/) to help others understand, learn from, and emulate the strategies used by living things to create sustainable designs and technologies using the [Biomimicry Institute's design process](https://toolbox.biomimicry.org/methods/process/).\" },\n      { role: \"ai\", text: \"Before we begin, please be advised:\\n\\n **Do not share any sensitive information** in your conversations including but not limited to, personal information, sensitive or non-public government/company data, ITAR, CUI, export controlled, or trade secrets.  \\n While OpenAI has safeguards in place, BIDARA may occasionally generate incorrect or misleading information and produce offensive or biased content.\" },\n      { role: \"ai\", text: \"How can I assist you today?\" }\n    ];\n\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    let openai_key = urlParams.get('key')\n    if (openai_key === null) {\n      openai_key = localStorage.getItem('openai-key');\n    }\n\n    function getCurrentWeather(location) {\n      location = location.toLowerCase();\n      if (location.includes('tokyo')) {\n        return 'Good';\n      } else if (location.includes('san francisco')) {\n        return 'Mild';\n      } else {\n        return 'Very Hot';\n      }\n    }\n\n    function getCurrentTime(location) {\n      location = location.toLowerCase();\n      if (location.includes('tokyo')) {\n        return '10p';\n      } else if (location.includes('san francisco')) {\n        return '6p';\n      } else {\n        return '12p';\n      }\n    }\n\n    onMount(async () => { // runs after the component has finished loading.\n      const deepChatRef = document.getElementById('chat-element');\n\n      deepChatRef.onNewMessage = (message) => {\n        // save messages to localStorage.\n        // this function is called once for each message including initialMessages, ai messages, and user messages.\n      };\n\n      deepChatRef.onComponentRender = () => {\n        // save key to localStorage.\n        // The event occurs before key is set, and again, after key is set.\n        if (deepChatRef._activeService.key) {\n          if (localStorage.getItem(\"openai-key\") === null) {\n            localStorage.setItem('openai-key', deepChatRef._activeService.key);\n          }\n        }\n      };\n\n      deepChatRef.responseInterceptor = (response) => {\n        //console.log(response); // printed above\n        return response;\n      };\n    });    \n  </script>\n  \n  <main>\n    <!--\n      <h1>BIDARA</h1>\n      <div\n        style=\"\n          width:100%;\n          background-color: #f3f3f3;\n          border-radius: 10px;\n          padding: 12px;\n          padding-bottom: 15px;\n          text-align: left;\n          margin-left: auto;\n          margin-right: auto;\n        \"\n      >\n        <div>\n          <div style=\"font-size: 15px; line-height: 20px\">\n            <p><strong>BIDARA</strong> is a GPT-4 chatbot that was instructed to help scientists and engineers understand, learn from, and emulate the strategies used by living things to create sustainable designs and technologies.</p>\n\n            <p>BIDARA can guide users through the Biomimicry Institutes Design Process, a step-by-step method to propose biomimetic solutions to challenges. This process includes defining the problem, biologizing the challenge, discovering natural models, abstracting design strategies, and emulating nature's lessons.</p>\n\n            <p>\n              <strong>WARNING</strong><br/>\n              - Do not share any sensitive information in your conversations including but not limited to, personal information, sensitive or non-public government/company data, ITAR, CUI, export controlled, or trade secrets.<br/>\n              - While OpenAI has safeguards in place, BIDARA may occasionally generate incorrect or misleading information and produce offensive or biased content.<br/>\n              - The chatbot may produce inaccurate information about people, places, or facts.\n            </p>\n          </div>\n        </div>\n      </div>-->\n    <!-- demo/textInput are examples of passing an object directly into a property -->\n    <!-- initialMessages is an example of passing a state object into a property -->\n    <deep-chat\n      id=\"chat-element\"\n      directConnection={{\n        openAI: {\n          key: openai_key,\n          validateKeyProperty: true,\n          assistant: {\n            assistant_id: \"asst_0qjNhzjIMuwfjJJ2e4Cl8vdY\",\n            function_handler: (functionsDetails) => {\n              return functionsDetails.map((functionDetails) => {\n                let tmp = null;\n                if(functionDetails.name == \"get_weather\") {\n                  tmp = getCurrentWeather(functionDetails.arguments);\n                }\n                else if(functionDetails.name == \"get_time\") {\n                  tmp = getCurrentTime(functionDetails.arguments);\n                }\n                return tmp;\n              });\n            }\n          }\n        }\n      }}\n      _insertKeyViewStyles={{displayCautionText: false}}\n      demo={false}\n      mixedFiles={true}\n      textInput={{\n        styles: {\n          container: {\n            boxShadow: \"none\",\n            borderRadius: \"1em\",\n            border: \"1px solid rgba(0,0,0,0.2)\"\n          },\n          text: {\n            padding: \"0.4em 0.8em\",\n            paddingRight: \"2.5em\"\n          }\n        },\n        placeholder:{text: \"Say something\"}\n      }}\n      initialMessages={initialMessages}\n      chatStyle={{\n        width: \"100%\",\n        height: \"100dvh\",\n        backgroundColor: \"white\",\n        border: \"none\",\n        fontSize: \"16px\",\n        fontFamily: 'system-ui, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"'\n      }}\n      messageStyles={{\n        default: {\n          shared: {\n            bubble: {\n              maxWidth: \"75%\",\n              borderRadius: \"1em\",\n              padding: \".42em .7em\"\n            }\n          }\n        },\n        loading: {\n          shared: {\n            bubble: {\n              padding: \"0.6em 0.75em 0.6em 1.3em\"\n            }\n          }\n        }\n      }}\n      submitButtonStyles={{\n        submit: {\n          container: {\n            default: {\n              width: \"1em\",\n              height: \"1em\",\n              right: \"calc(10% + 0.3em)\",\n              bottom: \".85em\",\n              borderRadius: \"100vmax\",\n              padding: \"0.3em\",\n              backgroundColor: \"rgb(0, 132, 255)\"\n            }\n          },\n          svg: {\n            content: '<svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 115.4 122.88\"><title>up-arrow</title><path d=\"M24.94,67.88A14.66,14.66,0,0,1,4.38,47L47.83,4.21a14.66,14.66,0,0,1,20.56,0L111,46.15A14.66,14.66,0,0,1,90.46,67.06l-18-17.69-.29,59.17c-.1,19.28-29.42,19-29.33-.25L43.14,50,24.94,67.88Z\"/></svg>',\n            styles: {\n              default: {\n                filter: \"brightness(0) saturate(100%) invert(100%) sepia(0%) saturate(7500%) hue-rotate(315deg) brightness(99%) contrast(102%)\"\n              }\n            }\n          }\n        }\n      }}\n    />\n  </main>\n\n  <style>\n    main {\n      font-family: system-ui, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n      display: grid;\n    }\n  </style>\n\n","import App from \"./App.svelte\";\n\nconst app = new App({\n  target: document.body\n});\n\nexport default app;\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","detach","node","parentNode","removeChild","element","name","document","createElement","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_custom_element_data","prop","lower","toLowerCase","current_component","set_current_component","component","onMount","Error","get_current_component","$$","on_mount","push","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","seen_callbacks","Set","flushidx","flush","saved_component","length","update","e","pop","i","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","destroy_component","detaching","filtered","targets","c","indexOf","flush_render_callbacks","on_destroy","d","make_dirty","then","fill","init","options","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","Map","callbacks","skip_bound","root","target","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","block","delete","local","anchor","m","new_on_destroy","map","filter","mount_component","SvelteComponent","undefined","$$set","$destroy","this","$on","type","index","splice","$set","obj","keys","_toConsumableArray","arr","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","_iterableToArray","_unsupportedIterableToArray","TypeError","_nonIterableSpread","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","done","_e2","f","err","normalCompletion","didErr","call","step","next","_e3","minLen","prototype","toString","slice","constructor","test","len","arr2","_wrapNativeSuper","Class","_cache","Function","_isNativeFunction","get","set","Wrapper","_construct","arguments","_getPrototypeOf","enumerable","writable","configurable","_setPrototypeOf","Parent","args","_isNativeReflectConstruct","Reflect","construct","bind","apply","_inherits","subClass","superClass","defineProperty","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","result","Super","NewTarget","self","_typeof","_assertThisInitialized","_possibleConstructorReturn","ReferenceError","sham","Proxy","Boolean","valueOf","getPrototypeOf","_regeneratorRuntime","t","r","hasOwnProperty","asyncIterator","u","toStringTag","define","wrap","Generator","Context","makeInvokeMethod","tryCatch","arg","h","y","GeneratorFunction","GeneratorFunctionPrototype","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","mark","awrap","async","reverse","prev","charAt","stop","rval","handle","complete","finish","catch","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_classCallCheck","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","toPrimitive","String","Number","_toPrimitive","window","__svelte","bs","id","innerText","replaceChildren","Dt","innerHTML","createElements","onSuccess","onFail","render","onLoad","verifyKey","T","reduce","assign","style","click","unsetStyle","hover","unsetActivityCSSMouseStates","JSON","parse","stringify","default","Bn","Ot","applyStyleSheet","_unused","addStyleElement","CSSStyleSheet","replaceSync","adoptedStyleSheets","appendChild","applyToStyleIfNotDefined","DEFAULT_COMPONENT_STYLE","height","width","border","fontFamily","fontSize","backgroundColor","position","overflow","Ei","R","ESCAPE","ENTER","TAB","ARROW_UP","ARROW_DOWN","ARROW_RIGHT","ARROW_LEFT","BACKSPACE","DELETE","META","CONTROL","ge","IS_SAFARI","navigator","userAgent","IS_CHROMIUM","chrome","zn","nt","addEventListener","onKeyDown","oninput","onInput","textContent","PERMITTED_KEYS","isKeyCombinationPermitted","preventDefault","ctrlKey","metaKey","substring","Qt","focusEndOfInput","vs","ys","clipboardData","getData","execCommand","Un","qe","_this","processConfig","textInput","elementRef","createContainerElement","styles","container","inputElementRef","createInputElement","_config","setTimeout","characterLimit","_validationHandler","TEXT_INPUT_ID","classList","placeholder","text","preventAutomaticScrollUpOnNewLine","disabled","contentEditable","addEventListeners","contains","remove","onfocus","onFocus","focus","onblur","onBlur","onKeydown","onpaste","sanitizePastedTextContent","_this2","removeTextIfPlaceholder","shiftKey","submit","_t2","_t$disabled","_t$placeholder","_i$text","isTextInputDisabled","textInputPlaceholderText","scrollY","scrollTo","top","qi","createRange","selectNodeContents","collapse","getSelection","removeAllRanges","addRange","querySelector","concat","on","toUpperCase","Hi","xs","an","C","INVALID_KEY","CONNECTION_FAILED","INVALID_RESPONSE","INVALID_MODEL_REQUEST","INVALID_MODEL_RESPONSE","INVALID_STREAM_EVENT","INVALID_STREAM_EVENT_MIX","NO_VALID_STREAM_EVENTS_SENT","qn","Hn","_len","_key","scrollHeight","clientHeight","scrollTop","CODE_SNIPPET_GENERATION_JUMP","cloneNode","replaceChild","Y","Gn","Vn","SpeechSynthesisUtterance","speechSynthesis","speak","lang","pitch","rate","volume","voiceName","getVoices","find","toLocaleLowerCase","voice","LOAD_VOICES_MS","Nt","ke","containerStyle","console","file","files","validateMessageBeforeSending","ei","xe","_ret","_loop","bubbleElement","role","getLastElementsByClass","getRoleClass","getLastMessage","trim","EMPTY_MESSAGE_CLASS","getLastMessageElement","AI_ROLE","USER_ROLE","kt","Te","unsetAllCSSMouseStates","mouseEnter","mouseLeave","mouseDown","mouseUp","Ri","padding","paddingLeft","paddingRight","borderRadius","cursor","ln","be","submitUserMessage","events","overwriteDefaultWithAlreadyApplied","unshift","mergeStatefulStyles","processStateful","getElementsByClassName","getProcessedStyles","se","applyStylesToElement","applyEvents","applySuggestionEvent","applyEventsToElement","doesElementContainDeepChatClass","applyClassUtilitiesToElement","applyDeepChatUtilities","htmlClassUtilities","applyCustomClassUtilities","Ye","createNewMessageElement","messages","overwriteMessage","outerContainer","flagHTMLUpdateClass","status","overwrite","fillEmptyMessageElement","applyCustomStyles","messageStyles","html","addElement","Wn","Ts","Kn","As","ft","replace","Jn","Oi","fromCharCode","ks","Is","Ls","charCodeAt","parseInt","Ie","Rs","Os","Ns","Ps","z","$n","tight","content","blockquote_open","blockquote_close","Re","code","fence","langPrefix","params","split","join","Cs","rules","fence_custom","highlight","heading_open","hLevel","heading_close","hr","xhtmlOut","bullet_list_open","bullet_list_close","list_item_open","list_item_close","ordered_list_open","order","ordered_list_close","paragraph_open","paragraph_close","link_open","title","linkTarget","href","link_close","image","src","alt","table_open","table_close","thead_open","thead_close","tbody_open","tbody_close","tr_open","tr_close","th_open","align","th_close","td_open","td_close","strong_open","strong_close","em_open","em_close","del_open","del_close","ins_open","ins_close","mark_open","mark_close","sub","sup","hardbreak","softbreak","breaks","htmlblock","htmltag","abbr_open","abbr_close","footnote_ref","subId","footnote_block_open","footnote_block_close","footnote_open","footnote_close","footnote_anchor","dl_open","dt_open","dd_open","dl_close","dt_close","dd_close","getBreak","Gi","H","__rules__","__cache__","Oe","env","parser","tokens","pos","posMax","level","pending","pendingLevel","cache","isInLabel","linkLevel","linkContent","labelUnmatchedScopes","mt","skipToken","js","abbreviations","Ni","decodeURI","_unused2","encodeURI","Yn","validateLink","Zn","Xn","Bs","references","renderInline","__find__","__compile__","enabled","at","before","after","enable","disable","getRules","pushPending","cacheSet","cacheGet","cn","Si","Gs","Vs","Ws","tm","Ks","$s","dn","Ys","hn","ze","substr","wi","inlineMode","lines","inline","footnotes","label","list","count","abbrRegExp","sort","RegExp","lastIndex","exec","typographer","S","w","single","token","quotes","Qn","ruler","Ne","bMarks","eMarks","tShift","blkIndent","line","lineMax","parentType","ddIndent","pn","process","isEmpty","skipEmptyLines","skipSpaces","skipChars","skipCharsBack","getLines","Math","min","es","ar","lr","_i","It","Lt","maxNesting","tokenize","G","A","V","X","Q","N","Be","xi","oe","ir","refs","cr","match","Vi","mr","gr","br","vr","Wi","mn","gn","bn","can_open","can_close","delims","Cr","kr","Nr","Pr","Dr","ti","source","qr","Hr","Gr","Yr","Qr","eo","Mi","Zr","ii","io","oo","components","core","full","commonmark","ts","renderer","he","linkify","warn","configure","use","parseInline","Pi","hljs","getLanguage","_unused3","highlightAuto","_unused4","is","Pt","startsWith","wrapInLink","waitToLoadThenScroll","fetch","mode","_unused5","ref","message","DEFAULT_FILE_NAME","ne","jt","isInitial","reAddFileRefToObject","onNewMessage","dispatchEvent","CustomEvent","detail","onClearMessages","onComponentRender","onError","D","innerContainer","bubble","tagName","media","applyCustomStylesToElements","shared","user","ai","isMessageSideStyles","applySideStyles","ce","avatar","_i2","_i3","_i4","createAvatar","getPosition","insertAdjacentElement","Ve","_i5","_i6","_i7","getNameText","applyStyle","createName","Ke","_this3","messageElementRefs","textElementsToText","_remarkable","createNew","_avatars","avatars","_names","names","_onNewMessage","overwriteText","createAndAppendNewMessageElement","renderText","getLastTextToElement","_this4","scrollToBottom","_introPanel","hide","isTemporaryElement","createMessageElements","createBaseElements","addInnerContainerElements","_this5","isElementTemporary","_sessionId","Ki","st","_streamedContent","_streamType","_hasStreamEnded","_messages","isScrollbarAtBottomOfElement","_elements","updateBasedOnType","setInitialState","_i8","addNewTextMessage","MESSAGE_CLASS","_activeMessageRole","unfillEmptyMessageElement","updateText","updateHTML","HTML_CONTENT_PLACEHOLDER","_this$_messages","getLastMessageBubbleElement","textToSpeech","sendClientUpdate","createMessageContent","Ze","ns","rt","_processRequestInterceptor","_tempRemoveContentHeader","_callee","_context","headers","CONTENT_TYPE","t0","_x5","_x6","_x7","addNewErrorMessage","_fetch","_x","_x2","_x3","_x4","requestSettings","body","credentials","url","includes","json","blob","_callee2","_context2","requestInterceptor","_x8","_x9","E","co","_x10","_x11","_co","_callee104","_context104","getReader","read","uo","Uint8Array","po","subarray","ho","data","event","retry","TextDecoder","decode","fo","globalThis","__rest","propertyIsEnumerable","Di","yn","go","signal","onopen","onmessage","onclose","onerror","openWhenHidden","abort","hidden","accept","removeEventListener","clearTimeout","bo","_X","_callee3","_context3","AbortController","aborted","ss","ot","customDemoResponse","getCustomResponse","generateResponse","getResponse","_callee4","_context4","deepChat","responseInterceptor","completionsHandlers","onFinish","I","isSimulation","stream","simulate","streamHandlers","addNewMessage","URL","ve","_request","_callee7","_yield$E$processReque","_e$streamHandlers","_args7","_context7","processRequestInterceptor","onOpen","onClose","abortStream","onInterceptorError","handler","Ae","requestStream","_callee5","_context5","ok","processResponseByType","_callee6","_context6","extractResultData","upsertStreamedMessage","displayError","finaliseStreamedMessage","_x12","_x13","_x14","sendUpdate","ignoreText","populateMessages","simulationInterim","simulation","_request2","_callee9","_context9","_ref2","_callee8","_context8","validateResponseFormat","_x18","generateOptionalSignals","onResponse","_x15","_x16","_x17","stopClicked","isOpen","newUserMessage","listener","websocket","_ref3","_callee10","_context10","isLastMessageError","_x19","removeError","_","_poll","_request3","_callee12","_yield$E$processReque2","_args12","_context12","request","_ref4","_callee11","_context11","makingAnotherRequest","_x23","_x20","_x21","_x22","_ref5","_callee13","_context13","extractPollResultData","t1","t2","timeoutMS","executePollRequest","_x24","_callee14","_yield$E$processReque3","_args14","_context14","_x25","_x26","_x27","Xe","max","getMaxMessages","getCharacterLimitMessages","$","_sendWebsocket","permittedErrorPrefixes","WebSocket","assignListeners","retryConnection","createConnection","_ref6","_callee15","_context15","_x28","_callee16","_yield$E$processReque4","_args16","_context16","isWebSocket","readyState","OPEN","send","_x29","_x30","_x31","L","button","infoModal","textMarkDown","infoModalTextMarkUp","acceptedFormats","maxNumberOfFiles","fileTypes","mixedFiles","parseConfig","_l$files","_p$maxNumberOfFiles","audio","mediaDevices","getUserMedia","recordAudio","format","maxDurationSeconds","gifs","_l$files2","images","camera","modalContainerStyle","dimensions","_e$files","_i$acceptedFormats","_n$maxNumberOfFiles","populateDefaultFileIO","processImagesConfig","processCamera","processGifConfig","processAudioConfig","processMicrophone","microphone","processMixedFiles","Le","_a$url","rawBody","validateConfigKey","canSendMessage","demo","additionalBodyProps","totalMessagesMaxCharLength","requestBodyLimits","maxMessages","setup","_extractResultData","_callAPI","_callServiceAPI","_callApiWithFiles","_callAPIWithText","_request4","endsWith","_callee17","_args17","_context17","_x32","_x33","_callee18","_o$headers","_a$ContentType","_context18","_x34","_x35","_callee19","_context19","createCustomFormDataBody","getServiceIOByType","_x36","_x37","_x38","_callee20","_context20","callApiWithFiles","callAPIWithText","_x39","_x40","_x41","_callee21","_context21","processMessages","sendWebsocket","callServiceAPI","_x42","_x43","_callee22","_context22","handleResponseProperty","_x44","FormData","append","U","_Le","_super","_this6","insertKeyPlaceholderText","getKeyLink","keyVerificationDetails","buildHeadersFunc","setApiKeyProperties","buildRequestSettings","validateKeyProperty","_i$headers","_this$keyVerification","handleVerificationResult","createHeaders","keyAuthenticated","Ft","_propUpdated_","waitForPropertiesToBeUpdatedBeforeRender","_waitingToRender_","onRender","Ji","_HTMLElement","He","_super2","_this7","_attributeToProperty_","constructPropertyAccessors","attemptRender","_attributes_","HTMLElement","vo","q","DOMParser","parseFromString","documentElement","rs","Ge","VISIBLE_ICON_ID","display","createSVGElement","createIconElement","onclick","changeVisibility","Eo","P","createFailText","createHelpLink","_o2","createCautionText","helpTextContainerElement","failTextElement","onkeydown","onInputFocus","createInput","createStartButton","_P$createHelpTextCont","createHelpTextContainer","_insertKeyViewStyles","displayCautionText","addVerificationEvents","createContents","yt","pe","webLLM","$i","MODULE_SEARCH_LIMIT_S","enableButtons","downloadClass","DOWNLOAD_BUTTON_CLASS","uploadClass","UPLOAD_BUTTON_CLASS","fileInputClass","FILE_INPUT_CLASS","onchange","initialHtml","_loop2","createObjectURL","download","revokeObjectURL","exportFilesClass","EXPORT_BUTTON_CLASS","exportFile","afterLoadHtml","xn","En","model_list","model_url","local_id","model_lib_url","required_features","use_web_worker","et","_Le2","M","_processResponse","_callServiceAPI2","_generateResp","_generateRespByType","_streamResp","_immediateResp","_unloadChat","_loadModel","_init","_configureInit","_super3","_this8","_isModelLoaded","_isModelLoading","_loadOnFirstMessage","_webModel","MULTIPLE_MODELS_ERROR","WEB_LLM_NOT_FOUND_ERROR","GENERIC_ERROR","_conversationHistory","webModel","load","clearCache","clearAllCache","findModelInWindow","canSubmit","_chatEl","shadowRoot","initialMessages","setUpHistory","_this9","_removeIntro","removeIntroductoryMessage","_this10","configureInit","shouldAddInitialMessage","introMessage","displayed","_this11","autoScroll","scrollToTop","setUpInitial","worker","_callee23","_context23","onInit","onMessage","_x45","_callee24","_context24","attemptToCreateChat","loadModel","_x46","chat","ChatWorkerClient","ChatModule","DEFAULT_MODEL","model","urls","wasm","skipCache","use_cache","appConfig","_callee25","_this$getConfig","_h","_this12","_context25","setInitProgressCallback","getConfig","instruction","conv_config","system","conversation_history","reload","unloadChat","removeAfterLoad","removeLastMessage","setUpAfterLoad","_x47","_x48","_callee26","_context26","unload","_x49","_callee27","_context27","generate","processResponse","_x50","_x51","_x52","_callee29","_this13","_context29","interruptGenerate","_ref7","_callee28","_context28","_x56","_x57","_x53","_x54","_x55","_callee30","_context30","streamResp","immediateResp","log","_x58","_x59","_x60","_x61","_callee31","_yield$E$processReque5","_context31","generateRespByType","_x62","_x63","_x64","_callee32","_context32","removeAfterMessage","addLoadingMessage","generateResp","_x65","_x66","_callee33","_context33","_x67","_x68","_x69","caches","open","Bt","Authorization","os","_U","ji","_callServiceAPI3","_super4","_this14","buildKeyVerificationDetails","buildHeaders","introPanelMarkUp","URL_PREFIX","parameters","_n$options","wait_for_model","inputs","_callee34","_context34","preprocessBody","_x70","_x71","_x72","Pe","xt","_Pe","_callServiceAPI4","_super5","_this15","canSendFile","_callee35","_context35","poll","_x73","_x74","_x75","So","_xt","_extractPollResultData","_super6","directConnection","huggingFace","audioClassification","_callee36","_context36","estimated_time","_x76","wo","_xt2","_extractPollResultData2","_super7","imageClassification","_callee37","_context37","_x77","Et","re","ni","_U2","_super8","_this16","zt","_ni","_extractResultData2","_callServiceAPI5","_super9","_this17","stabilityAI","imageToImageUpscale","engine_id","cleanConfig","canSendFileMessage","_callee38","_context38","createFormDataBody","tempRemoveContentHeader","_x78","_x79","_x80","_callee39","_context39","artifacts","base64","_x81","Ut","_ni2","_extractResultData3","_callServiceAPI6","_super10","_this18","_maskSource","imageToImageMasking","weight","_imageWeight","mask_source","canSendFileTextMessage","_callee40","_context40","_x82","_x83","_x84","_callee41","_context41","_x85","_o","_xt3","_extractPollResultData3","_super11","audioSpeechRecognition","_callee42","_context42","_x86","Mo","_Pe2","_extractResultData4","_super12","textGeneration","_callee43","_context43","generated_text","_x87","To","_Pe3","_extractResultData5","_super13","_this19","questionAnswer","question","_callee44","_context44","answer","_x88","Co","_Pe4","_extractResultData6","_super14","summarization","_callee45","_context45","summary_text","_x89","Ao","_Pe5","_extractResultData7","_super15","_this20$maxMessages","_this20","conversation","past_user_inputs","generated_responses","mostRecentMessageText","_i$options","_callee46","_context46","_x90","qt","_ni3","_extractResultData8","_callServiceAPI7","_super16","_this21","imageToImage","_callee47","_context47","_x91","_x92","_x93","_callee48","_context48","_x94","ko","_Pe6","_extractResultData9","_super17","translation","_callee49","_context49","translation_text","_x95","Ht","_ni4","_extractResultData10","_callServiceAPI8","_super18","_this22","textToImage","canSendTextMessage","text_prompts","_callee50","_context50","_x96","_x97","_callee51","_context51","_x98","Io","_Pe7","_extractResultData11","_super19","_this23","fillMask","_callee52","_context52","sequence","_x99","Gt","prompt","Yi","_U3","_super20","_this24","Lo","_Yi","_extractResultData12","_callServiceAPI9","_super21","cohere","_callee53","_context53","_x100","_x101","_callee54","_context54","generations","_x102","Ro","_Yi2","_extractResultData13","_callServiceAPI10","_super22","_callee55","_context55","_x103","_x104","_callee56","_context56","summary","_x105","O","_directFetch","_storeFiles","_callee58","_context58","_ref8","_callee57","_context57","directFetch","_x109","all","_x106","_x107","_x108","_callee59","_args59","_context59","_x110","_x111","_x112","Zi","_U4","Fi","_extractResultData14","_callServiceAPI11","_super23","_o$model","_a$voice","_this25","openAI","DEFAULT_VOIDE","response_format","input","_callee60","_context60","_x113","_x114","_callee61","_context61","Blob","FileReader","readAsDataURL","onload","_x115","Oo","si","_U5","Ee","_extractResultData15","_callServiceAPI12","_super24","_o$model2","_this26","_service_url","AUDIO_TRANSCRIPTIONS_URL","AUDIO_TRANSLATIONS_URL","language","_callee62","_context62","_x116","_x117","_x118","_callee63","_context63","_x119","No","Z","Accept","handleSpeechVerificationResult","handleLanguageVerificationResult","buildTranslationHeaders","handleTranslationVerificationResult","Do","_Po","_extractPollResultData4","_extractResultData16","_callServiceAPI13","_super26","_a$language","_this28","azure","buildSummarizationHeader","endpoint","analysisInput","documents","tasks","kind","_callee64","_context64","_x120","_x121","_callee65","_i9","_context65","_x122","_callee66","_iterator","_step","_i10","_context66","errors","items","results","sentences","_x123","_U6","Po","_super25","_this27","buildLanguageKeyVerificationDetails","ct","_poll2","_callee67","_context67","authorization","audio_url","_x124","_x125","Xi","_U7","_extractResultData17","_callServiceAPI14","_super27","_this29","assemblyAI","canFileSendMessage","_callee68","_context68","_x126","_x127","_x128","_callee69","_context69","upload_url","_x129","as","_U8","_super28","_this30","buildSpeechKeyVerificationDetails","ls","_as","cs","_extractResultData18","_callServiceAPI15","_super29","_a$lang","_l$name","_c$gender","_this31","buildTextToSpeechHeaders","outputFormat","region","HELP_LINK","gender","_callee70","_context70","_x130","_x131","_callee71","_context71","_x132","jo","ds","_as2","Bi","_extractResultData19","_callServiceAPI16","_super30","_this32","speechToText","buildSpeechToTextHeaders","_callee72","_context72","_x133","_x134","_x135","_callee73","_context73","DisplayText","_x136","Fo","Bo","_U9","_extractResultData20","_callServiceAPI17","_super31","_this33","buildTranslationKeyVerificationDetails","Text","_callee74","_context74","_x137","_x138","_callee75","_context75","translations","_x139","Qi","_U10","ae","_handleTools","_getFiles","_extractPollResultData5","_assignThreadAndRun","_extractResultData21","_callServiceAPI18","_super32","_l$headers","_c$OpenAIBeta","_this34","searchedForThreadId","assistant","assistant_id","function_handler","_functionHandler","file_ids","processMessage","thread","sessionId","THREAD_PREFIX","_n2","createNewThreadMessages","_callee76","_context76","searchPreviousMessagesForThreadId","storeFiles","callService","_x140","_x141","_x142","_callee77","_context77","assignThreadAndRun","run_id","_x143","_callee78","_context78","thread_id","_x144","_callee79","_context79","required_action","POLLING_TIMEOUT_MS","image_file","file_id","getFiles","submit_tool_outputs","tool_calls","handleTools","_x145","_callee80","_this35","_context80","_x146","_callee81","_context81","tool_call_id","output","tool_outputs","_x147","zo","ri","_U11","Se","_extractResultData22","_callServiceAPI19","_super33","_this36","size","IMAGE_EDIT_URL","IMAGE_VARIATIONS_URL","_callee82","_context82","callApiWithImage","IMAGE_GENERATION_URL","_x148","_x149","_x150","_callee83","_context83","b64_json","_x151","Uo","dt","_U12","_handleTools2","_extractResultData23","_callServiceAPI20","_super34","_this37$maxMessages","_l$model","_this37","_systemMessage","generateSystemMessage","system_prompt","_i$max_tokens","getContent","max_tokens","_callee84","_context84","_x152","_x153","_callee85","_context85","choices","delta","_x154","_x155","_x156","_callee86","_context86","response","tools","tool_choice","_x157","_x158","_x159","image_url","qo","_Yi3","_extractResultData24","_callServiceAPI21","_super35","_this38$maxMessages","_this38","query","chat_history","user_name","_callee87","_context87","_x160","_x161","_callee88","_context88","_x162","Ho","us","zi","getElementsByTagName","some","FONT_URL","_i11","rel","Go","hs","attibutes","string","number","parseFloat","boolean","object","array","function","en","color","getComputedStyle","padStart","loading","colorToHex","setProperty","Vt","_isDisplayed","_elementRef","createIntroPanelWithChild","createInternalIntroPanel","createIntroPanel","Vo","isDirectConnection","fe","_addNewImageMessage","Image","scrollDownOnImageLoad","processContent","_callee89","_context89","createImage","addMessage","_x163","_x164","_x165","controls","createAudioElement","createAnyFile","removeFileRef","addNewAudioMessage","addNewImageMessage","addNewAnyFileMessage","me","_Ke","_addMultipleFiles","_super36","_this39","_errorMessageOverrides","errorMessages","overrides","_onClearMessages","_onError","_displayLoadingMessage","getDisplayLoadingMessage","_permittedErrorPrefixes","addSetupMessageIfNeeded","populateIntroPanel","introPanelStyle","addIntroductoryMessage","populateInitialMessages","_displayServiceErrorMessages","displayServiceErrorMessages","getMessages","clearMessages","refreshMessages","refreshTextMessages","_addMessage","isWebModel","setUpMessages","prepareDemo","displayErrors","service","displayLoadingBubble","getText","_i12","_introMessage","getIntroMessage","shift","_this40","processInitialMessageFile","addMessages","isValidMessageContent","updateStateOnMessage","removeMessageOnError","getPermittedMessage","extractParticularSharedStyles","checkPermittedErrorPrefixes","_t3","_i13","_callee90","_context90","_n3","_x166","_e$displayLoadingBubb","_i14","St","W","INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS","INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS","INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS","INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS","adjustOutsideSubmit","adjustForOutsideButton","adjustInputPadding","Ko","Qe","insertBefore","firstChild","getContainerIndex","Sn","j","createTextElement","svg","createCustomElement","processElement","createSpecificStateElement","te","setElementsCSS","wt","_mouseState","state","_customStyles","dropupText","unsetAllCSS","unsetActionCSS","buttonMouseEnter","onmousedown","buttonMouseDown","onmouseup","buttonMouseUp","onmouseenter","onmouseleave","buttonMouseLeave","_i15","unsetCustomStateStyles","setElementCssUpToState","setEvents","gt","focusSiblingItem","MouseEvent","focusItemWhenOnEdge","_e","highlightedItem","createItemText","createItemIcon","iconContainer","item","populateItem","addItemEvents","tn","_this41","_isOpen","_styles","close","addWindowEvents","createItem","clickEvent","windowClick","keyDownEvent","windowKeyDown","isConnected","parentElement","Je","_wt","_super37","_this42","createButtonElement","createInnerElements","_menu","menu","addClickEvent","buttonContainer","createButtonContainer","reapplyStateStyle","addContainerEvents","createInnerElement","createSVGIconElement","toggle","addItem","_this43","findIndex","buttonType","addButton","createPositionsObj","setPosition","generatePositions","addToSideContainer","addToDropup","Qo","svgString","ue","_this44","_attachments","_fileCountLimit","_acceptedFormat","_toggleContainerDisplay","_fileAttachmentsContainerRef","isFileTypeValid","addAttachmentBasedOnType","getTypeFromBlob","createImageAttachment","addFileAttachment","_r2","Ui","createAudioAttachment","_r3","createAnyFileAttachment","createContainer","removeButton","attachmentContainerElement","fileType","createRemoveAttachmentButton","removeAttachment","stopAttachmentPlayback","wn","ps","_ue","we","_super38","_this45","TIMER_LIMIT_S","setInterval","stopPlaceholderCallback","clearTimer","floor","createAudioContainer","_activePlaceholderTimer","createTimer","addPlaceholderAudioAttachmentEvents","_this46","createPlaceholderAudioAttachment","_activePlaceholderAttachment","File","addAudioElements","clearInterval","cloneElement","onplay","onpause","currentTime","onended","paused","play","pause","ta","_t","_fileAttachmentsTypes","createAttachmentContainer","displayFileAttachmentContainer","toggleContainerDisplay","_completePlaceholders","flat","_callee92","_context92","_ref11","_callee91","_context91","_x167","addFilesToType","removeAllAttachments","attemptAddFile","fs","le","_contentRef","createModalContent","_buttonPanel","createButtonPanel","_backgroundPanelRef","createDarkBackgroundPanel","_this47","_len2","_key2","_this48","MODAL_CLOSE_TIMEOUT_MS","displayModalElements","_this49","createSVGButton","createTextButton","addButtons","extensionCloseCallback","_i$classList","addCloseButton","openTextModal","ut","_wt2","_super39","_this50","_inputElement","_fileAttachmentsType","_openModalOnce","openModalOnce","triggerImportPrompt","createTextModalFunc","multiple","de","addEvents","ondragenter","ondragleave","ondragover","ondrop","uploadFile","dataTransfer","addFilesToAnyType","getNumberOfTypes","Me","_useValidationFuncProgrammatic","_useValidationFunc","changeToSubmitIcon","changeToDisabledIcon","_callee93","_context93","completePlaceholders","getAllFileData","validate","_x168","_x169","_x170","_x171","_callee94","_context94","_x172","_x173","_x174","validateInput","processValidateInput","_ref12","_callee95","_context95","loadingActive","requestInProgress","isSubmitProgrammaticallyDisabled","validateWebsocket","useValidationFuncProgrammatic","useValidationFunc","_x175","bt","_wt3","_super40","_this51","createMicrophoneElement","isActive","_innerElements","changeToDefault","active","unsupported","commandMode","toggleIconFilter","ms","oi","Mt","De","ye","FIRST_CHAR_REGEX","DOUBLE_LINE","ONE_LINE","Translate","na","sa","breakupIntoWordsArr","WebSpeechTranscript","_n","ra","resultIndex","transcript","translate","isFinal","interimTranscript","finalTranscript","newText","tt","Browser","lt","_IS_SAFARI","Tt","li","EventListeners","J","_this52","getElementIfFocusedOnAvailable","activeElement","KEY_DOWN_TIMEOUT","resetRecording","mouseDownElement","insertInCursorLocation","mouseDownEvent","mouseDownWindow","mouseUpEvent","mouseUpWindow","keyDownWindow","ci","PreResultUtils","oa","restart","removeNewText","Ct","At","AutoScroll","nn","isCursorAtEnd","endPadding","scrollingSpan","scrollIntoView","scrollLeft","scrollWidth","clientWidth","isElementOverflown","je","Elements","aa","pointerEvents","spansPopulated","_i16","focusNode","getRangeAt","insertNode","interimSpan","finalSpan","interim","getRootNode","ShadowRoot","Fe","Cursor","ht","setOffsetForGeneric","_a2","setStart","getGenericElementCursorOffset","blur","setSelectionRange","rangeCount","cloneRange","setEnd","startContainer","startOffset","endContainer","endOffset","CommandUtils","Mn","la","ca","Tn","Cn","K","caseSensitive","substrings","settings","processCommand","isWaitingForCommand","onCommandModeTrigger","toggleCommandModeOff","isPrimitiveElement","isTargetInShadow","setOffsetForPrimitive","scrollSafariPrimitiveToEnd","focusEndOfGeneric","scrollGeneric","commands","checkIfMatchesWord","checkIfMatchesSubstring","setInterimColorToFinal","toggleCommandModeOn","doNotProcessTranscription","isPaused","onPauseTrigger","resume","setText","removeAllText","di","Highlight","da","Wt","selectionStart","selectionEnd","isHighlighted","setStateForPrimitive","setStateForGeneric","deleteFromDocument","ui","Padding","ua","An","Ue","Kt","isCharDefined","startPadding","numberOfSpacesBeforeNewText","numberOfSpacesAfterNewText","setStateForPrimitiveElement","setStateForGenericElement","primitiveTextRecorded","Speech","kn","ha","In","Rt","Ti","ie","Ci","Ln","Rn","Ai","pa","createInterimSpan","createGenericSpan","recognizing","_displayInterimResults","isRestarting","cannotBeStopped","resetState","prepare","displayInterimResults","textColor","_finalTextColor","applyCustomColors","_onResult","onResult","_onPreResult","onPreResult","_onStart","onStart","_onStop","onStop","_options","setState","isInsideShadowDOM","_primitiveElement","_originalText","_genericElement","start","capitalize","updatePrimitiveElement","updateGenericElement","removeForPrimitive","adjustStateAfterRecodingPrimitiveElement","adjustSateForNoTextPrimitiveElement","removeForGeneric","appendSpans","lineBreak","isRequired","changeStateIfNeeded","setOffsetForSafariGeneric","stopTimeout","WebSpeech","On","Nn","Jt","_fa$Speech","_super41","_extractText","extractSafari","extract","prepareBeforeStart","instantiateService","_service","_translations","getAPI","continuous","interimResults","_this53","onstart","setStateOnStart","onaudioend","setStateOnStop","onend","_stopping","onresult","_this53$_extractText","_i17","updateElements","finalise","setStateOnError","webkitSpeechRecognition","SpeechRecognition","hi","GlobalState","$e","doubleClickPending","pi","fi","PreventConnectionStop","ma","_manualConnectionStopPrevention","mi","gi","README_URL","AzureSpeechConfig","ki","$t","_get","_getNewSpeechConfig","subscriptionKey","retrieveToken","_callee96","_context96","fromSubscription","fromAuthorizationToken","_x176","_x177","speechRecognitionLanguage","_callee97","_context97","getNewSpeechConfig","_x178","_x179","bi","StopTimeout","vt","stopTimeoutMS","DEFAULT_MS","vi","AzureTranscript","ga","ba","Azure","Pn","Dn","Ii","jn","Yt","_va$Speech","_instantiateService","_startAsync","_super42","_this54","_newTextPadding","stopAfterSilenceMs","startAsync","applyPrevention","_callee98","_context98","startContinuousRecognitionAsync","_x180","validateOptions","moduleNotFound","_callee99","_context99","AudioConfig","fromDefaultMicrophoneInput","SpeechConfig","SpeechRecognizer","retrieveTokenInterval","_x181","onRecognizing","recognized","onRecognized","sessionStarted","onSessionStarted","canceled","onCanceled","sessionStopped","onSessionStopped","_jn$AzureTranscript$e","reason","SpeechSDK","ResultReason","Canceled","RecognizedSpeech","_jn$AzureTranscript$e2","CancellationReason","errorDetails","clearPrevention","_retrieveTokenInterval","_this55","authorizationToken","stopContinuousRecognitionAsync","Fn","ya","ee","xa","We","startWebSpeech","startAzure","doubleClickDetector","Li","Zt","_bt","_super43","_this56","_Zt$processConfigurat","processConfiguration","serviceName","processedConfig","_addErrorMessage","isWebSpeechSupported","buttonClick","changeToUnsupported","changeToActive","changeToCommandMode","_i$displayInterimResu","_i$textColor","_i$translations","_i$commands","webSpeech","endCommandMode","getServiceName","gs","Date","getHours","getMinutes","getSeconds","Ea","_bt2","_super44","_this57","_waitingForBrowserApproval","_audioType","_extension","_maxDurationSeconds","record","_this58","_mediaRecorder","_mediaStream","getTracks","_this59","MediaRecorder","addPlaceholderAttachment","createFile","_this60","getFileName","_newFilePrefix","completePlaceholderAttachment","B","_e$n","_e$n2","setPropertyValueIfDoesNotExist","_e$n3","setPropertyValue","getObjectValue","Ce","overwritePropertyObjectFromAnother","overwriteDefaultStyleWithSubmit","alwaysEnabled","setUpDisabledButton","yi","_wt4","k","_addNewMessage","_attemptSubmit","_programmaticSubmit","_submitFromInput","_super45","_this61","submitButtonStyles","createButtonContainerElement","_isSVGLoadingIconOverriden","_inputElementRef","_fileAttachments","_abortStream","_stopClicked","_serviceIO","_alwaysEnabled","disableSubmitButton","attemptOverwriteLoadingStyle","assignHandlers","_j$create","createSubmitIconElement","createLoadingIconElement","createStopIconElement","createDisabledIconElement","resetSubmit","changeToStopIcon","_callee100","_i18","_context100","attemptSubmit","_callee101","_this62","_context101","processSubmitUserMessage","_x182","_callee102","_args102","_context102","changeToLoadingIcon","callAPI","removeAllFiles","_x183","_callee103","_ref13","_context103","addMultipleFiles","_x184","LOADING_CLASS","DISABLED_CLASS","SUBMIT_CLASS","stopStream","submitFromInput","wa","sn","_at","_super46","_this63","_stopped","_format","_canvas","_this63$addButtonsAnd","addButtonsAndTheirEvents","captureButton","submitButton","_captureButton","_submitButton","_captureIcon","_refreshIcon","_dimensions","addButtonEvents","_this64","capture","getFile","_this65","getContext","clearRect","_this66","_dataURL","video","srcObject","requestAnimationFrame","updateCanvas","toDataURL","atob","_i19","videoWidth","videoHeight","_i20","drawImage","openCameraModal","Xt","_wt5","_super47","_this67","createCameraModalFunc","pt","createPanelElement","inputAreaStyle","createFileUploadComponents","attach","programmaticSubmit","addElements","dropupStyles","attachmentContainerStyle","createUploadButtons","addType","_d","isEnabled","dragAndDrop","_Qo$a","rn","Ia","La","x","_vo","_super48","_this68","focusInput","focusFromParentElement","_hasBeenRendered","_auxiliaryStyleApplied","appendStyleSheetToHead","attachShadow","_activeService","_this$_childElement","auxiliaryStyle","applyDefaultStyleToComponent","chatStyle","checkForContainerStyles","changeToChatView","_childElement","deep_chat","boxShadow","maxWidth","right","bottom","insert","main","queryString","location","search","openai_key","URLSearchParams","localStorage","getItem","deepChatRef","getElementById","setItem","functionsDetails","functionDetails","tmp","getCurrentTime","customElements"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8]}